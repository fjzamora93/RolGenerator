import{a as j,b as ge,c as ZI,d as rr,e as _}from"./chunk-AGYSVWMR.js";function UP(t,e){return Object.is(t,e)}var tt=null,bl=!1,wl=1,Ii=Symbol("SIGNAL");function _e(t){let e=tt;return tt=t,e}function e0(){return tt}var _l={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function t0(t){if(bl)throw new Error("");if(tt===null)return;tt.consumerOnSignalRead(t);let e=tt.nextProducerIndex++;if(Il(tt),e<tt.producerNode.length&&tt.producerNode[e]!==t&&za(tt)){let n=tt.producerNode[e];El(n,tt.producerIndexOfThis[e])}tt.producerNode[e]!==t&&(tt.producerNode[e]=t,tt.producerIndexOfThis[e]=za(tt)?s0(t,tt,e):0),tt.producerLastReadVersion[e]=t.version}function BP(){wl++}function zP(t){if(!(za(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===wl)){if(!t.producerMustRecompute(t)&&!Kp(t)){t.dirty=!1,t.lastCleanEpoch=wl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=wl}}function n0(t){if(t.liveConsumerNode===void 0)return;let e=bl;bl=!0;try{for(let n of t.liveConsumerNode)n.dirty||$P(n)}finally{bl=e}}function r0(){return tt?.consumerAllowSignalWrites!==!1}function $P(t){t.dirty=!0,n0(t),t.consumerMarkedDirty?.(t)}function Wp(t){return t&&(t.nextProducerIndex=0),_e(t)}function i0(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(za(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)El(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Kp(t){Il(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(zP(n),r!==n.version))return!0}return!1}function Qp(t){if(Il(t),za(t))for(let e=0;e<t.producerNode.length;e++)El(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function s0(t,e,n){if(o0(t),t.liveConsumerNode.length===0&&a0(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=s0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function El(t,e){if(o0(t),t.liveConsumerNode.length===1&&a0(t))for(let r=0;r<t.producerNode.length;r++)El(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Il(i),i.producerIndexOfThis[r]=e}}function za(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Il(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function o0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function a0(t){return t.producerNode!==void 0}function HP(){throw new Error}var c0=HP;function u0(){c0()}function l0(t){c0=t}var GP=null;function d0(t){let e=Object.create(f0);e.value=t;let n=()=>(t0(e),e.value);return n[Ii]=e,n}function Yp(t,e){r0()||u0(),t.equal(t.value,e)||(t.value=e,WP(t))}function h0(t,e){r0()||u0(),Yp(t,e(t.value))}var f0=ge(j({},_l),{equal:UP,value:void 0});function WP(t){t.version++,BP(),n0(t),GP?.()}function ne(t){return typeof t=="function"}function js(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dl=js(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Di(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var $e=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(s){e=s instanceof Dl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{p0(s)}catch(o){e=e??[],o instanceof Dl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)p0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Di(n,e)}remove(e){let{_finalizers:n}=this;n&&Di(n,e),e instanceof t&&e._removeParent(this)}};$e.EMPTY=(()=>{let t=new $e;return t.closed=!0,t})();var Jp=$e.EMPTY;function Cl(t){return t instanceof $e||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function p0(t){ne(t)?t():t.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qs={setTimeout(t,e,...n){let{delegate:r}=qs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=qs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Tl(t){qs.setTimeout(()=>{let{onUnhandledError:e}=gn;if(e)e(t);else throw t})}function $a(){}var m0=Xp("C",void 0,void 0);function g0(t){return Xp("E",void 0,t)}function y0(t){return Xp("N",t,void 0)}function Xp(t,e,n){return{kind:t,value:e,error:n}}var Ci=null;function Us(t){if(gn.useDeprecatedSynchronousErrorHandling){let e=!Ci;if(e&&(Ci={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ci;if(Ci=null,n)throw r}}else t()}function v0(t){gn.useDeprecatedSynchronousErrorHandling&&Ci&&(Ci.errorThrown=!0,Ci.error=t)}var Ti=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cl(e)&&e.add(this)):this.destination=YP}static create(e,n,r){return new Bs(e,n,r)}next(e){this.isStopped?em(y0(e),this):this._next(e)}error(e){this.isStopped?em(g0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?em(m0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KP=Function.prototype.bind;function Zp(t,e){return KP.call(t,e)}var tm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Sl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Sl(r)}else Sl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Sl(n)}}},Bs=class extends Ti{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&gn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zp(e.next,s),error:e.error&&Zp(e.error,s),complete:e.complete&&Zp(e.complete,s)}):i=e}this.destination=new tm(i)}};function Sl(t){gn.useDeprecatedSynchronousErrorHandling?v0(t):Tl(t)}function QP(t){throw t}function em(t,e){let{onStoppedNotification:n}=gn;n&&qs.setTimeout(()=>n(t,e))}var YP={closed:!0,next:$a,error:QP,complete:$a};var zs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qt(t){return t}function nm(...t){return rm(t)}function rm(t){return t.length===0?Qt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=XP(n)?n:new Bs(n,r,i);return Us(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=b0(r),new r((i,s)=>{let o=new Bs({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[zs](){return this}pipe(...n){return rm(n)(this)}toPromise(n){return n=b0(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function b0(t){var e;return(e=t??gn.Promise)!==null&&e!==void 0?e:Promise}function JP(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function XP(t){return t&&t instanceof Ti||JP(t)&&Cl(t)}function im(t){return ne(t?.lift)}function ve(t){return e=>{if(im(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new sm(t,e,n,r,i)}var sm=class extends Ti{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $s(){return ve((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Hs=class extends ye{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,im(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return $s()(this)}};var w0=js(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Al(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new w0}next(n){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Jp:(this.currentObservers=null,s.push(n),new $e(()=>{this.currentObservers=null,Di(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ye;return n.source=this,n}}return t.create=(e,n)=>new Al(e,n),t})(),Al=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Jp}};var dt=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var om={now(){return(om.delegate||Date).now()},delegate:void 0};var xl=class extends $e{constructor(e,n){super()}schedule(e,n=0){return this}};var Ha={setInterval(t,e,...n){let{delegate:r}=Ha;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ha;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Gs=class extends xl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ha.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ha.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Di(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ws=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ws.now=om.now;var Ks=class extends Ws{constructor(e,n=Ws.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var am=new Ks(Gs);var Ml=class extends Gs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Nl=class extends Ks{};var cm=new Nl(Ml);var Yt=new ye(t=>t.complete());function _0(t){return t&&ne(t.schedule)}function E0(t){return t[t.length-1]}function Rl(t){return ne(E0(t))?t.pop():void 0}function Or(t){return _0(E0(t))?t.pop():void 0}function um(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function D0(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function I0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(t){return this instanceof Si?(this.v=t,this):new Si(t)}function C0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(P){return new Promise(function(k,B){s.push([v,P,k,B])>1||u(v,P)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(P){g(s[0][3],P)}}function l(v){v.value instanceof Si?Promise.resolve(v.value.v).then(h,p):g(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function g(v,S){v(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function T0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof I0=="function"?I0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Pl=t=>t&&typeof t.length=="number"&&typeof t!="function";function kl(t){return ne(t?.then)}function Ol(t){return ne(t[zs])}function Ll(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function Fl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vl=ZP();function jl(t){return ne(t?.[Vl])}function ql(t){return C0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Si(n.read());if(i)return yield Si(void 0);yield yield Si(r)}}finally{n.releaseLock()}})}function Ul(t){return ne(t?.getReader)}function Qe(t){if(t instanceof ye)return t;if(t!=null){if(Ol(t))return ek(t);if(Pl(t))return tk(t);if(kl(t))return nk(t);if(Ll(t))return S0(t);if(jl(t))return rk(t);if(Ul(t))return ik(t)}throw Fl(t)}function ek(t){return new ye(e=>{let n=t[zs]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tk(t){return new ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function nk(t){return new ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Tl)})}function rk(t){return new ye(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function S0(t){return new ye(e=>{sk(t,e).catch(n=>e.error(n))})}function ik(t){return S0(ql(t))}function sk(t,e){var n,r,i,s;return D0(this,void 0,void 0,function*(){try{for(n=T0(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ut(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Lr(t,e=0){return ve((n,r)=>{n.subscribe(fe(r,i=>Ut(r,t,()=>r.next(i),e),()=>Ut(r,t,()=>r.complete(),e),i=>Ut(r,t,()=>r.error(i),e)))})}function Fr(t,e=0){return ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function A0(t,e){return Qe(t).pipe(Fr(e),Lr(e))}function x0(t,e){return Qe(t).pipe(Fr(e),Lr(e))}function M0(t,e){return new ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function N0(t,e){return new ye(n=>{let r;return Ut(n,e,()=>{r=t[Vl](),Ut(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function Bl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ye(n=>{Ut(n,e,()=>{let r=t[Symbol.asyncIterator]();Ut(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function R0(t,e){return Bl(ql(t),e)}function P0(t,e){if(t!=null){if(Ol(t))return A0(t,e);if(Pl(t))return M0(t,e);if(kl(t))return x0(t,e);if(Ll(t))return Bl(t,e);if(jl(t))return N0(t,e);if(Ul(t))return R0(t,e)}throw Fl(t)}function Ke(t,e){return e?P0(t,e):Qe(t)}function re(...t){let e=Or(t);return Ke(t,e)}function Qs(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new ye(e?i=>e.schedule(r,0,i):r)}function lm(t){return!!t&&(t instanceof ye||ne(t.lift)&&ne(t.subscribe))}var ir=js(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function he(t,e){return ve((n,r)=>{let i=0;n.subscribe(fe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:ok}=Array;function ak(t,e){return ok(e)?t(...e):t(e)}function zl(t){return he(e=>ak(t,e))}var{isArray:ck}=Array,{getPrototypeOf:uk,prototype:lk,keys:dk}=Object;function $l(t){if(t.length===1){let e=t[0];if(ck(e))return{args:e,keys:null};if(hk(e)){let n=dk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function hk(t){return t&&typeof t=="object"&&uk(t)===lk}function Hl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Gl(...t){let e=Or(t),n=Rl(t),{args:r,keys:i}=$l(t);if(r.length===0)return Ke([],e);let s=new ye(fk(r,e,i?o=>Hl(i,o):Qt));return n?s.pipe(zl(n)):s}function fk(t,e,n=Qt){return r=>{k0(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)k0(e,()=>{let l=Ke(t[u],e),h=!1;l.subscribe(fe(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function k0(t,e,n){t?Ut(n,t,e):e()}function O0(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},v=P=>l<r?S(P):u.push(P),S=P=>{s&&e.next(P),l++;let k=!1;Qe(n(P,h++)).subscribe(fe(e,B=>{i?.(B),s?v(B):e.next(B)},()=>{k=!0},void 0,()=>{if(k)try{for(l--;u.length&&l<r;){let B=u.shift();o?Ut(e,o,()=>S(B)):S(B)}g()}catch(B){e.error(B)}}))};return t.subscribe(fe(e,v,()=>{p=!0,g()})),()=>{a?.()}}function nt(t,e,n=1/0){return ne(e)?nt((r,i)=>he((s,o)=>e(r,s,i,o))(Qe(t(r,i))),n):(typeof e=="number"&&(n=e),ve((r,i)=>O0(r,i,t,n)))}function dm(t=1/0){return nt(Qt,t)}function L0(){return dm(1)}function Ys(...t){return L0()(Ke(t,Or(t)))}function Wl(t){return new ye(e=>{Qe(t()).subscribe(e)})}function hm(...t){let e=Rl(t),{args:n,keys:r}=$l(t),i=new ye(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Qe(n[h]).subscribe(fe(s,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Hl(r,a):a),s.complete())}))}});return e?i.pipe(zl(e)):i}function yn(t,e){return ve((n,r)=>{let i=0;n.subscribe(fe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Vr(t){return ve((e,n)=>{let r=null,i=!1,s;r=e.subscribe(fe(n,void 0,void 0,o=>{s=Qe(t(o,Vr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function F0(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(fe(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Js(t,e){return ne(e)?nt(t,e,1):nt(t,1)}function jr(t){return ve((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function sr(t){return t<=0?()=>Yt:ve((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function fm(t){return he(()=>t)}function Kl(t=pk){return ve((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function pk(){return new ir}function Ga(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yn((i,s)=>t(i,s,r)):Qt,sr(1),n?jr(e):Kl(()=>new ir))}function Xs(t){return t<=0?()=>Yt:ve((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function pm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yn((i,s)=>t(i,s,r)):Qt,Xs(1),n?jr(e):Kl(()=>new ir))}function mm(t,e){return ve(F0(t,e,arguments.length>=2,!0))}function gm(...t){let e=Or(t);return ve((n,r)=>{(e?Ys(t,n,e):Ys(t,n)).subscribe(r)})}function vn(t,e){return ve((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=s++;Qe(t(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ym(t){return ve((e,n)=>{Qe(t).subscribe(fe(n,()=>n.complete(),$a)),!n.closed&&e.subscribe(n)})}function rt(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?ve((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(fe(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Qt}var ED="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(gg(e,n)),this.code=e}};function gg(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function sc(t){return{toString:t}.toString()}var Ql="__parameters__";function mk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ID(t,e,n){return sc(()=>{let r=mk(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Ql)?u[Ql]:Object.defineProperty(u,Ql,{value:[]})[Ql];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ka=globalThis;function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function gk(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Rt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Rt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function V0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var yk=Pe({__forward_ref__:Pe});function lr(t){return t.__forward_ref__=lr,t.toString=function(){return Rt(this())},t}function Nt(t){return DD(t)?t():t}function DD(t){return typeof t=="function"&&t.hasOwnProperty(yk)&&t.__forward_ref__===lr}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vi(t){return{providers:t.providers||[],imports:t.imports||[]}}function xd(t){return j0(t,TD)||j0(t,SD)}function CD(t){return xd(t)!==null}function j0(t,e){return t.hasOwnProperty(e)?t[e]:null}function vk(t){let e=t&&(t[TD]||t[SD]);return e||null}function q0(t){return t&&(t.hasOwnProperty(U0)||t.hasOwnProperty(bk))?t[U0]:null}var TD=Pe({\u0275prov:Pe}),U0=Pe({\u0275inj:Pe}),SD=Pe({ngInjectableDef:Pe}),bk=Pe({ngInjectorDef:Pe}),K=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AD(t){return t&&!!t.\u0275providers}var wk=Pe({\u0275cmp:Pe}),_k=Pe({\u0275dir:Pe}),Ek=Pe({\u0275pipe:Pe}),Ik=Pe({\u0275mod:Pe}),id=Pe({\u0275fac:Pe}),Wa=Pe({__NG_ELEMENT_ID__:Pe}),B0=Pe({__NG_ENV_ID__:Pe});function or(t){return typeof t=="string"?t:t==null?"":String(t)}function Dk(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():or(t)}function Ck(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function yg(t,e){throw new H(-201,!1)}var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),Rm;function xD(){return Rm}function Bt(t){let e=Rm;return Rm=t,e}function MD(t,e,n){let r=xd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;yg(t,"Injector")}var Tk={},Qa=Tk,Pm="__NG_DI_FLAG__",sd="ngTempTokenPath",Sk="ngTokenPath",Ak=/\n/gm,xk="\u0275",z0="__source",no;function Mk(){return no}function qr(t){let e=no;return no=t,e}function Nk(t,e=ae.Default){if(no===void 0)throw new H(-203,!1);return no===null?MD(t,void 0,e):no.get(t,e&ae.Optional?null:void 0,e)}function ue(t,e=ae.Default){return(xD()||Nk)(Nt(t),e)}function q(t,e=ae.Default){return ue(t,Md(e))}function Md(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function km(t){let e=[];for(let n=0;n<t.length;n++){let r=Nt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,s=ae.Default;for(let o=0;o<r.length;o++){let a=r[o],u=Rk(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ue(i,s))}else e.push(ue(r))}return e}function ND(t,e){return t[Pm]=e,t.prototype[Pm]=e,t}function Rk(t){return t[Pm]}function Pk(t,e,n,r){let i=t[sd];throw e[z0]&&i.unshift(e[z0]),t.message=kk(`
`+t.message,i,n,r),t[Sk]=i,t[sd]=null,t}function kk(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==xk?t.slice(2):t;let i=Rt(e);if(Array.isArray(e))i=e.map(Rt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ak,`
  `)}`}var Ot=ND(ID("Optional"),8);var RD=ND(ID("SkipSelf"),4);function Mi(t,e){let n=t.hasOwnProperty(id);return n?t[id]:null}function vg(t,e){t.forEach(n=>Array.isArray(n)?vg(n,e):e(n))}function PD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function od(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ok(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Lk(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Fk(t,e,n){let r=oc(t,e);return r>=0?t[r|1]=n:(r=~r,Lk(t,r,e,n)),r}function vm(t,e){let n=oc(t,e);if(n>=0)return t[n|1]}function oc(t,e){return Vk(t,e,1)}function Vk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var io={},nn=[],so=new K(""),kD=new K("",-1),OD=new K(""),ad=class{get(e,n=Qa){if(n===Qa){let r=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw r.name="NullInjectorError",r}return n}},LD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(LD||{}),Rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Rn||{}),oo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(oo||{});function jk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Om(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];qk(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function FD(t){return t===3||t===4||t===6}function qk(t){return t.charCodeAt(0)===64}function Ya(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?$0(t,n,i,null,e[++r]):$0(t,n,i,null,null))}}return t}function $0(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var VD="ng-template";function Uk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(bg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function bg(t){return t.type===4&&t.value!==VD}function Bk(t,e,n){let r=t.type===4&&!n?VD:t.value;return e===r}function zk(t,e,n){let r=4,i=t.attrs,s=i!==null?Gk(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!bn(r)&&!bn(u))return!1;if(o&&bn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!Bk(t,u,n)||u===""&&e.length===1){if(bn(r))return!1;o=!0}}else if(r&8){if(i===null||!Uk(t,i,u,n)){if(bn(r))return!1;o=!0}}else{let l=e[++a],h=$k(u,i,bg(t),n);if(h===-1){if(bn(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(bn(r))return!1;o=!0}}}}return bn(r)||o}function bn(t){return(t&1)===0}function $k(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Wk(e,t)}function jD(t,e,n=!1){for(let r=0;r<e.length;r++)if(zk(t,e[r],n))return!0;return!1}function Hk(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Gk(t){for(let e=0;e<t.length;e++){let n=t[e];if(FD(n))return e}return t.length}function Wk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Kk(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function H0(t,e){return t?":not("+e.trim()+")":e}function Qk(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!bn(o)&&(e+=H0(s,i),i=""),r=o,s=s||!bn(r);n++}return i!==""&&(e+=H0(s,i)),e}function Yk(t){return t.map(Qk).join(",")}function Jk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!bn(i))break;i=s}r++}return{attrs:e,classes:n}}function ke(t){return sc(()=>{let e=$D(t),n=ge(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===LD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rn.Emulated,styles:t.styles||nn,_:null,schemas:t.schemas||null,tView:null,id:""});HD(n);let r=t.dependencies;return n.directiveDefs=W0(r,!1),n.pipeDefs=W0(r,!0),n.id=eO(n),n})}function Xk(t){return Ni(t)||qD(t)}function Zk(t){return t!==null}function ji(t){return sc(()=>({type:t.type,bootstrap:t.bootstrap||nn,declarations:t.declarations||nn,imports:t.imports||nn,exports:t.exports||nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function G0(t,e){if(t==null)return io;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=oo.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==oo.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ue(t){return sc(()=>{let e=$D(t);return HD(e),e})}function wg(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ni(t){return t[wk]||null}function qD(t){return t[_k]||null}function UD(t){return t[Ek]||null}function BD(t){let e=Ni(t)||qD(t)||UD(t);return e!==null?e.standalone:!1}function zD(t,e){let n=t[Ik]||null;if(!n&&e===!0)throw new Error(`Type ${Rt(t)} does not have '\u0275mod' property.`);return n}function $D(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||io,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:G0(t.inputs,e),outputs:G0(t.outputs),debugInfo:null}}function HD(t){t.features?.forEach(e=>e(t))}function W0(t,e){if(!t)return null;let n=e?UD:Xk;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Zk)}function eO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ln(t){return{\u0275providers:t}}function tO(...t){return{\u0275providers:GD(!0,t),\u0275fromNgModule:!0}}function GD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return vg(e,o=>{let a=o;Lm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&WD(i,s),n}function WD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];_g(i,s=>{e(s,r)})}}function Lm(t,e,n,r){if(t=Nt(t),!t)return!1;let i=null,s=q0(t),o=!s&&Ni(t);if(!s&&!o){let u=t.ngModule;if(s=q0(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Lm(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{vg(s.imports,h=>{Lm(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&WD(l,e)}if(!a){let l=Mi(i)||(()=>new i);e({provide:i,useFactory:l,deps:nn},i),e({provide:OD,useValue:i,multi:!0},i),e({provide:so,useValue:()=>ue(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;_g(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function _g(t,e){for(let n of t)AD(n)&&(n=n.\u0275providers),Array.isArray(n)?_g(n,e):e(n)}var nO=Pe({provide:String,useValue:Pe});function KD(t){return t!==null&&typeof t=="object"&&nO in t}function rO(t){return!!(t&&t.useExisting)}function iO(t){return!!(t&&t.useFactory)}function ao(t){return typeof t=="function"}function sO(t){return!!t.useClass}var Nd=new K(""),Zl={},oO={},bm;function Eg(){return bm===void 0&&(bm=new ad),bm}var sn=class{},Ja=class extends sn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vm(e,o=>this.processProvider(o)),this.records.set(kD,Zs(void 0,this)),i.has("environment")&&this.records.set(sn,Zs(void 0,this));let s=this.records.get(Nd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(OD,nn,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=qr(this),r=Bt(void 0),i;try{return e()}finally{qr(n),Bt(r)}}get(e,n=Qa,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(B0))return e[B0](this);r=Md(r);let i,s=qr(this),o=Bt(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=dO(e)&&xd(e);l&&this.injectableDefInScope(l)?u=Zs(Fm(e),Zl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?Eg():this.parent;return n=r&ae.Optional&&n===Qa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[sd]=a[sd]||[]).unshift(Rt(e)),s)throw a;return Pk(a,e,"R3InjectorError",this.source)}else throw a}finally{Bt(o),qr(s)}}resolveInjectorInitializers(){let e=_e(null),n=qr(this),r=Bt(void 0),i;try{let s=this.get(so,nn,ae.Self);for(let o of s)o()}finally{qr(n),Bt(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=Nt(e);let n=ao(e)?e:Nt(e&&e.provide),r=cO(e);if(!ao(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zs(void 0,Zl,!0),i.factory=()=>km(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===Zl&&(n.value=oO,n.value=n.factory()),typeof n.value=="object"&&n.value&&lO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Nt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Fm(t){let e=xd(t),n=e!==null?e.factory:Mi(t);if(n!==null)return n;if(t instanceof K)throw new H(204,!1);if(t instanceof Function)return aO(t);throw new H(204,!1)}function aO(t){if(t.length>0)throw new H(204,!1);let n=vk(t);return n!==null?()=>n.factory(t):()=>new t}function cO(t){if(KD(t))return Zs(void 0,t.useValue);{let e=QD(t);return Zs(e,Zl)}}function QD(t,e,n){let r;if(ao(t)){let i=Nt(t);return Mi(i)||Fm(i)}else if(KD(t))r=()=>Nt(t.useValue);else if(iO(t))r=()=>t.useFactory(...km(t.deps||[]));else if(rO(t))r=()=>ue(Nt(t.useExisting));else{let i=Nt(t&&(t.useClass||t.provide));if(uO(t))r=()=>new i(...km(t.deps));else return Mi(i)||Fm(i)}return r}function Zs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function uO(t){return!!t.deps}function lO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function dO(t){return typeof t=="function"||typeof t=="object"&&t instanceof K}function Vm(t,e){for(let n of t)Array.isArray(n)?Vm(n,e):n&&AD(n)?Vm(n.\u0275providers,e):e(n)}function dr(t,e){t instanceof Ja&&t.assertNotDestroyed();let n,r=qr(t),i=Bt(void 0);try{return e()}finally{qr(r),Bt(i)}}function hO(){return xD()!==void 0||Mk()!=null}function fO(t){return typeof t=="function"}var hr=0,ce=1,X=2,Pt=3,wn=4,$t=5,Xa=6,cd=7,on=8,co=9,Pn=10,qe=11,Za=12,K0=13,yo=14,an=15,uo=16,eo=17,lo=18,Rd=19,YD=20,Ur=21,wm=22,rn=23,kt=25,JD=1;var Ri=7,ud=8,ld=9,Jt=10,dd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(dd||{});function Br(t){return Array.isArray(t)&&typeof t[JD]=="object"}function fr(t){return Array.isArray(t)&&t[JD]===!0}function Ig(t){return(t.flags&4)!==0}function Pd(t){return t.componentOffset>-1}function kd(t){return(t.flags&1)===1}function zr(t){return!!t.template}function jm(t){return(t[X]&512)!==0}var qm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function XD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Fn(){return ZD}function ZD(t){return t.type.prototype.ngOnChanges&&(t.setInput=mO),pO}Fn.ngInherit=!0;function pO(){let t=tC(this),e=t?.current;if(e){let n=t.previous;if(n===io)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mO(t,e,n,r,i){let s=this.declaredInputs[r],o=tC(t)||gO(t,{previous:io,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new qm(l&&l.currentValue,n,u===io),XD(t,e,i,n)}var eC="__ngSimpleChanges__";function tC(t){return t[eC]||null}function gO(t,e){return t[eC]=e}var Q0=null;var Mn=function(t,e,n){Q0?.(t,e,n)},yO="svg",vO="math";function kn(t){for(;Array.isArray(t);)t=t[hr];return t}function nC(t,e){return kn(e[t])}function cn(t,e){return kn(e[t.index])}function Dg(t,e){return t.data[e]}function bO(t,e){return t[e]}function Gr(t,e){let n=e[t];return Br(n)?n:n[hr]}function Cg(t){return(t[X]&128)===128}function wO(t){return fr(t[Pt])}function ho(t,e){return e==null?null:t[e]}function rC(t){t[eo]=0}function iC(t){t[X]&1024||(t[X]|=1024,Cg(t)&&Od(t))}function _O(t,e){for(;t>0;)e=e[yo],t--;return e}function ec(t){return!!(t[X]&9216||t[rn]?.dirty)}function Um(t){t[Pn].changeDetectionScheduler?.notify(7),t[X]&64&&(t[X]|=1024),ec(t)&&Od(t)}function Od(t){t[Pn].changeDetectionScheduler?.notify(0);let e=Pi(t);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!Cg(e)));)e=Pi(e)}function sC(t,e){if((t[X]&256)===256)throw new H(911,!1);t[Ur]===null&&(t[Ur]=[]),t[Ur].push(e)}function EO(t,e){if(t[Ur]===null)return;let n=t[Ur].indexOf(e);n!==-1&&t[Ur].splice(n,1)}function Pi(t){let e=t[Pt];return fr(e)?e[Pt]:e}var le={lFrame:mC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var oC=!1;function IO(){return le.lFrame.elementDepthCount}function DO(){le.lFrame.elementDepthCount++}function CO(){le.lFrame.elementDepthCount--}function aC(){return le.bindingsEnabled}function cC(){return le.skipHydrationRootTNode!==null}function TO(t){return le.skipHydrationRootTNode===t}function SO(){le.skipHydrationRootTNode=null}function me(){return le.lFrame.lView}function it(){return le.lFrame.tView}function qi(t){return le.lFrame.contextLView=t,t[on]}function Ui(t){return le.lFrame.contextLView=null,t}function It(){let t=uC();for(;t!==null&&t.type===64;)t=t.parent;return t}function uC(){return le.lFrame.currentTNode}function AO(){let t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Bi(t,e){let n=le.lFrame;n.currentTNode=t,n.isParent=e}function Tg(){return le.lFrame.isParent}function Sg(){le.lFrame.isParent=!1}function lC(){return oC}function Y0(t){oC=t}function xO(){let t=le.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dC(){return le.lFrame.bindingIndex}function MO(t){return le.lFrame.bindingIndex=t}function ac(){return le.lFrame.bindingIndex++}function Ag(t){let e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function NO(){return le.lFrame.inI18n}function RO(t,e){let n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bm(e)}function PO(){return le.lFrame.currentDirectiveIndex}function Bm(t){le.lFrame.currentDirectiveIndex=t}function kO(t){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function hC(t){le.lFrame.currentQueryIndex=t}function OO(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[$t]:null}function fC(t,e,n){if(n&ae.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=OO(s),i===null||(s=s[yo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=le.lFrame=pC();return r.currentTNode=e,r.lView=t,!0}function xg(t){let e=pC(),n=t[ce];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pC(){let t=le.lFrame,e=t===null?null:t.child;return e===null?mC(t):e}function mC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function gC(){let t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var yC=gC;function Mg(){let t=gC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function LO(t){return(le.lFrame.contextLView=_O(t,le.lFrame.contextLView))[on]}function Wr(){return le.lFrame.selectedIndex}function ki(t){le.lFrame.selectedIndex=t}function cc(){let t=le.lFrame;return Dg(t.tView,t.selectedIndex)}function FO(){return le.lFrame.currentNamespace}var vC=!0;function Ld(){return vC}function Fd(t){vC=t}function VO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ZD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Vd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ed(t,e,n){bC(t,e,3,n)}function td(t,e,n,r){(t[X]&3)===n&&bC(t,e,n,r)}function _m(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function bC(t,e,n,r){let i=r!==void 0?t[eo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[eo]+=65536),(a<s||s==-1)&&(jO(t,n,e,u),t[eo]=(t[eo]&4294901760)+u+2),u++}function J0(t,e){Mn(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),Mn(5,t,e)}}function jO(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[X]>>14<t[eo]>>16&&(t[X]&3)===e&&(t[X]+=16384,J0(a,s)):J0(a,s)}var ro=-1,Oi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function qO(t){return t instanceof Oi}function UO(t){return(t.flags&8)!==0}function BO(t){return(t.flags&16)!==0}function wC(t){return t!==ro}function hd(t){return t&32767}function zO(t){return t>>16}function fd(t,e){let n=zO(t),r=e;for(;n>0;)r=r[yo],n--;return r}var zm=!0;function pd(t){let e=zm;return zm=t,e}var $O=256,_C=$O-1,EC=5,HO=0,Nn={};function GO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wa)&&(r=n[Wa]),r==null&&(r=n[Wa]=HO++);let i=r&_C,s=1<<i;e.data[t+(i>>EC)]|=s}function md(t,e){let n=IC(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,Em(r.data,t),Em(e,null),Em(r.blueprint,null));let i=Ng(t,e),s=t.injectorIndex;if(wC(i)){let o=hd(i),a=fd(i,e),u=a[ce].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Em(t,e){t.push(0,0,0,0,0,0,0,0,e)}function IC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ng(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=AC(i),r===null)return ro;if(n++,i=i[yo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ro}function $m(t,e,n){GO(t,e,n)}function WO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(FD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function DC(t,e,n){if(n&ae.Optional||t!==void 0)return t;yg(e,"NodeInjector")}function CC(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[co],s=Bt(void 0);try{return i?i.get(e,r,n&ae.Optional):MD(e,r,n&ae.Optional)}finally{Bt(s)}}return DC(r,e,n)}function TC(t,e,n,r=ae.Default,i){if(t!==null){if(e[X]&2048&&!(r&ae.Self)){let o=XO(t,e,n,r,Nn);if(o!==Nn)return o}let s=SC(t,e,n,r,Nn);if(s!==Nn)return s}return CC(e,n,r,i)}function SC(t,e,n,r,i){let s=YO(n);if(typeof s=="function"){if(!fC(e,t,r))return r&ae.Host?DC(i,n,r):CC(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ae.Optional))yg(n);else return o}finally{yC()}}else if(typeof s=="number"){let o=null,a=IC(t,e),u=ro,l=r&ae.Host?e[an][$t]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Ng(t,e):e[a+8],u===ro||!Z0(r,!1)?a=-1:(o=e[ce],a=hd(u),e=fd(u,e)));a!==-1;){let h=e[ce];if(X0(s,a,h.data)){let p=KO(a,e,n,o,r,l);if(p!==Nn)return p}u=e[a+8],u!==ro&&Z0(r,e[ce].data[a+8]===l)&&X0(s,a,e)?(o=h,a=hd(u),e=fd(u,e)):a=-1}}return i}function KO(t,e,n,r,i,s){let o=e[ce],a=o.data[t+8],u=r==null?Pd(a)&&zm:r!=o&&(a.type&3)!==0,l=i&ae.Host&&s===a,h=QO(a,o,n,u,l);return h!==null?fo(e,o,h,a):Nn}function QO(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,g=i?a+h:l;for(let v=p;v<g;v++){let S=o[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=o[u];if(v&&zr(v)&&v.type===n)return u}return null}function fo(t,e,n,r){let i=t[n],s=e.data;if(qO(i)){let o=i;o.resolving&&Ck(Dk(s[n]));let a=pd(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Bt(o.injectImpl):null,h=fC(t,r,ae.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&VO(n,s[n],e)}finally{l!==null&&Bt(l),pd(a),o.resolving=!1,yC()}}return i}function YO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Wa)?t[Wa]:void 0;return typeof e=="number"?e>=0?e&_C:JO:e}function X0(t,e,n){let r=1<<t;return!!(n[e+(t>>EC)]&r)}function Z0(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var xi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return TC(this._tNode,this._lView,e,Md(r),n)}};function JO(){return new xi(It(),me())}function Kr(t){return sc(()=>{let e=t.prototype.constructor,n=e[id]||Hm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[id]||Hm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Hm(t){return DD(t)?()=>{let e=Hm(Nt(t));return e&&e()}:Mi(t)}function XO(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[X]&2048&&!(o[X]&512);){let a=SC(s,o,n,r|ae.Self,Nn);if(a!==Nn)return a;let u=s.parent;if(!u){let l=o[YD];if(l){let h=l.get(n,Nn,r);if(h!==Nn)return h}u=AC(o),o=o[yo]}s=u}return i}function AC(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[$t]:null}function Rg(t){return WO(It(),t)}function eD(t,e=null,n=null,r){let i=xC(t,e,n,r);return i.resolveInjectorInitializers(),i}function xC(t,e=null,n=null,r,i=new Set){let s=[n||nn,tO(t)];return r=r||(typeof t=="object"?void 0:Rt(t)),new Ja(s,e||Eg(),r||null,i)}var Ai=class Ai{static create(e,n){if(Array.isArray(e))return eD({name:""},n,e,"");{let r=e.name??"";return eD({name:r},e.parent,e.providers,r)}}};Ai.THROW_IF_NOT_FOUND=Qa,Ai.NULL=new ad,Ai.\u0275prov=z({token:Ai,providedIn:"any",factory:()=>ue(kD)}),Ai.__NG_ELEMENT_ID__=-1;var zt=Ai;var ZO=new K("");ZO.__NG_ELEMENT_ID__=t=>{let e=It();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&ae.Optional)return null;throw new H(204,!1)};var eL="ngOriginalError";function Im(t){return t[eL]}var ar=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Im(e);for(;n&&Im(n);)n=Im(n);return n||null}},MC=new K("",{providedIn:"root",factory:()=>q(ar).handleError.bind(void 0)}),NC=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tL,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Gm=class extends NC{constructor(e){super(),this._lView=e}onDestroy(e){return sC(this._lView,e),()=>EO(this._lView,e)}};function tL(){return new Gm(me())}function nL(){return jd(It(),me())}function jd(t,e){return new Vn(cn(t,e))}var Vn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=nL;let t=e;return t})();var vo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Wm=class extends ot{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,hO()&&(this.destroyRef=q(NC,{optional:!0})??void 0,this.pendingTasks=q(vo,{optional:!0})??void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof $e&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ye=Wm;function RC(t){return(t.flags&128)===128}var PC=new Map,rL=0;function iL(){return rL++}function sL(t){PC.set(t[Rd],t)}function oL(t){PC.delete(t[Rd])}var tD="__ngContext__";function $r(t,e){Br(e)?(t[tD]=e[Rd],sL(e)):t[tD]=e}function kC(t){return LC(t[Za])}function OC(t){return LC(t[wn])}function LC(t){for(;t!==null&&!fr(t);)t=t[wn];return t}var Km;function FC(t){Km=t}function aL(){if(Km!==void 0)return Km;if(typeof document<"u")return document;throw new H(210,!1)}var Pg=new K("",{providedIn:"root",factory:()=>cL}),cL="ng",kg=new K(""),Qr=new K("",{providedIn:"platform",factory:()=>"unknown"});var Og=new K("",{providedIn:"root",factory:()=>aL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uL="h",lL="b";var dL=()=>null;function Lg(t,e,n=!1){return dL(t,e,n)}var VC=!1,hL=new K("",{providedIn:"root",factory:()=>VC});var Yl;function fL(){if(Yl===void 0&&(Yl=null,Ka.trustedTypes))try{Yl=Ka.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yl}function nD(t){return fL()?.createScriptURL(t)||t}var gd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ED})`}};function uc(t){return t instanceof gd?t.changingThisBreaksApplicationSecurity:t}function Fg(t,e){let n=pL(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ED})`)}return n===e}function pL(t){return t instanceof gd&&t.getTypeName()||null}var mL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jC(t){return t=String(t),t.match(mL)?t:"unsafe:"+t}var qd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qd||{});function lc(t){let e=UC();return e?e.sanitize(qd.URL,t)||"":Fg(t,"URL")?uc(t):jC(or(t))}function gL(t){let e=UC();if(e)return nD(e.sanitize(qd.RESOURCE_URL,t)||"");if(Fg(t,"ResourceURL"))return nD(uc(t));throw new H(904,!1)}function yL(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?gL:lc}function qC(t,e,n){return yL(e,n)(t)}function UC(){let t=me();return t&&t[Pn].sanitizer}var vL=/^>|^->|<!--|-->|--!>|<!-$/g,bL=/(<|>)/g,wL="\u200B$1\u200B";function _L(t){return t.replace(vL,e=>e.replace(bL,wL))}function BC(t){return t instanceof Function?t():t}var cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cr||{}),EL;function Vg(t,e){return EL(t,e)}function to(t,e,n,r,i){if(r!=null){let s,o=!1;fr(r)?s=r:Br(r)&&(o=!0,r=r[hr]);let a=kn(r);t===0&&n!==null?i==null?WC(e,n,a):vd(e,n,a,i||null,!0):t===1&&n!==null?vd(e,n,a,i||null,!0):t===2?FL(e,a,o):t===3&&e.destroyNode(a),s!=null&&jL(e,t,s,n,i)}}function IL(t,e){return t.createText(e)}function DL(t,e,n){t.setValue(e,n)}function CL(t,e){return t.createComment(_L(e))}function zC(t,e,n){return t.createElement(e,n)}function TL(t,e){$C(t,e),e[hr]=null,e[$t]=null}function SL(t,e,n,r,i,s){r[hr]=i,r[$t]=e,Bd(t,r,n,1,i,s)}function $C(t,e){e[Pn].changeDetectionScheduler?.notify(8),Bd(t,e,e[qe],2,null,null)}function AL(t){let e=t[Za];if(!e)return Dm(t[ce],t);for(;e;){let n=null;if(Br(e))n=e[Za];else{let r=e[Jt];r&&(n=r)}if(!n){for(;e&&!e[wn]&&e!==t;)Br(e)&&Dm(e[ce],e),e=e[Pt];e===null&&(e=t),Br(e)&&Dm(e[ce],e),n=e&&e[wn]}e=n}}function xL(t,e,n,r){let i=Jt+r,s=n.length;r>0&&(n[i-1][wn]=e),r<s-Jt?(e[wn]=n[i],PD(n,Jt+r,e)):(n.push(e),e[wn]=null),e[Pt]=n;let o=e[uo];o!==null&&n!==o&&HC(o,e);let a=e[lo];a!==null&&a.insertView(t),Um(e),e[X]|=128}function HC(t,e){let n=t[ld],r=e[Pt];if(Br(r))t[X]|=dd.HasTransplantedViews;else{let i=r[Pt][an];e[an]!==i&&(t[X]|=dd.HasTransplantedViews)}n===null?t[ld]=[e]:n.push(e)}function jg(t,e){let n=t[ld],r=n.indexOf(e);n.splice(r,1)}function yd(t,e){if(t.length<=Jt)return;let n=Jt+e,r=t[n];if(r){let i=r[uo];i!==null&&i!==t&&jg(i,r),e>0&&(t[n-1][wn]=r[wn]);let s=od(t,Jt+e);TL(r[ce],r);let o=s[lo];o!==null&&o.detachView(s[ce]),r[Pt]=null,r[wn]=null,r[X]&=-129}return r}function qg(t,e){if(!(e[X]&256)){let n=e[qe];n.destroyNode&&Bd(t,e,n,3,null,null),AL(e)}}function Dm(t,e){if(e[X]&256)return;let n=_e(null);try{e[X]&=-129,e[X]|=256,e[rn]&&Qp(e[rn]),NL(t,e),ML(t,e),e[ce].type===1&&e[qe].destroy();let r=e[uo];if(r!==null&&fr(e[Pt])){r!==e[Pt]&&jg(r,e);let i=e[lo];i!==null&&i.detachView(t)}oL(e)}finally{_e(n)}}function ML(t,e){let n=t.cleanup,r=e[cd];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[cd]=null);let i=e[Ur];if(i!==null){e[Ur]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function NL(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Oi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Mn(4,a,u);try{u.call(a)}finally{Mn(5,a,u)}}else{Mn(4,i,s);try{s.call(i)}finally{Mn(5,i,s)}}}}}function GC(t,e,n){return RL(t,e.parent,n)}function RL(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[hr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Rn.None||s===Rn.Emulated)return null}return cn(r,n)}}function vd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function WC(t,e,n){t.appendChild(e,n)}function rD(t,e,n,r,i){r!==null?vd(t,e,n,r,i):WC(t,e,n)}function PL(t,e,n,r){t.removeChild(e,n,r)}function Ug(t,e){return t.parentNode(e)}function kL(t,e){return t.nextSibling(e)}function KC(t,e,n){return LL(t,e,n)}function OL(t,e,n){return t.type&40?cn(t,n):null}var LL=OL,iD;function Ud(t,e,n,r){let i=GC(t,r,e),s=e[qe],o=r.parent||e[$t],a=KC(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)rD(s,i,n[u],a,!1);else rD(s,i,n,a,!1);iD!==void 0&&iD(s,r,e,n,i)}function nd(t,e){if(e!==null){let n=e.type;if(n&3)return cn(e,t);if(n&4)return Qm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return nd(t,r);{let i=t[e.index];return fr(i)?Qm(-1,i):kn(i)}}else{if(n&32)return Vg(e,t)()||kn(t[e.index]);{let r=QC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Pi(t[an]);return nd(i,r)}else return nd(t,e.next)}}}return null}function QC(t,e){if(e!==null){let r=t[an][$t],i=e.projection;return r.projection[i]}return null}function Qm(t,e){let n=Jt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return nd(r,i)}return e[Ri]}function FL(t,e,n){let r=Ug(t,e);r&&PL(t,r,e,n)}function Bg(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&$r(kn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Bg(t,e,n.child,r,i,s,!1),to(e,t,i,a,s);else if(u&32){let l=Vg(n,r),h;for(;h=l();)to(e,t,i,h,s);to(e,t,i,a,s)}else u&16?YC(t,e,r,n,i,s):to(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Bd(t,e,n,r,i,s){Bg(n,r,t.firstChild,e,i,s,!1)}function VL(t,e,n){let r=e[qe],i=GC(t,n,e),s=n.parent||e[$t],o=KC(s,n,e);YC(r,0,e,n,i,o)}function YC(t,e,n,r,i,s){let o=n[an],u=o[$t].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];to(e,t,i,h,s)}else{let l=u,h=o[Pt];RC(r)&&(l.flags|=128),Bg(t,e,l,h,i,s,!0)}}function jL(t,e,n,r,i){let s=n[Ri],o=kn(n);s!==o&&to(e,t,r,s,i);for(let a=Jt;a<n.length;a++){let u=n[a];Bd(u[ce],u,t,e,r,s)}}function qL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:cr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=cr.Important),t.setStyle(n,r,i,s))}}function UL(t,e,n){t.setAttribute(e,"style",n)}function JC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function XC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Om(t,e,r),i!==null&&JC(t,e,i),s!==null&&UL(t,e,s)}var Ht={};function L(t=1){ZC(it(),me(),Wr()+t,!1)}function ZC(t,e,n,r){if(!r)if((e[X]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ed(e,s,n)}else{let s=t.preOrderHooks;s!==null&&td(e,s,0,n)}ki(n)}function Q(t,e=ae.Default){let n=me();if(n===null)return ue(t,e);let r=It();return TC(r,n,Nt(t),e)}function eT(t,e,n,r,i,s){let o=_e(null);try{let a=null;i&oo.SignalBased&&(a=e[r][Ii]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&oo.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):XD(e,a,r,s)}finally{_e(o)}}function BL(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ki(~i);else{let s=i,o=n[++r],a=n[++r];RO(o,s);let u=e[s];a(2,u)}}}finally{ki(-1)}}function zd(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[hr]=i,p[X]=r|4|128|8|64,(l!==null||t&&t[X]&2048)&&(p[X]|=2048),rC(p),p[Pt]=p[yo]=t,p[on]=n,p[Pn]=o||t&&t[Pn],p[qe]=a||t&&t[qe],p[co]=u||t&&t[co]||null,p[$t]=s,p[Rd]=iL(),p[Xa]=h,p[YD]=l,p[an]=e.type==2?t[an]:p,p}function bo(t,e,n,r,i){let s=t.data[e];if(s===null)s=zL(t,e,n,r,i),NO()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=AO();s.injectorIndex=o===null?-1:o.injectorIndex}return Bi(s,!0),s}function zL(t,e,n,r,i){let s=uC(),o=Tg(),a=o?s:s&&s.parent,u=t.data[e]=KL(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function tT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function nT(t,e,n,r,i){let s=Wr(),o=r&2;try{ki(-1),o&&e.length>kt&&ZC(t,e,kt,!1),Mn(o?2:0,i),n(r,i)}finally{ki(s),Mn(o?3:1,i)}}function zg(t,e,n){if(Ig(e)){let r=_e(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{_e(r)}}}function $g(t,e,n){aC()&&(eF(t,e,n,cn(n,e)),(n.flags&64)===64&&sT(t,e,n))}function Hg(t,e,n=cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function rT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Gg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gg(t,e,n,r,i,s,o,a,u,l,h){let p=kt+r,g=p+i,v=$L(p,g),S=typeof l=="function"?l():l;return v[ce]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function $L(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ht);return n}function HL(t,e,n,r){let s=r.get(hL,VC)||n===Rn.ShadowDom,o=t.selectRootElement(e,s);return GL(o),o}function GL(t){WL(t)}var WL=()=>null;function KL(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return cC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sD(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=oo.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?oD(r,n,l,a,u):oD(r,n,l,a)}return r}function oD(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function QL(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],g=n?n.get(p):null,v=g?g.inputs:null,S=g?g.outputs:null;u=sD(0,p.inputs,h,u,v),l=sD(1,p.outputs,h,l,S);let P=u!==null&&o!==null&&!bg(e)?dF(u,h,o):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function YL(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $d(t,e,n,r,i,s,o,a){let u=cn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Kg(t,n,h,r,i),Pd(e)&&JL(n,e.index)):e.type&3?(r=YL(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function JL(t,e){let n=Gr(e,t);n[X]&16||(n[X]|=64)}function Wg(t,e,n,r){if(aC()){let i=r===null?null:{"":-1},s=nF(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&iT(t,e,n,o,i,a),i&&rF(n,r,i)}n.mergedAttrs=Ya(n.mergedAttrs,n.attrs)}function iT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)$m(md(n,e),t,r[l].type);sF(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=tT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ya(n.mergedAttrs,h.hostAttrs),oF(t,n,e,u,h),iF(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}QL(t,n,s)}function XL(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;ZL(o)!=a&&o.push(a),o.push(n,r,s)}}function ZL(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function eF(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Pd(n)&&aF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||md(n,e),$r(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=fo(e,t,a,n);if($r(l,e),o!==null&&lF(e,a-i,l,u,n,o),zr(u)){let h=Gr(n.index,e);h[on]=fo(e,t,a,n)}}}function sT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=PO();try{ki(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Bm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&tF(u,l)}}finally{ki(-1),Bm(o)}}function tF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(jD(e,o.selectors,!1))if(r||(r=[]),zr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Ym(t,e,u)}else r.unshift(o),Ym(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Ym(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function rF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new H(-301,!1);r.push(e[i],s)}}}function iF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zr(e)&&(n[""]=t)}}function sF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function oF(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Mi(i.type,!0)),o=new Oi(s,zr(i),Q);t.blueprint[r]=o,n[r]=o,XL(t,e,r,tT(t,n,i.hostVars,Ht),i)}function aF(t,e,n){let r=cn(e,t),i=rT(n),s=t[Pn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Hd(t,zd(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function cF(t,e,n,r,i,s){let o=cn(t,e);uF(e[qe],o,s,t.value,n,r,i)}function uF(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?or(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function lF(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];eT(r,n,u,l,h,p)}}function dF(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function oT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function aT(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];hC(s),a.contentQueries(2,e[o],o)}}}finally{_e(r)}}}function Hd(t,e){return t[Za]?t[K0][wn]=e:t[Za]=e,t[K0]=e,e}function Jm(t,e,n){hC(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function hF(t){return t[cd]??=[]}function fF(t){return t.cleanup??=[]}function cT(t,e){let n=t[co],r=n?n.get(ar,null):null;r&&r.handleError(e)}function Kg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];eT(h,l,r,a,u,i)}}function Qg(t,e,n){let r=nC(e,t);DL(t[qe],r,n)}function pF(t,e){let n=Gr(e,t),r=n[ce];mF(r,n);let i=n[hr];i!==null&&n[Xa]===null&&(n[Xa]=Lg(i,n[co])),Yg(r,n,n[on])}function mF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Yg(t,e,n){xg(e);try{let r=t.viewQuery;r!==null&&Jm(1,r,n);let i=t.template;i!==null&&nT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[lo]?.finishViewCreation(t),t.staticContentQueries&&aT(t,e),t.staticViewQueries&&Jm(2,t.viewQuery,n);let s=t.components;s!==null&&gF(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,Mg()}}function gF(t,e){for(let n=0;n<e.length;n++)pF(t,e[n])}function Jg(t,e,n,r){let i=_e(null);try{let s=e.tView,a=t[X]&4096?4096:16,u=zd(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[uo]=l;let h=t[lo];return h!==null&&(u[lo]=h.createEmbeddedView(s)),Yg(s,u,n),u}finally{_e(i)}}function yF(t,e){let n=Jt+e;if(n<t.length)return t[n]}function bd(t,e){return!e||e.firstChild===null||RC(t)}function Xg(t,e,n,r=!0){let i=e[ce];if(xL(i,e,t,n),r){let o=Qm(n,t),a=e[qe],u=Ug(a,t[Ri]);u!==null&&SL(i,t[$t],a,e,u,o)}let s=e[Xa];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function vF(t,e){let n=yd(t,e);return n!==void 0&&qg(n[ce],n),n}function wd(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(kn(s)),fr(s)&&bF(s,r);let o=n.type;if(o&8)wd(t,e,n.child,r);else if(o&32){let a=Vg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=QC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Pi(e[an]);wd(u[ce],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function bF(t,e){for(let n=Jt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&wd(r[ce],r,i,e)}t[Ri]!==t[hr]&&e.push(t[Ri])}var uT=[];function wF(t){return t[rn]??_F(t)}function _F(t){let e=uT.pop()??Object.create(IF);return e.lView=t,e}function EF(t){t.lView[rn]!==t&&(t.lView=null,uT.push(t))}var IF=ge(j({},_l),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Od(t.lView)},consumerOnSignalRead(){this.lView[rn]=this}});function DF(t){let e=t[rn]??Object.create(CF);return e.lView=t,e}var CF=ge(j({},_l),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Pi(t.lView);for(;e&&!lT(e[ce]);)e=Pi(e);e&&iC(e)},consumerOnSignalRead(){this.lView[rn]=this}});function lT(t){return t.type!==2}var TF=100;function dT(t,e=!0,n=0){let r=t[Pn],i=r.rendererFactory,s=!1;s||i.begin?.();try{SF(t,n)}catch(o){throw e&&cT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function SF(t,e){let n=lC();try{Y0(!0),Xm(t,e);let r=0;for(;ec(t);){if(r===TF)throw new H(103,!1);r++,Xm(t,1)}}finally{Y0(n)}}function AF(t,e,n,r){let i=e[X];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Pn].inlineEffectRunner?.flush(),xg(e);let a=!0,u=null,l=null;s||(lT(t)?(l=wF(e),u=Wp(l)):e0()===null?(a=!1,l=DF(e),u=Wp(l)):e[rn]&&(Qp(e[rn]),e[rn]=null));try{rC(e),MO(t.bindingStartIndex),n!==null&&nT(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let v=t.preOrderCheckHooks;v!==null&&ed(e,v,null)}else{let v=t.preOrderHooks;v!==null&&td(e,v,0,null),_m(e,0)}if(o||xF(e),hT(e,0),t.contentQueries!==null&&aT(t,e),!s)if(h){let v=t.contentCheckHooks;v!==null&&ed(e,v)}else{let v=t.contentHooks;v!==null&&td(e,v,1),_m(e,1)}BL(t,e);let p=t.components;p!==null&&pT(e,p,0);let g=t.viewQuery;if(g!==null&&Jm(2,g,r),!s)if(h){let v=t.viewCheckHooks;v!==null&&ed(e,v)}else{let v=t.viewHooks;v!==null&&td(e,v,2),_m(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[wm]){for(let v of e[wm])v();e[wm]=null}s||(e[X]&=-73)}catch(h){throw s||Od(e),h}finally{l!==null&&(i0(l,u),a&&EF(l)),Mg()}}function hT(t,e){for(let n=kC(t);n!==null;n=OC(n))for(let r=Jt;r<n.length;r++){let i=n[r];fT(i,e)}}function xF(t){for(let e=kC(t);e!==null;e=OC(e)){if(!(e[X]&dd.HasTransplantedViews))continue;let n=e[ld];for(let r=0;r<n.length;r++){let i=n[r];iC(i)}}}function MF(t,e,n){let r=Gr(e,t);fT(r,n)}function fT(t,e){Cg(t)&&Xm(t,e)}function Xm(t,e){let r=t[ce],i=t[X],s=t[rn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Kp(s)),o||=!1,s&&(s.dirty=!1),t[X]&=-9217,o)AF(r,t,r.template,t[on]);else if(i&8192){hT(t,1);let a=r.components;a!==null&&pT(t,a,1)}}function pT(t,e,n){for(let r=0;r<e.length;r++)MF(t,e[r],n)}function Zg(t,e){let n=lC()?64:1088;for(t[Pn].changeDetectionScheduler?.notify(e);t;){t[X]|=n;let r=Pi(t);if(jm(t)&&!r)return t;t=r}return null}var Li=class{get rootNodes(){let e=this._lView,n=e[ce];return wd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[on]}set context(e){this._lView[on]=e}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pt];if(fr(e)){let n=e[ud],r=n?n.indexOf(this):-1;r>-1&&(yd(e,r),od(n,r))}this._attachedToViewContainer=!1}qg(this._lView[ce],this._lView)}onDestroy(e){sC(this._lView,e)}markForCheck(){Zg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){Um(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,dT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=jm(this._lView),n=this._lView[uo];n!==null&&!e&&jg(n,this._lView),$C(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=jm(this._lView),r=this._lView[uo];r!==null&&!n&&HC(r,this._lView),Um(this._lView)}},dc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PF;let t=e;return t})(),NF=dc,RF=class extends NF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Jg(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Li(i)}};function PF(){return kF(It(),me())}function kF(t,e){return t.type&4?new RF(e,t,jd(t,e)):null}var CQ=new RegExp(`^(\\d+)*(${lL}|${uL})*(.*)`);var OF=()=>null;function _d(t,e){return OF(t,e)}var tc=class{},ey=new K("",{providedIn:"root",factory:()=>!1});var mT=new K(""),Zm=class{},Ed=class{};function LF(t){let e=Error(`No component factory found for ${Rt(t)}.`);return e[FF]=t,e}var FF="ngComponent";var eg=class{resolveComponentFactory(e){throw LF(e)}},dy=class dy{};dy.NULL=new eg;var po=dy,mo=class{},zi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>VF();let t=e;return t})();function VF(){let t=me(),e=It(),n=Gr(e.index,t);return(Br(n)?n:t)[qe]}var jF=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Cm={};var aD=new Set;function hc(t){aD.has(t)||(aD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gT(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Ka.requestAnimationFrame=="function"&&Ka.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function cD(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function uD(...t){}var Ne=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,BF(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,qF,uD,uD);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qF={};function ty(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function UF(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{gT(()=>{t.callbackScheduled=!1,tg(t),t.isCheckStableRunning=!0,ty(t),t.isCheckStableRunning=!1})}),tg(t))}function BF(t){let e=()=>{UF(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(zF(a))return n.invokeTask(i,s,o,a);try{return lD(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),dD(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return lD(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!$F(a)&&e(),dD(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,tg(t),ty(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function tg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function lD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dD(t){t._nesting--,ty(t)}var ng=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function zF(t){return yT(t,"__ignore_ng_zone__")}function $F(t){return yT(t,"__scheduler_tick__")}function yT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var vT=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Id(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=V0(i,a);else if(s==2){let u=a,l=e[++o];r=V0(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Dd=class extends po{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ni(e);return new nc(n,this.ngModule)}};function hD(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function HF(t){let e=t.toLowerCase();return e==="svg"?yO:e==="math"?vO:null}var rg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Md(r);let i=this.injector.get(e,Cm,r);return i!==Cm||n===Cm?i:this.parentInjector.get(e,n,r)}},nc=class extends Ed{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=hD(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Yk(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=_e(null);try{i=i||this.ngModule;let o=i instanceof sn?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new rg(e,o):e,u=a.get(mo,null);if(u===null)throw new H(407,!1);let l=a.get(jF,null),h=a.get(vT,null),p=a.get(tc,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",P=r?HL(v,r,this.componentDef.encapsulation,a):zC(v,S,HF(S)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let B=null;P!==null&&(B=Lg(P,a,!0));let te=Gg(0,null,null,1,0,null,null,null,null,null,null),W=zd(null,te,null,k,null,null,g,v,a,null,B);xg(W);let Ie,et;try{let Se=this.componentDef,I,y=null;Se.findHostDirectiveDefs?(I=[],y=new Map,Se.findHostDirectiveDefs(Se,I,y),I.push(Se)):I=[Se];let b=GF(W,P),E=WF(b,P,Se,I,W,g,v);et=Dg(te,kt),P&&YF(v,Se,P,r),n!==void 0&&JF(et,this.ngContentSelectors,n),Ie=QF(E,Se,I,y,W,[XF]),Yg(te,W,null)}finally{Mg()}return new ig(this.componentType,Ie,jd(et,W),W,et)}finally{_e(s)}}},ig=class extends Zm{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Li(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Kg(s[ce],s,i,e,n),this.previousInputValues.set(e,n);let o=Gr(this._tNode.index,s);Zg(o,1)}}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function GF(t,e){let n=t[ce],r=kt;return t[r]=e,bo(n,r,2,"#host",null)}function WF(t,e,n,r,i,s,o){let a=i[ce];KF(r,t,e,o);let u=null;e!==null&&(u=Lg(e,i[co]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=zd(i,rT(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Ym(a,t,r.length-1),Hd(i,p),i[t.index]=p}function KF(t,e,n,r){for(let i of t)e.mergedAttrs=Ya(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Id(e,e.mergedAttrs,!0),n!==null&&XC(r,n,e))}function QF(t,e,n,r,i,s){let o=It(),a=i[ce],u=cn(o,i);iT(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,g=fo(i,a,p,o);$r(g,i)}sT(a,i,o),u&&$r(u,i);let l=fo(i,a,o.directiveStart+o.componentOffset,o);if(t[on]=i[on]=l,s!==null)for(let h of s)h(l,e);return zg(a,o,i),l}function YF(t,e,n,r){if(r)Om(t,n,["ng-version","18.0.3"]);else{let{attrs:i,classes:s}=Jk(e.selectors[0]);i&&Om(t,n,i),s&&s.length>0&&JC(t,n,s.join(" "))}}function JF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function XF(){let t=It();Vd(me()[ce],t)}var $i=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZF;let t=e;return t})();function ZF(){let t=It();return tV(t,me())}var eV=$i,bT=class extends eV{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return jd(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ng(this._hostTNode,this._hostLView);if(wC(e)){let n=fd(e,this._hostLView),r=hd(e),i=n[ce].data[r+8];return new xi(i,n)}else return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=fD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=_d(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,bd(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!fO(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new nc(Ni(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let P=(o?l:this.parentInjector).get(sn,null);P&&(s=P)}let h=Ni(u.componentType??{}),p=_d(this._lContainer,h?.id??null),g=p?.firstChild??null,v=u.create(l,i,g,s);return this.insertImpl(v.hostView,a,bd(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(wO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Pt],l=new bT(u,u[$t],u[Pt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Xg(o,i,s,r),e.attachToViewContainerRef(),PD(Tm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=fD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yd(this._lContainer,n);r&&(od(Tm(this._lContainer),n),qg(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=yd(this._lContainer,n);return r&&od(Tm(this._lContainer),n)!=null?new Li(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function fD(t){return t[ud]}function Tm(t){return t[ud]||(t[ud]=[])}function tV(t,e){let n,r=e[t.index];return fr(r)?n=r:(n=oT(r,e,null,t),e[t.index]=n,Hd(e,n)),rV(n,e,t,r),new bT(n,t,e)}function nV(t,e){let n=t[qe],r=n.createComment(""),i=cn(e,t),s=Ug(n,i);return vd(n,s,r,kL(n,i),!1),r}var rV=oV,iV=()=>!1;function sV(t,e,n){return iV(t,e,n)}function oV(t,e,n,r){if(t[Ri])return;let i;n.type&8?i=kn(r):i=nV(e,n),t[Ri]=i}function aV(t){return typeof t=="function"&&t[Ii]!==void 0}function wT(t,e){hc("NgSignals");let n=d0(t),r=n[Ii];return e?.equal&&(r.equal=e.equal),n.set=i=>Yp(r,i),n.update=i=>h0(r,i),n.asReadonly=cV.bind(n),n}function cV(){let t=this[Ii];if(t.readonlyFn===void 0){let e=()=>this();e[Ii]=t,t.readonlyFn=e}return t.readonlyFn}function _T(t){return aV(t)&&typeof t.set=="function"}function uV(t){return Object.getPrototypeOf(t.prototype).constructor}function _n(t){let e=uV(t.type),n=!0,r=[t];for(;e;){let i;if(zr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Jl(t.inputs),o.inputTransforms=Jl(t.inputTransforms),o.declaredInputs=Jl(t.declaredInputs),o.outputs=Jl(t.outputs);let a=i.hostBindings;a&&pV(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&hV(t,u),l&&fV(t,l),lV(t,i),gk(t.outputs,i.outputs),zr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===_n&&(n=!1)}}e=Object.getPrototypeOf(e)}dV(r)}function lV(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function dV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ya(i.hostAttrs,n=Ya(n,i.hostAttrs))}}function Jl(t){return t===io?{}:t===nn?[]:t}function hV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function fV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function pV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ny(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Hr=class{},rc=class{};var sg=class extends Hr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dd(this);let i=zD(e);this._bootstrapComponents=BC(i.bootstrap),this._r3Injector=xC(e,n,[{provide:Hr,useValue:this},{provide:po,useValue:this.componentFactoryResolver},...r],Rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},og=class extends rc{constructor(e){super(),this.moduleType=e}create(e){return new sg(this.moduleType,e,[])}};var Cd=class extends Hr{constructor(e){super(),this.componentFactoryResolver=new Dd(this),this.instance=null;let n=new Ja([...e.providers,{provide:Hr,useValue:this},{provide:po,useValue:this.componentFactoryResolver}],e.parent||Eg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ry(t,e,n=null){return new Cd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ET(t){return gV(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function mV(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function gV(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function yV(t,e,n){return t[e]=n}function On(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function IT(t,e,n,r){let i=On(t,e,n);return On(t,e+1,r)||i}function vV(t,e,n,r,i){let s=IT(t,e,n,r);return On(t,e+2,i)||s}function bV(t){return(t.flags&32)===32}function wV(t,e,n,r,i,s,o,a,u){let l=e.consts,h=bo(e,t,4,o||null,a||null);Wg(e,n,h,ho(l,u)),Vd(e,h);let p=h.tView=Gg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function DT(t,e,n,r,i,s,o,a,u,l){let h=n+kt,p=e.firstCreatePass?wV(h,e,t,r,i,s,o,a,u):e.data[h];Bi(p,!1);let g=_V(e,t,p,n);Ld()&&Ud(e,t,g,p),$r(g,t);let v=oT(g,t,g,p);return t[h]=v,Hd(t,v),sV(v,p,t),kd(p)&&$g(e,t,p),u!=null&&Hg(t,p,l),p}function Lt(t,e,n,r,i,s,o,a){let u=me(),l=it(),h=ho(l.consts,s);return DT(u,l,t,e,n,r,i,h,o,a),Lt}var _V=EV;function EV(t,e,n,r){return Fd(!0),e[qe].createComment("")}function wo(t,e,n,r){let i=me(),s=ac();if(On(i,s,e)){let o=it(),a=cc();cF(a,i,t,e,n,r)}return wo}function CT(t,e,n,r){return On(t,ac(),n)?e+or(n)+r:Ht}function TT(t,e,n,r,i,s){let o=dC(),a=IT(t,o,n,i);return Ag(2),a?e+or(n)+r+or(i)+s:Ht}function IV(t,e,n,r,i,s,o,a){let u=dC(),l=vV(t,u,n,i,o);return Ag(3),l?e+or(n)+r+or(i)+s+or(o)+a:Ht}function Xl(t,e){return t<<17|e<<2}function Fi(t){return t>>17&32767}function DV(t){return(t&2)==2}function CV(t,e){return t&131071|e<<17}function ag(t){return t|2}function go(t){return(t&131068)>>2}function Sm(t,e){return t&-131069|e<<2}function TV(t){return(t&1)===1}function cg(t){return t|1}function SV(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Fi(o),u=go(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||oc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Fi(t[a+1]);t[r+1]=Xl(g,a),g!==0&&(t[g+1]=Sm(t[g+1],r)),t[a+1]=CV(t[a+1],r)}else t[r+1]=Xl(a,0),a!==0&&(t[a+1]=Sm(t[a+1],r)),a=r;else t[r+1]=Xl(u,0),a===0?a=r:t[u+1]=Sm(t[u+1],r),u=r;l&&(t[r+1]=ag(t[r+1])),pD(t,h,r,!0),pD(t,h,r,!1),AV(e,h,t,r,s),o=Xl(a,u),s?e.classBindings=o:e.styleBindings=o}function AV(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&oc(s,e)>=0&&(n[r+1]=cg(n[r+1]))}function pD(t,e,n,r){let i=t[n+1],s=e===null,o=r?Fi(i):go(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];xV(u,e)&&(a=!0,t[o+1]=r?cg(l):ag(l)),o=r?Fi(l):go(l)}a&&(t[n+1]=r?ag(i):cg(i))}function xV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?oc(t,e)>=0:!1}function at(t,e,n){let r=me(),i=ac();if(On(r,i,e)){let s=it(),o=cc();$d(s,o,r,t,e,r[qe],n,!1)}return at}function mD(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Kg(t,n,s[o],o,r)}function jn(t,e){return MV(t,e,null,!0),jn}function MV(t,e,n,r){let i=me(),s=it(),o=Ag(2);if(s.firstUpdatePass&&RV(s,t,o,r),e!==Ht&&On(i,o,e)){let a=s.data[Wr()];FV(s,a,i,i[qe],t,i[o+1]=VV(e,n),r,o)}}function NV(t,e){return e>=t.expandoStartIndex}function RV(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Wr()],o=NV(t,n);jV(s,r)&&e===null&&!o&&(e=!1),e=PV(i,s,e,r),SV(i,s,e,n,o,r)}}function PV(t,e,n,r){let i=kO(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Am(null,t,e,n,r),n=ic(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Am(i,t,e,n,r),s===null){let u=kV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Am(null,t,e,u[1],r),u=ic(u,e.attrs,r),OV(t,e,r,u))}else s=LV(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function kV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(go(r)!==0)return t[Fi(r)]}function OV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Fi(i)]=r}function LV(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ic(r,o,n)}return ic(r,e.attrs,n)}function Am(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ic(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ic(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Fk(t,o,n?!0:e[++s]))}return t===void 0?null:t}function FV(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=TV(l)?gD(u,e,n,i,go(l),o):void 0;if(!Td(h)){Td(s)||DV(l)&&(s=gD(u,null,n,i,a,o));let p=nC(Wr(),n);qL(r,o,p,i,s)}}function gD(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===Ht&&(g=p?nn:void 0);let v=p?vm(g,r):h===r?g:void 0;if(l&&!Td(v)&&(v=vm(u,r)),Td(v)&&(a=v,o))return a;let S=t[i+1];i=o?Fi(S):go(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=vm(u,r))}return a}function Td(t){return t!==void 0}function VV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Rt(uc(t)))),t}function jV(t,e){return(t.flags&(e?8:16))!==0}function Gd(t,e){hc("NgControlFlow");let n=me(),r=ac(),i=n[r]!==Ht?n[r]:-1,s=i!==-1?yD(n,kt+i):void 0,o=0;if(On(n,r,t)){let a=_e(null);try{if(s!==void 0&&vF(s,o),t!==-1){let u=kt+t,l=yD(n,u),h=qV(n[ce],u),p=_d(l,h.tView.ssrId),g=Jg(n,h,e,{dehydratedView:p});Xg(l,g,o,bd(h,p))}}finally{_e(a)}}else if(s!==void 0){let a=yF(s,o);a!==void 0&&(a[on]=e)}}function yD(t,e){return t[e]}function qV(t,e){return Dg(t,e)}function UV(t,e,n,r,i,s){let o=e.consts,a=ho(o,i),u=bo(e,t,2,r,a);return Wg(e,n,u,ho(o,s)),u.attrs!==null&&Id(u,u.attrs,!1),u.mergedAttrs!==null&&Id(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function x(t,e,n,r){let i=me(),s=it(),o=kt+t,a=i[qe],u=s.firstCreatePass?UV(o,s,i,e,n,r):s.data[o],l=BV(s,i,u,a,e,t);i[o]=l;let h=kd(u);return Bi(u,!0),XC(a,l,u),!bV(u)&&Ld()&&Ud(s,i,l,u),IO()===0&&$r(l,i),DO(),h&&($g(s,i,u),zg(s,u,i)),r!==null&&Hg(i,u),x}function M(){let t=It();Tg()?Sg():(t=t.parent,Bi(t,!1));let e=t;TO(e)&&SO(),CO();let n=it();return n.firstCreatePass&&(Vd(n,t),Ig(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&UO(e)&&mD(n,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&BO(e)&&mD(n,e,me(),e.stylesWithoutHost,!1),M}function Ee(t,e,n,r){return x(t,e,n,r),M(),Ee}var BV=(t,e,n,r,i,s)=>(Fd(!0),zC(r,i,FO()));function zV(t,e,n,r,i){let s=e.consts,o=ho(s,r),a=bo(e,t,8,"ng-container",o);o!==null&&Id(a,o,!0);let u=ho(s,i);return Wg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function iy(t,e,n){let r=me(),i=it(),s=t+kt,o=i.firstCreatePass?zV(s,i,r,e,n):i.data[s];Bi(o,!0);let a=$V(i,r,o,t);return r[s]=a,Ld()&&Ud(i,r,a,o),$r(a,r),kd(o)&&($g(i,r,o),zg(i,o,r)),n!=null&&Hg(r,o),iy}function sy(){let t=It(),e=it();return Tg()?Sg():(t=t.parent,Bi(t,!1)),e.firstCreatePass&&(Vd(e,t),Ig(t)&&e.queries.elementEnd(t)),sy}var $V=(t,e,n,r)=>(Fd(!0),CL(e[qe],""));function fc(){return me()}var Sd="en-US";var HV=Sd;function GV(t){typeof t=="string"&&(HV=t.toLowerCase().replace(/_/g,"-"))}var WV=(t,e,n)=>{};function J(t,e,n,r){let i=me(),s=it(),o=It();return ST(s,i,i[qe],o,t,e,r),J}function KV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[cd],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function ST(t,e,n,r,i,s,o){let a=kd(r),l=t.firstCreatePass&&fF(t),h=e[on],p=hF(e),g=!0;if(r.type&3||o){let P=cn(r,e),k=o?o(P):P,B=p.length,te=o?Ie=>o(kn(Ie[r.index])):r.index,W=null;if(!o&&a&&(W=KV(t,e,i,r.index)),W!==null){let Ie=W.__ngLastListenerFn__||W;Ie.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,g=!1}else{s=bD(r,e,h,s),WV(P,i,s);let Ie=n.listen(k,i,s);p.push(s,Ie),l&&l.push(i,te,B,B+1)}}else s=bD(r,e,h,s);let v=r.outputs,S;if(g&&v!==null&&(S=v[i])){let P=S.length;if(P)for(let k=0;k<P;k+=2){let B=S[k],te=S[k+1],et=e[B][te].subscribe(s),Se=p.length;p.push(s,et),l&&l.push(i,r.index,Se,-(Se+1))}}}function vD(t,e,n,r){let i=_e(null);try{return Mn(6,e,n),n(r)!==!1}catch(s){return cT(t,s),!1}finally{Mn(7,e,n),_e(i)}}function bD(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Gr(t.index,e):e;Zg(o,5);let a=vD(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=vD(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function Gt(t=1){return LO(t)}function QV(t,e){let n=null,r=Hk(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?jD(t,s,!0):Kk(r,s))return i}return n}function AT(t){let e=me()[an][$t];if(!e.projection){let n=t?t.length:1,r=e.projection=Ok(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?QV(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function xT(t,e=0,n,r,i,s){let o=me(),a=it(),u=r?t+1:null;u!==null&&DT(o,a,u,r,i,s,null,n);let l=bo(a,kt+t,16,null,n||null);l.projection===null&&(l.projection=e),Sg();let p=!o[Xa]||cC();o[an][$t].projection[l.projection]===null&&u!==null?YV(o,a,u):p&&(l.flags&32)!==32&&VL(a,o,l)}function YV(t,e,n){let r=kt+n,i=e.data[r],s=t[r],o=_d(s,i.tView.ssrId),a=Jg(t,i,void 0,{dehydratedView:o});Xg(s,a,0,bd(i,o))}function pc(t,e,n,r,i){let s=me(),o=CT(s,e,n,r);if(o!==Ht){let a=it(),u=cc();$d(a,u,s,t,o,s[qe],i,!1)}return pc}function oy(t,e,n,r,i,s,o){let a=me(),u=TT(a,e,n,r,i,s);if(u!==Ht){let l=it(),h=cc();$d(l,h,a,t,u,a[qe],o,!1)}return oy}function JV(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function N(t,e=""){let n=me(),r=it(),i=t+kt,s=r.firstCreatePass?bo(r,i,1,e,null):r.data[i],o=XV(r,n,s,e,t);n[i]=o,Ld()&&Ud(r,n,o,s),Bi(s,!1)}var XV=(t,e,n,r,i)=>(Fd(!0),IL(e[qe],r));function Dt(t){return de("",t,""),Dt}function de(t,e,n){let r=me(),i=CT(r,t,e,n);return i!==Ht&&Qg(r,Wr(),i),de}function _o(t,e,n,r,i){let s=me(),o=TT(s,t,e,n,r,i);return o!==Ht&&Qg(s,Wr(),o),_o}function Wd(t,e,n,r,i,s,o){let a=me(),u=IV(a,t,e,n,r,i,s,o);return u!==Ht&&Qg(a,Wr(),u),Wd}function Hi(t,e,n){_T(e)&&(e=e());let r=me(),i=ac();if(On(r,i,e)){let s=it(),o=cc();$d(s,o,r,t,e,r[qe],n,!1)}return Hi}function Eo(t,e){let n=_T(t);return n&&t.set(e),n}function Gi(t,e){let n=me(),r=it(),i=It();return ST(r,n,n[qe],i,t,e),Gi}function ZV(t,e,n){let r=it();if(r.firstCreatePass){let i=zr(t);ug(n,r.data,r.blueprint,i,!0),ug(e,r.data,r.blueprint,i,!1)}}function ug(t,e,n,r,i){if(t=Nt(t),Array.isArray(t))for(let s=0;s<t.length;s++)ug(t[s],e,n,r,i);else{let s=it(),o=me(),a=It(),u=ao(t)?t:Nt(t.provide),l=QD(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(ao(t)||!t.multi){let v=new Oi(l,i,Q),S=Mm(u,e,i?h:h+g,p);S===-1?($m(md(a,o),s,u),xm(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[S]=v,o[S]=v)}else{let v=Mm(u,e,h+g,p),S=Mm(u,e,h,h+g),P=v>=0&&n[v],k=S>=0&&n[S];if(i&&!k||!i&&!P){$m(md(a,o),s,u);let B=nj(i?tj:ej,n.length,i,r,l);!i&&k&&(n[S].providerFactory=B),xm(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(B),o.push(B)}else{let B=MT(n[i?S:v],l,!i&&r);xm(s,t,v>-1?v:S,B)}!i&&r&&k&&n[S].componentProviders++}}}function xm(t,e,n,r){let i=ao(e),s=sO(e);if(i||s){let u=(s?Nt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function MT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ej(t,e,n,r){return lg(this.multi,[])}function tj(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=fo(n,n[ce],this.providerFactory.index,r);s=a.slice(0,o),lg(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],lg(i,s);return s}function lg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function nj(t,e,n,r,i){let s=new Oi(t,n,Q);return s.multi=[],s.index=e,s.componentProviders=0,MT(s,i,r&&!n),s}function Wi(t,e=[]){return n=>{n.providersResolver=(r,i)=>ZV(r,i?i(t):t,e)}}var rj=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=GD(!1,r.type),s=i.length>0?ry([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(ue(sn))});let t=e;return t})();function Oe(t){hc("NgStandalone"),t.getStandaloneInjector=e=>e.get(rj).getOrCreateStandaloneInjector(t)}function ij(t,e){let n=t[e];return n===Ht?void 0:n}function sj(t,e,n,r,i,s){let o=e+n;return On(t,o,i)?yV(t,o+1,s?r.call(s,i):r(i)):ij(t,o+1)}function NT(t,e){let n=it(),r,i=t+kt;n.firstCreatePass?(r=oj(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Mi(r.type,!0)),o,a=Bt(Q);try{let u=pd(!1),l=s();return pd(u),JV(n,me(),i,l),l}finally{Bt(a)}}function oj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function RT(t,e,n){let r=t+kt,i=me(),s=bO(i,r);return aj(i,r)?sj(i,xO(),e,s.transform,n,s):s.transform(n)}function aj(t,e){return t[ce].data[e].pure}var ur=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},PT=new ur("18.0.3");var Kd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var kT=new K("");function Ki(t){return!!t&&typeof t.then=="function"}function OT(t){return!!t&&typeof t.subscribe=="function"}var LT=new K(""),FT=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=q(LT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ki(o))r.push(o);else if(OT(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ay=new K("");function cj(){l0(()=>{throw new H(600,!1)})}function uj(t){return t.isBoundToModule}var lj=10;function dj(t,e,n){try{let r=n();return Ki(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Io=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(MC),this.afterRenderEffectManager=q(vT),this.zonelessEnabled=q(ey),this.externalTestViews=new Set,this.beforeRender=new ot,this.afterTick=new ot,this.componentTypes=[],this.components=[],this.isStable=q(vo).hasPendingTasks.pipe(he(r=>!r)),this._injector=q(sn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Ed;if(!this._injector.get(FT).done){let v=!s&&BD(r),S=!1;throw new H(405,S)}let a;s?a=r:a=this._injector.get(po).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=uj(a)?void 0:this._injector.get(Hr),l=i||a.selector,h=a.create(zt.NULL,[],l,u),p=h.location.nativeElement,g=h.injector.get(kT,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Nm(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new H(101,!1);let i=_e(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,_e(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(mo,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<lj;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)hj(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>ec(u))&&(o.execute(),!this.allViews.some(({_lView:u})=>ec(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Nm(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ay,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Nm(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new H(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nm(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function hj(t,e,n,r){if(!n&&!ec(t))return;dT(t,e,n&&!r?0:1)}var dg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},cy=(()=>{let e=class e{compileModuleSync(r){return new og(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=zD(r),o=BC(s.declarations).reduce((a,u)=>{let l=Ni(u);return l&&a.push(new nc(l)),a},[]);return new dg(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fj=(()=>{let e=class e{constructor(){this.zone=q(Ne),this.changeDetectionScheduler=q(tc),this.applicationRef=q(Io)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pj=new K("",{factory:()=>!1});function VT({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Ne(qT()),[{provide:Ne,useFactory:t},{provide:so,multi:!0,useFactory:()=>{let n=q(fj,{optional:!0});return()=>n.initialize()}},{provide:so,multi:!0,useFactory:()=>{let n=q(gj);return()=>{n.initialize()}}},{provide:MC,useFactory:mj},e===!0?{provide:mT,useValue:!0}:[]]}function mj(){let t=q(Ne),e=q(ar);return n=>t.runOutsideAngular(()=>e.handleError(n))}function jT(t){let e=t?.ignoreChangesOutsideZone,n=VT({ngZoneFactory:()=>{let r=qT(t);return r.shouldCoalesceEventChangeDetection&&hc("NgZone_CoalesceEvent"),new Ne(r)},ignoreChangesOutsideZone:e});return Ln([{provide:pj,useValue:!0},{provide:ey,useValue:!1},n])}function qT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var gj=(()=>{let e=class e{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=q(Ne),this.pendingTasks=q(vo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yj=(()=>{let e=class e{constructor(){this.appRef=q(Io),this.taskService=q(vo),this.ngZone=q(Ne),this.zonelessEnabled=q(ey),this.disableScheduling=q(mT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $e,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ng||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?cD:gT;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ne.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vj(){return typeof $localize<"u"&&$localize.locale||Sd}var uy=new K("",{providedIn:"root",factory:()=>q(uy,ae.Optional|ae.SkipSelf)||vj()});var UT=new K("");var rd=null;function bj(t=[],e){return zt.create({name:e,providers:[{provide:Nd,useValue:"platform"},{provide:UT,useValue:new Set([()=>rd=null])},...t]})}function wj(t=[]){if(rd)return rd;let e=bj(t);return rd=e,cj(),_j(e),e}function _j(t){t.get(kg,null)?.forEach(n=>n())}var Qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ej;let t=e;return t})();function Ej(t){return Ij(It(),me(),(t&16)===16)}function Ij(t,e,n){if(Pd(t)&&!n){let r=Gr(t.index,e);return new Li(r,r)}else if(t.type&47){let r=e[an];return new Li(r,e)}return null}var hg=class{constructor(){}supports(e){return ET(e)}create(e){return new fg(e)}},Dj=(t,e)=>e,fg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Dj}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<wD(r,i,s)?n:r,a=wD(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let v=g<s.length?s[g]:s[g]=0,S=v+g;h<=S&&S<l&&(s[g]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ET(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,mV(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new pg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ad),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ad),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},mg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ad=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new mg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function _D(){return new ly([new hg])}var ly=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||_D()),deps:[[e,new RD,new Ot]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new H(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:_D});let t=e;return t})();function BT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=wj(r),s=[VT({}),{provide:tc,useExisting:yj},...n||[]],a=new Cd({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ne);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(ar,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),g=i.get(UT);return g.add(p),a.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),dj(l,u,()=>{let v=a.get(FT);return v.runInitializers(),v.donePromise.then(()=>{let S=a.get(uy,Sd);GV(S||Sd);let P=a.get(Io);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function Yi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var WT=null;function mr(){return WT}function KT(t){WT??=t}var Qd=class{};var un=new K(""),my=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>q(Cj),providedIn:"platform"});let t=e;return t})();var Cj=(()=>{let e=class e extends my{constructor(){super(),this._doc=q(un),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mr().getBaseHref(this._doc)}onPopState(r){let i=mr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=mr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function gy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function zT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function pr(t){return t&&t[0]!=="?"?"?"+t:t}var Yr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>q(YT),providedIn:"root"});let t=e;return t})(),QT=new K(""),YT=(()=>{let e=class e extends Yr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??q(un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return gy(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+pr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+pr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+pr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ue(my),ue(QT,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JT=(()=>{let e=class e extends Yr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=gy(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+pr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+pr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ue(my),ue(QT,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),mc=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Aj(zT($T(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+pr(i))}normalize(r){return e.stripTrailingSlash(Sj(this._basePath,$T(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+pr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+pr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=pr,e.joinWithSlash=gy,e.stripTrailingSlash=zT,e.\u0275fac=function(i){return new(i||e)(ue(Yr))},e.\u0275prov=z({token:e,factory:()=>Tj(),providedIn:"root"});let t=e;return t})();function Tj(){return new mc(ue(Yr))}function Sj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function $T(t){return t.replace(/\/index.html$/,"")}function Aj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function XT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var hy=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Jd=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new hy(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),HT(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);HT(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q($i),Q(dc),Q(ly))},e.\u0275dir=Ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function HT(t,e){t.context.$implicit=e.item}var ZT=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new fy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){GT("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){GT("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q($i),Q(dc))},e.\u0275dir=Ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),fy=class{constructor(){this.$implicit=null,this.ngIf=null}};function GT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Rt(e)}'.`)}var xj=!0,py=class{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},yy=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews.push(r)}_matchCase(r){let i=xj?r===this._ngSwitch:r==this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(r){if(this._defaultViews.length>0&&r!==this._defaultUsed){this._defaultUsed=r;for(let i of this._defaultViews)i.enforceState(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),eS=(()=>{let e=class e{constructor(r,i,s){this.ngSwitch=s,s._addCase(),this._view=new py(r,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(i){return new(i||e)(Q($i),Q(dc),Q(yy,9))},e.\u0275dir=Ue({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})();var Ji=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ji({type:e}),e.\u0275inj=Vi({});let t=e;return t})(),tS="browser",Mj="server";function vy(t){return t===Mj}var Yd=class{};var Ey=class extends Qd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Iy=class t extends Ey{static makeCurrent(){KT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Nj();return n==null?null:Rj(n)}resetBaseElement(){gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return XT(document.cookie,e)}},gc=null;function Nj(){return gc=gc||document.querySelector("base"),gc?gc.getAttribute("href"):null}function Rj(t){return new URL(t,document.baseURI).pathname}var Pj=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Dy=new K(""),sS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ue(Dy),ue(Ne))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Xd=class{constructor(e){this._doc=e}},wy="ng-app-id",oS=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vy(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${wy}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(wy),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(wy,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ue(un),ue(Pg),ue(Og,8),ue(Qr))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),_y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ty=/%COMP%/g,aS="%COMP%",kj=`_nghost-${aS}`,Oj=`_ngcontent-${aS}`,Lj=!0,Fj=new K("",{providedIn:"root",factory:()=>Lj});function Vj(t){return Oj.replace(Ty,t)}function jj(t){return kj.replace(Ty,t)}function cS(t,e){return e.map(n=>n.replace(Ty,t))}var nS=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=vy(u),this.defaultRenderer=new yc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Rn.ShadowDom&&(i=ge(j({},i),{encapsulation:Rn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Zd?s.applyToHost(r):s instanceof vc&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Rn.Emulated:o=new Zd(l,h,i,this.appId,p,a,u,g);break;case Rn.ShadowDom:return new Cy(l,h,r,i,a,u,this.nonce,g);default:o=new vc(l,h,i,p,a,u,g);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ue(sS),ue(oS),ue(Pg),ue(Fj),ue(un),ue(Qr),ue(Ne),ue(Og))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),yc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_y[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=_y[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=_y[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(cr.DashCase|cr.Important)?e.style.setProperty(n,r,i&cr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&cr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=mr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function rS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Cy=class extends yc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=cS(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vc=class extends yc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?cS(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zd=class extends vc{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=Vj(l),this.hostAttr=jj(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},qj=(()=>{let e=class e extends Xd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ue(un))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),iS=["alt","control","meta","shift"],Uj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},zj=(()=>{let e=class e extends Xd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),iS.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Uj[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),iS.forEach(a=>{if(a!==s){let u=Bj[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ue(un))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function uS(t,e){return BT(j({rootComponent:t},$j(e)))}function $j(t){return{appProviders:[...Qj,...t?.providers??[]],platformProviders:Kj}}function Hj(){Iy.makeCurrent()}function Gj(){return new ar}function Wj(){return FC(document),document}var Kj=[{provide:Qr,useValue:tS},{provide:kg,useValue:Hj,multi:!0},{provide:un,useFactory:Wj,deps:[]}];var Qj=[{provide:Nd,useValue:"root"},{provide:ar,useFactory:Gj,deps:[]},{provide:Dy,useClass:qj,multi:!0,deps:[un,Ne,Qr]},{provide:Dy,useClass:zj,multi:!0,deps:[un]},nS,oS,sS,{provide:mo,useExisting:nS},{provide:Yd,useClass:Pj,deps:[]},[]];var lS=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ue(un))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oe="primary",Oc=Symbol("RouteTitle"),Ny=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function xo(t){return new Ny(t)}function Jj(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Xj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qn(t[n],e[n]))return!1;return!0}function qn(t,e){let n=t?Ry(t):void 0,r=e?Ry(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vS(t[i],e[i]))return!1;return!0}function Ry(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function vS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function bS(t){return t.length>0?t[t.length-1]:null}function Zr(t){return lm(t)?t:Ki(t)?Ke(Promise.resolve(t)):re(t)}var Zj={exact:_S,subset:ES},wS={exact:e2,subset:t2,ignored:()=>!0};function dS(t,e,n){return Zj[n.paths](t.root,e.root,n.matrixParams)&&wS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function e2(t,e){return qn(t,e)}function _S(t,e,n){if(!Zi(t.segments,e.segments)||!nh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!_S(t.children[r],e.children[r],n))return!1;return!0}function t2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vS(t[n],e[n]))}function ES(t,e,n){return IS(t,e,e.segments,n)}function IS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Zi(i,n)||e.hasChildren()||!nh(i,n,r))}else if(t.segments.length===n.length){if(!Zi(t.segments,n)||!nh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ES(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Zi(t.segments,i)||!nh(t.segments,i,r)||!t.children[oe]?!1:IS(t.children[oe],e,s,r)}}function nh(t,e,n){return e.every((r,i)=>wS[n](t[i].parameters,r.parameters))}var Jr=class{constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){return i2.serialize(this)}},Ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rh(this)}},Xi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=xo(this.parameters),this._parameterMap}toString(){return CS(this)}};function n2(t,e){return Zi(t,e)&&t.every((n,r)=>qn(n.parameters,e[r].parameters))}function Zi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function r2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var iv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new Cc,providedIn:"root"});let t=e;return t})(),Cc=class{parse(e){let n=new ky(e);return new Jr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bc(e.root,!0)}`,r=a2(e.queryParams),i=typeof e.fragment=="string"?`#${s2(e.fragment)}`:"";return`${n}${r}${i}`}},i2=new Cc;function rh(t){return t.segments.map(e=>CS(e)).join("/")}function bc(t,e){if(!t.hasChildren())return rh(t);if(e){let n=t.children[oe]?bc(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==oe&&r.push(`${i}:${bc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=r2(t,(r,i)=>i===oe?[bc(t.children[oe],!1)]:[`${i}:${bc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${rh(t)}/${n[0]}`:`${rh(t)}/(${n.join("//")})`}}function DS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eh(t){return DS(t).replace(/%3B/gi,";")}function s2(t){return encodeURI(t)}function Py(t){return DS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ih(t){return decodeURIComponent(t)}function hS(t){return ih(t.replace(/\+/g,"%20"))}function CS(t){return`${Py(t.path)}${o2(t.parameters)}`}function o2(t){return Object.entries(t).map(([e,n])=>`;${Py(e)}=${Py(n)}`).join("")}function a2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${eh(n)}=${eh(i)}`).join("&"):`${eh(n)}=${eh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var c2=/^[^\/()?;#]+/;function Sy(t){let e=t.match(c2);return e?e[0]:""}var u2=/^[^\/()?;=#]+/;function l2(t){let e=t.match(u2);return e?e[0]:""}var d2=/^[^=?&#]+/;function h2(t){let e=t.match(d2);return e?e[0]:""}var f2=/^[^&#]+/;function p2(t){let e=t.match(f2);return e?e[0]:""}var ky=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new Ae(e,n)),r}parseSegment(){let e=Sy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Xi(ih(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=l2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Sy(this.remaining);i&&(r=i,this.capture(r))}e[ih(n)]=ih(r)}parseQueryParam(e){let n=h2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=p2(this.remaining);o&&(r=o,this.capture(r))}let i=hS(n),s=hS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[oe]:new Ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function TS(t){return t.segments.length>0?new Ae([],{[oe]:t}):t}function SS(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=SS(i);if(r===oe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ae(t.segments,e);return m2(n)}function m2(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new Ae(t.segments.concat(e.segments),e.children)}return t}function Tc(t){return t instanceof Jr}function g2(t,e,n=null,r=null){let i=AS(t);return xS(i,e,n,r)}function AS(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ae(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=TS(r);return e??i}function xS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ay(i,i,i,n,r);let s=y2(e);if(s.toRoot())return Ay(i,i,new Ae([],{}),n,r);let o=v2(s,i,t),a=o.processChildren?Ec(o.segmentGroup,o.index,s.commands):NS(o.segmentGroup,o.index,s.commands);return Ay(i,o.segmentGroup,a,n,r)}function sh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Sc(t){return typeof t=="object"&&t!=null&&t.outlets}function Ay(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=MS(t,e,n);let a=TS(SS(o));return new Jr(a,s,i)}function MS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=MS(s,e,n)}),new Ae(t.segments,r)}var oh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&sh(r[0]))throw new H(4003,!1);let i=r.find(Sc);if(i&&i!==bS(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function y2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new oh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new oh(n,e,r)}var To=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function v2(t,e,n){if(t.isAbsolute)return new To(e,!0,0);if(!n)return new To(e,!1,NaN);if(n.parent===null)return new To(n,!0,0);let r=sh(t.commands[0])?0:1,i=n.segments.length-1+r;return b2(n,i,t.numberOfDoubleDots)}function b2(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new To(r,!1,i-s)}function w2(t){return Sc(t[0])?t[0].outlets:{[oe]:t}}function NS(t,e,n){if(t??=new Ae([],{}),t.segments.length===0&&t.hasChildren())return Ec(t,e,n);let r=_2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ae(t.segments.slice(0,r.pathIndex),{});return s.children[oe]=new Ae(t.segments.slice(r.pathIndex),t.children),Ec(s,0,i)}else return r.match&&i.length===0?new Ae(t.segments,{}):r.match&&!t.hasChildren()?Oy(t,e,n):r.match?Ec(t,0,i):Oy(t,e,n)}function Ec(t,e,n){if(n.length===0)return new Ae(t.segments,{});{let r=w2(n),i={};if(Object.keys(r).some(s=>s!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let s=Ec(t.children[oe],e,n);return new Ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=NS(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ae(t.segments,i)}}function _2(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Sc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!pS(u,l,o))return s;r+=2}else{if(!pS(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Oy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Sc(s)){let u=E2(s.outlets);return new Ae(r,u)}if(i===0&&sh(n[0])){let u=t.segments[e];r.push(new Xi(u.path,fS(n[0]))),i++;continue}let o=Sc(s)?s.outlets[oe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&sh(a)?(r.push(new Xi(o,fS(a))),i+=2):(r.push(new Xi(o,{})),i++)}return new Ae(r,{})}function E2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Oy(new Ae([],{}),0,r))}),e}function fS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function pS(t,e,n){return t==n.path&&qn(e,n.parameters)}var Ic="imperative",ht=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ht||{}),ln=class{constructor(e,n){this.id=e,this.url=n}},Ac=class extends ln{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ht.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xr=class extends ln{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Zt||{}),Ly=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ly||{}),gr=class extends ln{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},es=class extends ln{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ht.NavigationSkipped}},xc=class extends ln{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ah=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fy=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vy=class extends ln{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jy=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qy=class extends ln{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uy=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},By=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zy=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$y=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hy=class{constructor(e){this.snapshot=e,this.type=ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gy=class{constructor(e){this.snapshot=e,this.type=ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Mc=class{},Mo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Wy=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new ph(this.injector),this.attachRef=null}},ph=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Wy(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ue(sn))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ch=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ky(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ky(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Qy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qy(e,this._root).map(n=>n.value)}};function Ky(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ky(t,n);if(r)return r}return null}function Qy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Qy(t,n);if(r.length)return r.unshift(e),r}return[]}var Xt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Co(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var uh=class extends ch{constructor(e,n){super(e),this.snapshot=n,sv(this,e)}toString(){return this.snapshot.toString()}};function RS(t){let e=I2(t),n=new dt([new Xi("",{})]),r=new dt({}),i=new dt({}),s=new dt({}),o=new dt(""),a=new ts(n,r,s,o,i,oe,t,e.root);return a.snapshot=e.root,new uh(new Xt(a,[]),e)}function I2(t){let e={},n={},r={},i="",s=new So([],e,r,i,n,oe,t,null,{});return new dh("",new Xt(s,[]))}var ts=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(he(l=>l[Oc]))??re(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&kS(i)&&(r.resolve[Oc]=i.title),r}var So=class{get title(){return this.data?.[Oc]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},dh=class extends ch{constructor(e,n){super(n),this.url=e,sv(this,n)}toString(){return PS(this._root)}};function sv(t,e){e.value._routerState=t,e.children.forEach(n=>sv(t,n))}function PS(t){let e=t.children.length>0?` { ${t.children.map(PS).join(", ")} } `:"";return`${t.value}${e}`}function xy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),qn(e.params,n.params)||t.paramsSubject.next(n.params),Xj(e.url,n.url)||t.urlSubject.next(n.url),qn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Yy(t,e){let n=qn(t.params,e.params)&&n2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Yy(t.parent,e.parent))}function kS(t){return typeof t.title=="string"||t.title===null}var ov=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=q(ph),this.location=q($i),this.changeDetector=q(Qi),this.inputBinder=q(av,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Jy(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]});let t=e;return t})(),Jy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ts?this.route:e===ph?this.childContexts:this.parent.get(e,n)}},av=new K("");function D2(t,e,n){let r=Nc(t,e._root,n?n._root:void 0);return new uh(r,e)}function Nc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=C2(t,e,n);return new Xt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Nc(t,a)),o}}let r=T2(e.value),i=e.children.map(s=>Nc(t,s));return new Xt(r,i)}}function C2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Nc(t,r,i);return Nc(t,r)})}function T2(t){return new ts(new dt(t.url),new dt(t.params),new dt(t.queryParams),new dt(t.fragment),new dt(t.data),t.outlet,t.component,t)}var Rc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},OS="ngNavigationCancelingError";function hh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Tc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=LS(!1,Zt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function LS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[OS]=!0,n.cancellationCode=e,n}function S2(t){return FS(t)&&Tc(t.url)}function FS(t){return!!t&&t[OS]}var A2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["ng-component"]],standalone:!0,features:[Oe],decls:1,vars:0,template:function(i,s){i&1&&Ee(0,"router-outlet")},dependencies:[ov],encapsulation:2});let t=e;return t})();function x2(t,e){return t.providers&&!t._injector&&(t._injector=ry(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cv(t){let e=t.children&&t.children.map(cv),n=e?ge(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=A2),n}function En(t){return t.outlet||oe}function M2(t,e){let n=t.filter(r=>En(r)===e);return n.push(...t.filter(r=>En(r)!==e)),n}function Lc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var N2=(t,e,n,r)=>he(i=>(new Xy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Xy=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),xy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Co(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Co(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Co(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Co(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gy(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $y(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(xy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),xy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Lc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},fh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ao=class{constructor(e,n){this.component=e,this.route=n}};function R2(t,e,n){let r=t._root,i=e?e._root:null;return wc(r,i,n,[r.value])}function P2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ro(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!CD(t)?t:e.get(t):r}function wc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Co(e);return t.children.forEach(o=>{k2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Dc(a,n.getContext(o),i)),i}function k2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=O2(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?wc(t,e,a?a.children:null,r,i):wc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ao(a.outlet.component,o))}else o&&Dc(e,a,i),i.canActivateChecks.push(new fh(r)),s.component?wc(t,null,a?a.children:null,r,i):wc(t,null,n,r,i);return i}function O2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Zi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zi(t.url,e.url)||!qn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yy(t,e)||!qn(t.queryParams,e.queryParams);case"paramsChange":default:return!Yy(t,e)}}function Dc(t,e,n){let r=Co(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Dc(o,e.children.getContext(s),n):Dc(o,null,n):Dc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ao(e.outlet.component,i)):n.canDeactivateChecks.push(new Ao(null,i)):n.canDeactivateChecks.push(new Ao(null,i))}function Fc(t){return typeof t=="function"}function L2(t){return typeof t=="boolean"}function F2(t){return t&&Fc(t.canLoad)}function V2(t){return t&&Fc(t.canActivate)}function j2(t){return t&&Fc(t.canActivateChild)}function q2(t){return t&&Fc(t.canDeactivate)}function U2(t){return t&&Fc(t.canMatch)}function VS(t){return t instanceof ir||t?.name==="EmptyError"}var th=Symbol("INITIAL_VALUE");function No(){return vn(t=>Gl(t.map(e=>e.pipe(sr(1),gm(th)))).pipe(he(e=>{for(let n of e)if(n!==!0){if(n===th)return th;if(n===!1||B2(n))return n}return!0}),yn(e=>e!==th),sr(1)))}function B2(t){return Tc(t)||t instanceof Rc}function z2(t,e){return nt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?re(ge(j({},n),{guardsResult:!0})):$2(o,r,i,t).pipe(nt(a=>a&&L2(a)?H2(r,s,t,e):re(a)),he(a=>ge(j({},n),{guardsResult:a})))})}function $2(t,e,n,r){return Ke(t).pipe(nt(i=>Y2(i.component,i.route,n,e,r)),xn(i=>i!==!0,!0))}function H2(t,e,n,r){return Ke(e).pipe(Js(i=>Ys(W2(i.route.parent,r),G2(i.route,r),Q2(t,i.path,n),K2(t,i.route,n))),xn(i=>i!==!0,!0))}function G2(t,e){return t!==null&&e&&e(new Hy(t)),re(!0)}function W2(t,e){return t!==null&&e&&e(new zy(t)),re(!0)}function K2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(s=>Wl(()=>{let o=Lc(e)??n,a=Ro(s,o),u=V2(a)?a.canActivate(e,t):dr(o,()=>a(e,t));return Zr(u).pipe(xn())}));return re(i).pipe(No())}function Q2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>P2(o)).filter(o=>o!==null).map(o=>Wl(()=>{let a=o.guards.map(u=>{let l=Lc(o.node)??n,h=Ro(u,l),p=j2(h)?h.canActivateChild(r,t):dr(l,()=>h(r,t));return Zr(p).pipe(xn())});return re(a).pipe(No())}));return re(s).pipe(No())}function Y2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return re(!0);let o=s.map(a=>{let u=Lc(e)??i,l=Ro(a,u),h=q2(l)?l.canDeactivate(t,e,n,r):dr(u,()=>l(t,e,n,r));return Zr(h).pipe(xn())});return re(o).pipe(No())}function J2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let s=i.map(o=>{let a=Ro(o,t),u=F2(a)?a.canLoad(e,n):dr(t,()=>a(e,n));return Zr(u)});return re(s).pipe(No(),jS(r))}function jS(t){return nm(rt(e=>{if(typeof e!="boolean")throw hh(t,e)}),he(e=>e===!0))}function X2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let s=i.map(o=>{let a=Ro(o,t),u=U2(a)?a.canMatch(e,n):dr(t,()=>a(e,n));return Zr(u)});return re(s).pipe(No(),jS(r))}var Pc=class{constructor(e){this.segmentGroup=e||null}},kc=class extends Error{constructor(e){super(),this.urlTree=e}};function Do(t){return Qs(new Pc(t))}function Z2(t){return Qs(new H(4e3,!1))}function eq(t){return Qs(LS(!1,Zt.GuardRejected))}var Zy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[oe])return Z2(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:v,data:S,title:P}=i,k=dr(s,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:P}));if(k instanceof Jr)throw new kc(k);n=k}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new kc(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Jr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tq(t,e,n,r,i){let s=uv(t,e,n);return s.matched?(r=x2(e,r),X2(r,e,n,i).pipe(he(o=>o===!0?s:j({},ev)))):re(s)}function uv(t,e,n){if(e.path==="**")return nq(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},ev):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Jj)(n,t,e);if(!i)return j({},ev);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?j(j({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function nq(t){return{matched:!0,parameters:t.length>0?bS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function mS(t,e,n,r){return n.length>0&&sq(t,n,r)?{segmentGroup:new Ae(e,iq(r,new Ae(n,t.children))),slicedSegments:[]}:n.length===0&&oq(t,n,r)?{segmentGroup:new Ae(t.segments,rq(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function rq(t,e,n,r){let i={};for(let s of n)if(mh(t,e,s)&&!r[En(s)]){let o=new Ae([],{});i[En(s)]=o}return j(j({},r),i)}function iq(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&En(r)!==oe){let i=new Ae([],{});n[En(r)]=i}return n}function sq(t,e,n){return n.some(r=>mh(t,e,r)&&En(r)!==oe)}function oq(t,e,n){return n.some(r=>mh(t,e,r))}function mh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aq(t,e,n,r){return En(t)!==r&&(r===oe||!mh(e,n,t))?!1:uv(e,t,n).matched}function cq(t,e,n){return e.length===0&&!t.children[n]}var tv=class{};function uq(t,e,n,r,i,s,o="emptyOnly"){return new nv(t,e,n,r,i,o,s).recognize()}var lq=31,nv=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Zy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=mS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(({children:n,rootSnapshot:r})=>{let i=new Xt(r,n),s=new dh("",i),o=g2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new So([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(he(r=>({children:r,rootSnapshot:n})),Vr(r=>{if(r instanceof kc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(he(o=>o instanceof Xt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ke(s).pipe(Js(o=>{let a=r.children[o],u=M2(n,o);return this.processSegmentGroup(e,u,a,o,i)}),mm((o,a)=>(o.push(...a),o)),jr(null),pm(),nt(o=>{if(o===null)return Do(r);let a=qS(o);return dq(a),re(a)}))}processSegment(e,n,r,i,s,o,a){return Ke(n).pipe(Js(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(Vr(l=>{if(l instanceof Pc)return re(null);throw l}))),xn(u=>!!u),Vr(u=>{if(VS(u))return cq(r,i,s)?re(new tv):Do(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return aq(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Do(i):Do(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=uv(n,i,s);if(!u)return Do(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lq&&(this.allowRedirects=!1));let v=new So(s,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,gS(i),En(i),i.component??i._loadedComponent??null,i,yS(i)),S=lh(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(nt(k=>this.processSegment(e,r,n,k.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=tq(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(vn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vn(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=u,S=new So(g,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,gS(r),En(r),r.component??r._loadedComponent??null,r,yS(r)),P=lh(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(P.params),S.data=Object.freeze(P.data);let{segmentGroup:k,slicedSegments:B}=mS(n,g,v,l);if(B.length===0&&k.hasChildren())return this.processChildren(h,l,k,S).pipe(he(W=>new Xt(S,W)));if(l.length===0&&B.length===0)return re(new Xt(S,[]));let te=En(r)===s;return this.processSegment(h,l,k,B,te?oe:s,!0,S).pipe(he(W=>new Xt(S,W instanceof Xt?[W]:[])))}))):Do(n)))}getChildConfig(e,n,r){return n.children?re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?re({routes:n._loadedRoutes,injector:n._loadedInjector}):J2(e,n,r,this.urlSerializer).pipe(nt(i=>i?this.configLoader.loadChildren(e,n).pipe(rt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):eq(n))):re({routes:[],injector:e})}};function dq(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function hq(t){let e=t.value.routeConfig;return e&&e.path===""}function qS(t){let e=[],n=new Set;for(let r of t){if(!hq(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=qS(r.children);e.push(new Xt(r.value,i))}return e.filter(r=>!n.has(r))}function gS(t){return t.data||{}}function yS(t){return t.resolve||{}}function fq(t,e,n,r,i,s){return nt(o=>uq(t,e,n,r,o.extractedUrl,i,s).pipe(he(({state:a,tree:u})=>ge(j({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function pq(t,e){return nt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return re(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of US(u))o.add(l);let a=0;return Ke(o).pipe(Js(u=>s.has(u)?mq(u,r,t,e):(u.data=lh(u,u.parent,t).resolve,re(void 0))),rt(()=>a++),Xs(1),nt(u=>a===o.size?re(n):Yt))})}function US(t){let e=t.children.map(n=>US(n)).flat();return[t,...e]}function mq(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!kS(i)&&(s[Oc]=i.title),gq(s,t,e,r).pipe(he(o=>(t._resolvedData=o,t.data=lh(t,t.parent,n).resolve,null)))}function gq(t,e,n,r){let i=Ry(t);if(i.length===0)return re({});let s={};return Ke(i).pipe(nt(o=>yq(t[o],e,n,r).pipe(xn(),rt(a=>{if(a instanceof Rc)throw hh(new Cc,a);s[o]=a}))),Xs(1),fm(s),Vr(o=>VS(o)?Yt:Qs(o)))}function yq(t,e,n,r){let i=Lc(e)??r,s=Ro(t,i),o=s.resolve?s.resolve(e,n):dr(i,()=>s(e,n));return Zr(o)}function My(t){return vn(e=>{let n=t(e);return n?Ke(n).pipe(he(()=>e)):re(e)})}var BS=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===oe);return i}getResolvedTitleForRoute(r){return r.data[Oc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>q(vq),providedIn:"root"});let t=e;return t})(),vq=(()=>{let e=class e extends BS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ue(lS))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lv=new K("",{providedIn:"root",factory:()=>({})}),dv=new K(""),bq=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(cy)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return re(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Zr(r.loadComponent()).pipe(he(zS),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ga(()=>{this.componentLoaders.delete(r)})),s=new Hs(i,()=>new ot).pipe($s());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=wq(i,this.compiler,r,this.onLoadEndListener).pipe(Ga(()=>{this.childrenLoaders.delete(i)})),a=new Hs(o,()=>new ot).pipe($s());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wq(t,e,n,r){return Zr(t.loadChildren()).pipe(he(zS),nt(i=>i instanceof rc||Array.isArray(i)?re(i):Ke(e.compileModuleAsync(i))),he(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(dv,[],{optional:!0,self:!0}).flat()),{routes:o.map(cv),injector:s}}))}function _q(t){return t&&typeof t=="object"&&"default"in t}function zS(t){return _q(t)?t.default:t}var hv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>q(Eq),providedIn:"root"});let t=e;return t})(),Eq=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Iq=new K("");var Dq=new K(""),Cq=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=q(bq),this.environmentInjector=q(sn),this.urlSerializer=q(iv),this.rootContexts=q(ph),this.location=q(mc),this.inputBindingEnabled=q(av,{optional:!0})!==null,this.titleStrategy=q(BS),this.options=q(lv,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(hv),this.createViewTransition=q(Iq,{optional:!0}),this.navigationErrorHandler=q(Dq,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Uy(s)),i=s=>this.events.next(new By(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ge(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new dt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ic,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yn(o=>o.id!==0),he(o=>ge(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vn(o=>{let a=!1,u=!1;return re(o).pipe(vn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),Yt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ge(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let g="";return this.events.next(new es(l.id,this.urlSerializer.serialize(l.rawUrl),g,Ly.IgnoredSameUrlNavigation)),l.resolve(!1),Yt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return re(l).pipe(vn(g=>{let v=this.transitions?.getValue();return this.events.next(new Ac(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),v!==this.transitions?.getValue()?Yt:Promise.resolve(g)}),fq(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ge(j({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let v=new ah(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:v,source:S,restoredState:P,extras:k}=l,B=new Ac(g,this.urlSerializer.serialize(v),S,P);this.events.next(B);let te=RS(this.rootComponentType).snapshot;return this.currentTransition=o=ge(j({},l),{targetSnapshot:te,urlAfterRedirects:v,extras:ge(j({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,re(o)}else{let g="";return this.events.next(new es(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Ly.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Yt}}),rt(l=>{let h=new Fy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),he(l=>(this.currentTransition=o=ge(j({},l),{guards:R2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),z2(this.environmentInjector,l=>this.events.next(l)),rt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw hh(this.urlSerializer,l.guardsResult);let h=new Vy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),yn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Zt.GuardRejected),!1)),My(l=>{if(l.guards.canActivateChecks.length)return re(l).pipe(rt(h=>{let p=new jy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),vn(h=>{let p=!1;return re(h).pipe(pq(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Zt.NoDataFromResolver)}}))}),rt(h=>{let p=new qy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),My(l=>{let h=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(rt(v=>{p.component=v}),he(()=>{})));for(let v of p.children)g.push(...h(v));return g};return Gl(h(l.targetSnapshot.root)).pipe(jr(null),sr(1))}),My(()=>this.afterPreactivation()),vn(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Ke(p).pipe(he(()=>o)):re(o)}),he(l=>{let h=D2(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ge(j({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),rt(()=>{this.events.next(new Mc)}),N2(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),sr(1),rt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),ym(this.transitionAbortSubject.pipe(rt(l=>{throw l}))),Ga(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vr(l=>{if(u=!0,FS(l))this.events.next(new gr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),S2(l)?this.events.next(new Mo(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new xc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=dr(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Rc){let{message:g,cancellationCode:v}=hh(this.urlSerializer,p);this.events.next(new gr(o.id,this.urlSerializer.serialize(o.extractedUrl),g,v)),this.events.next(new Mo(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let g=r.errorHandler(l);o.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Yt}))}))}cancelNavigationTransition(r,i,s){let o=new gr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tq(t){return t!==Ic}var Sq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>q(Aq),providedIn:"root"});let t=e;return t})(),rv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Aq=(()=>{let e=class e extends rv{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Kr(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$S=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>q(xq),providedIn:"root"});let t=e;return t})(),xq=(()=>{let e=class e extends $S{constructor(){super(...arguments),this.location=q(mc),this.urlSerializer=q(iv),this.options=q(lv,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(hv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=RS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ac)this.stateMemento=this.createStateMemento();else if(r instanceof es)this.rawUrlTree=i.initialUrl;else if(r instanceof ah){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Mc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof gr&&(r.code===Zt.GuardRejected||r.code===Zt.NoDataFromResolver)?this.restoreHistory(i):r instanceof xc?this.restoreHistory(i,!0):r instanceof Xr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Kr(e)))(s||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_c=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_c||{});function Mq(t,e){t.events.pipe(yn(n=>n instanceof Xr||n instanceof gr||n instanceof xc||n instanceof es),he(n=>n instanceof Xr||n instanceof es?_c.COMPLETE:(n instanceof gr?n.code===Zt.Redirect||n.code===Zt.SupersededByNewNavigation:!1)?_c.REDIRECTING:_c.FAILED),yn(n=>n!==_c.REDIRECTING),sr(1)).subscribe(()=>{e()})}function Nq(t){throw t}var Rq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fv=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=q(Kd),this.stateManager=q($S),this.options=q(lv,{optional:!0})||{},this.pendingTasks=q(vo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(Cq),this.urlSerializer=q(iv),this.location=q(mc),this.urlHandlingStrategy=q(hv),this._events=new ot,this.errorHandler=this.options.errorHandler||Nq,this.navigated=!1,this.routeReuseStrategy=q(Sq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(dv,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(av,{optional:!0}),this.eventsSubscription=new $e,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof gr&&i.code!==Zt.Redirect&&i.code!==Zt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Xr)this.navigated=!0;else if(i instanceof Mo){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=j({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Tq(s.source)},a);this.scheduleNavigation(u,Ic,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Oq(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ic,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=j({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(cv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let v=s?s.snapshot:this.routerState.snapshot.root;g=AS(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return xS(g,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Tc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ic,null,i)}navigate(r,i={skipLocationChange:!1}){return kq(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=j({},Rq):i===!1?s=j({},Pq):s=i,Tc(r))return dS(this.currentUrlTree,r,s);let o=this.parseUrl(r);return dS(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((g,v)=>{u=g,l=v});let p=this.pendingTasks.add();return Mq(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function Oq(t){return!(t instanceof Mc)&&!(t instanceof Mo)}var HS=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ot,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Xr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:qC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Q(fv),Q(ts),Rg("tabindex"),Q(zi),Q(Vn),Q(Yr))},e.\u0275dir=Ue({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&J("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&wo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Yi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Yi],replaceUrl:[2,"replaceUrl","replaceUrl",Yi],routerLink:"routerLink"},standalone:!0,features:[ny,Fn]});let t=e;return t})();var Lq=new K("");function GS(t,...e){return Ln([{provide:dv,multi:!0,useValue:t},[],{provide:ts,useFactory:Fq,deps:[fv]},{provide:ay,multi:!0,useFactory:jq},e.map(n=>n.\u0275providers)])}function Fq(t){return t.routerState.root}function Vq(t,e){return{\u0275kind:t,\u0275providers:e}}function jq(){let t=q(zt);return e=>{let n=t.get(Io);if(e!==n.components[0])return;let r=t.get(fv),i=t.get(qq);t.get(Uq)===1&&r.initialNavigation(),t.get(Bq,null,ae.Optional)?.setUpPreloading(),t.get(Lq,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qq=new K("",{factory:()=>new ot}),Uq=new K("",{providedIn:"root",factory:()=>1});var Bq=new K("");function WS(){return Vq(6,[{provide:Yr,useClass:JT}])}var QS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zq=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,g=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new mv;let g=s<<2|a>>4;if(r.push(g),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$q=function(t){let e=QS(t);return YS.encodeByteArray(e,!0)},Vc=function(t){return $q(t).replace(/\./g,"")},yv=function(t){try{return YS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Hq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Gq=()=>Hq().__FIREBASE_DEFAULTS__,Wq=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&yv(t[1]);return e&&JSON.parse(e)},vv=()=>{try{return Gq()||Wq()||Kq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bv=t=>{var e,n;return(n=(e=vv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JS=t=>{let e=bv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wv=()=>{var t;return(t=vv())===null||t===void 0?void 0:t.config},_v=t=>{var e;return(e=vv())===null||e===void 0?void 0:e[`_${t}`]};var gh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function XS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vc(JSON.stringify(n)),Vc(JSON.stringify(o)),""].join(".")}function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function eA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rA(){let t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ev(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Qq="FirebaseError",en=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qq,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yr.prototype.create)}},yr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Yq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new en(i,a,r)}};function Yq(t,e){return t.replace(Jq,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Jq=/\{\$([^}]+)}/g;function sA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ns(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(KS(s)&&KS(o)){if(!ns(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function KS(t){return t!==null&&typeof t=="object"}function jc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oA(t,e){let n=new gv(t,e);return n.subscribe.bind(n)}var gv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pv),i.error===void 0&&(i.error=pv),i.complete===void 0&&(i.complete=pv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Xq(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pv(){}var KY=4*60*60*1e3;function ei(t){return t&&t._delegate?t._delegate:t}var dn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var rs="[DEFAULT]";var Iv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new gh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eU(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zq(t){return t===rs?void 0:t}function eU(t){return t.instantiationMode==="EAGER"}var yh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Iv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var tU=[],Ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ce||{}),nU={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},rU=Ce.INFO,iU={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},sU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=iU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ti=class{constructor(e){this.name=e,this._logLevel=rU,this._logHandler=sU,this._userLogHandler=null,tU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var oU=(t,e)=>e.some(n=>t instanceof n),aA,cA;function aU(){return aA||(aA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cU(){return cA||(cA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uA=new WeakMap,Cv=new WeakMap,lA=new WeakMap,Dv=new WeakMap,Sv=new WeakMap;function uU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Un(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uA.set(n,t)}).catch(()=>{}),Sv.set(e,t),e}function lU(t){if(Cv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cv.set(t,e)}var Tv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dA(t){Tv=t(Tv)}function dU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(vh(this),e,...n);return lA.set(r,e.sort?e.sort():[e]),Un(r)}:cU().includes(t)?function(...e){return t.apply(vh(this),e),Un(uA.get(this))}:function(...e){return Un(t.apply(vh(this),e))}}function hU(t){return typeof t=="function"?dU(t):(t instanceof IDBTransaction&&lU(t),oU(t,aU())?new Proxy(t,Tv):t)}function Un(t){if(t instanceof IDBRequest)return uU(t);if(Dv.has(t))return Dv.get(t);let e=hU(t);return e!==t&&(Dv.set(t,e),Sv.set(e,t)),e}var vh=t=>Sv.get(t);function bh(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Un(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Un(o.result),u.oldVersion,u.newVersion,Un(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var fU=["get","getKey","getAll","getAllKeys","count"],pU=["put","add","delete","clear"],Av=new Map;function hA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Av.get(e))return Av.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=pU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fU.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Av.set(e,s),s}dA(t=>ge(j({},t),{get:(e,n,r)=>hA(e,n)||t.get(e,n,r),has:(e,n)=>!!hA(e,n)||t.has(e,n)}));var Mv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function mU(t){let e=t.getComponent();return e?.type==="VERSION"}var Nv="@firebase/app",fA="0.10.13";var vr=new ti("@firebase/app"),gU="@firebase/app-compat",yU="@firebase/analytics-compat",vU="@firebase/analytics",bU="@firebase/app-check-compat",wU="@firebase/app-check",_U="@firebase/auth",EU="@firebase/auth-compat",IU="@firebase/database",DU="@firebase/data-connect",CU="@firebase/database-compat",TU="@firebase/functions",SU="@firebase/functions-compat",AU="@firebase/installations",xU="@firebase/installations-compat",MU="@firebase/messaging",NU="@firebase/messaging-compat",RU="@firebase/performance",PU="@firebase/performance-compat",kU="@firebase/remote-config",OU="@firebase/remote-config-compat",LU="@firebase/storage",FU="@firebase/storage-compat",VU="@firebase/firestore",jU="@firebase/vertexai-preview",qU="@firebase/firestore-compat",UU="firebase",BU="10.14.1";var Rv="[DEFAULT]",zU={[Nv]:"fire-core",[gU]:"fire-core-compat",[vU]:"fire-analytics",[yU]:"fire-analytics-compat",[wU]:"fire-app-check",[bU]:"fire-app-check-compat",[_U]:"fire-auth",[EU]:"fire-auth-compat",[IU]:"fire-rtdb",[DU]:"fire-data-connect",[CU]:"fire-rtdb-compat",[TU]:"fire-fn",[SU]:"fire-fn-compat",[AU]:"fire-iid",[xU]:"fire-iid-compat",[MU]:"fire-fcm",[NU]:"fire-fcm-compat",[RU]:"fire-perf",[PU]:"fire-perf-compat",[kU]:"fire-rc",[OU]:"fire-rc-compat",[LU]:"fire-gcs",[FU]:"fire-gcs-compat",[VU]:"fire-fst",[qU]:"fire-fst-compat",[jU]:"fire-vertex","fire-js":"fire-js",[UU]:"fire-js-all"};var qc=new Map,$U=new Map,Pv=new Map;function pA(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ri(t){let e=t.name;if(Pv.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Pv.set(e,t);for(let n of qc.values())pA(n,t);for(let n of $U.values())pA(n,t);return!0}function Bc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function br(t){return t.settings!==void 0}var HU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new yr("app","Firebase",HU);var kv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}};var ii=BU;function Fv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Rv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ni.create("bad-app-name",{appName:String(i)});if(n||(n=wv()),!n)throw ni.create("no-options");let s=qc.get(i);if(s){if(ns(n,s.options)&&ns(r,s.config))return s;throw ni.create("duplicate-app",{appName:i})}let o=new yh(i);for(let u of Pv.values())o.addComponent(u);let a=new kv(n,r,o);return qc.set(i,a),a}function Po(t=Rv){let e=qc.get(t);if(!e&&t===Rv&&wv())return Fv();if(!e)throw ni.create("no-app",{appName:t});return e}function wh(){return Array.from(qc.values())}function st(t,e,n){var r;let i=(r=zU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}ri(new dn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var GU="firebase-heartbeat-database",WU=1,Uc="firebase-heartbeat-store",xv=null;function vA(){return xv||(xv=bh(GU,WU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ni.create("idb-open",{originalErrorMessage:t.message})})),xv}function KU(t){return _(this,null,function*(){try{let n=(yield vA()).transaction(Uc),r=yield n.objectStore(Uc).get(bA(t));return yield n.done,r}catch(e){if(e instanceof en)vr.warn(e.message);else{let n=ni.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}})}function mA(t,e){return _(this,null,function*(){try{let r=(yield vA()).transaction(Uc,"readwrite");yield r.objectStore(Uc).put(e,bA(t)),yield r.done}catch(n){if(n instanceof en)vr.warn(n.message);else{let r=ni.create("idb-set",{originalErrorMessage:n?.message});vr.warn(r.message)}}})}function bA(t){return`${t.name}!${t.options.appId}`}var QU=1024,YU=30*24*60*60*1e3,Ov=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Lv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=YU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){vr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=gA(),{heartbeatsToSend:r,unsentEntries:i}=JU(this._heartbeatsCache.heartbeats),s=Vc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return vr.warn(n),""}})}};function gA(){return new Date().toISOString().substring(0,10)}function JU(t,e=QU){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Lv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Ev()?iA().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield KU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function yA(t){return Vc(JSON.stringify({version:2,heartbeats:t})).length}function XU(t){ri(new dn("platform-logger",e=>new Mv(e),"PRIVATE")),ri(new dn("heartbeat",e=>new Ov(e),"PRIVATE")),st(Nv,fA,t),st(Nv,fA,"esm2017"),st("fire-js","")}XU("");var ZU="firebase",eB="10.14.1";st(ZU,eB,"app");var ss=new ur("ANGULARFIRE2_VERSION");function Eh(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var zc=(t,e)=>{let n=e?[e]:wh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Oo=class{constructor(){return zc(tB)}},tB="app-check";function ko(){}var _h=class{zone;delegate;constructor(e,n=cm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Vv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko)),n.pipe(rt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Lo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _h(Zone.current)),this.insideAngular=n.run(()=>new _h(Zone.current,am)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ue(Ne))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ih(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function nB(t){return Ih().ngZone.runOutsideAngular(()=>t())}function is(t){return Ih().ngZone.run(()=>t())}function rB(t){return iB(Ih())(t)}function iB(t){return function(n){return n=n.lift(new Vv(t.ngZone)),n.pipe(Fr(t.outsideAngular),Lr(t.insideAngular))}}var sB=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),is(()=>t.apply(void 0,r))},Fo=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=is(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko))),r[s]=sB(r[s],n));let i=nB(()=>t.apply(this,r));if(!e)if(i instanceof ye){let s=Ih();return i.pipe(Fr(s.outsideAngular),Lr(s.insideAngular))}else return is(()=>i);return i instanceof ye?i.pipe(rB):i instanceof Promise?is(()=>new Promise((s,o)=>i.then(a=>is(()=>s(a)),a=>is(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:is(()=>i)};var wr=class{constructor(e){return e}},os=class{constructor(){return wh()}};function oB(t){return t&&t.length===1?t[0]:new wr(Po())}var jv=new K("angularfire2._apps"),aB={provide:wr,useFactory:oB,deps:[[new Ot,jv]]},cB={provide:os,deps:[[new Ot,jv]]};function uB(t){return(e,n)=>{let r=n.get(Qr);st("angularfire",ss.full,"core"),st("angularfire",ss.full,"app"),st("angular",PT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new wr(i)}}function wA(t,...e){return Ln([aB,cB,{provide:jv,useFactory:uB(t),multi:!0,deps:[Ne,zt,Lo,...e]}])}var _A=Fo(Fv,!0);var EA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,g=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new qv;let g=s<<2|a>>4;if(r.push(g),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hB=function(t){let e=EA(t);return dB.encodeByteArray(e,!0)},Uv=function(t){return hB(t).replace(/\./g,"")};function Bv(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var fB="FirebaseError",_r=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}},$c=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new _r(i,a,r)}};function pB(t,e){return t.replace(mB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var mB=/\{\$([^}]+)}/g;var LJ=4*60*60*1e3;function as(t){return t&&t._delegate?t._delegate:t}var si=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var gB=[],xe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(xe||{}),yB={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},vB=xe.INFO,bB={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},wB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=bB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Vo=class{constructor(e){this.name=e,this._logLevel=vB,this._logHandler=wB,this._userLogHandler=null,gB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}};var $v=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function EB(t){let e=t.getComponent();return e?.type==="VERSION"}var Hv="@firebase/app",DA="0.9.13";var cs=new Vo("@firebase/app"),IB="@firebase/app-compat",DB="@firebase/analytics-compat",CB="@firebase/analytics",TB="@firebase/app-check-compat",SB="@firebase/app-check",AB="@firebase/auth",xB="@firebase/auth-compat",MB="@firebase/database",NB="@firebase/database-compat",RB="@firebase/functions",PB="@firebase/functions-compat",kB="@firebase/installations",OB="@firebase/installations-compat",LB="@firebase/messaging",FB="@firebase/messaging-compat",VB="@firebase/performance",jB="@firebase/performance-compat",qB="@firebase/remote-config",UB="@firebase/remote-config-compat",BB="@firebase/storage",zB="@firebase/storage-compat",$B="@firebase/firestore",HB="@firebase/firestore-compat",GB="firebase",WB="9.23.0";var KB={[Hv]:"fire-core",[IB]:"fire-core-compat",[CB]:"fire-analytics",[DB]:"fire-analytics-compat",[SB]:"fire-app-check",[TB]:"fire-app-check-compat",[AB]:"fire-auth",[xB]:"fire-auth-compat",[MB]:"fire-rtdb",[NB]:"fire-rtdb-compat",[RB]:"fire-fn",[PB]:"fire-fn-compat",[kB]:"fire-iid",[OB]:"fire-iid-compat",[LB]:"fire-fcm",[FB]:"fire-fcm-compat",[VB]:"fire-perf",[jB]:"fire-perf-compat",[qB]:"fire-rc",[UB]:"fire-rc-compat",[BB]:"fire-gcs",[zB]:"fire-gcs-compat",[$B]:"fire-fst",[HB]:"fire-fst-compat","fire-js":"fire-js",[GB]:"fire-js-all"};var QB=new Map,CA=new Map;function YB(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hc(t){let e=t.name;if(CA.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;CA.set(e,t);for(let n of QB.values())YB(n,t);return!0}var JB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Kv=new $c("app","Firebase",JB);var xA=WB;function jo(t,e,n){var r;let i=(r=KB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(a.join(" "));return}Hc(new si(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var XB="firebase-heartbeat-database",ZB=1,Gc="firebase-heartbeat-store",zv=null;function MA(){return zv||(zv=bh(XB,ZB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gc)}}}).catch(t=>{throw Kv.create("idb-open",{originalErrorMessage:t.message})})),zv}function ez(t){return _(this,null,function*(){try{return yield(yield MA()).transaction(Gc).objectStore(Gc).get(NA(t))}catch(e){if(e instanceof _r)cs.warn(e.message);else{let n=Kv.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}})}function TA(t,e){return _(this,null,function*(){try{let r=(yield MA()).transaction(Gc,"readwrite");yield r.objectStore(Gc).put(e,NA(t)),yield r.done}catch(n){if(n instanceof _r)cs.warn(n.message);else{let r=Kv.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}})}function NA(t){return`${t.name}!${t.options.appId}`}var tz=1024,nz=30*24*60*60*1e3,Gv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=SA();if(this._heartbeatsCache===null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{let s=new Date(i.date).valueOf();return Date.now()-s<=nz}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return _(this,null,function*(){if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";let e=SA(),{heartbeatsToSend:n,unsentEntries:r}=rz(this._heartbeatsCache.heartbeats),i=Uv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i})}};function SA(){return new Date().toISOString().substring(0,10)}function rz(t,e=tz){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Wv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Bv()?IA().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){return(yield this._canUseIndexedDBPromise)?(yield ez(this.app))||{heartbeats:[]}:{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function AA(t){return Uv(JSON.stringify({version:2,heartbeats:t})).length}function iz(t){Hc(new si("platform-logger",e=>new $v(e),"PRIVATE")),Hc(new si("heartbeat",e=>new Gv(e),"PRIVATE")),jo(Hv,DA,t),jo(Hv,DA,"esm2017"),jo("fire-js","")}iz("");function GA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WA=GA,KA=new yr("auth","Firebase",GA());var xh=new ti("@firebase/auth");function sz(t,...e){xh.logLevel<=Ce.WARN&&xh.warn(`Auth (${ii}): ${t}`,...e)}function Ch(t,...e){xh.logLevel<=Ce.ERROR&&xh.error(`Auth (${ii}): ${t}`,...e)}function ai(t,...e){throw pb(t,...e)}function ls(t,...e){return pb(t,...e)}function QA(t,e,n){let r=Object.assign(Object.assign({},WA()),{[e]:n});return new yr("auth","Firebase",r).create(e,{appName:t.name})}function us(t){return QA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pb(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KA.create(t,...e)}function Z(t,e,...n){if(!t)throw pb(e,...n)}function Er(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ch(e),new Error(e)}function ci(t,e){t||Er(e)}function Xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oz(){return RA()==="http:"||RA()==="https:"}function RA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function az(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oz()||tA()||"connection"in navigator)?navigator.onLine:!0}function cz(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ds=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=ZS()||nA()}get(){return az()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function mb(t,e){ci(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Mh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lz=new ds(3e4,6e4);function gb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Uo(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return YA(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=jc(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:g},l);return eA()||(v.referrerPolicy="no-referrer"),Mh.fetch()(JA(t,t.config.apiHost,n,p),v)}))})}function YA(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},uz),e);try{let i=new Zv(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Dh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Dh(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QA(t,h,l);ai(t,h)}}catch(i){if(i instanceof en)throw i;ai(t,"network-request-failed",{message:String(i)})}})}function dz(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield Uo(t,e,n,r,i);return"mfaPendingCredential"in l&&ai(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function JA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?mb(t.config,i):`${t.config.apiScheme}://${i}`}var Zv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ls(this.auth,"network-request-failed")),lz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Dh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ls(t,e,r);return i.customData._tokenResponse=n,i}function hz(t,e){return _(this,null,function*(){return Uo(t,"POST","/v1/accounts:delete",e)})}function XA(t,e){return _(this,null,function*(){return Uo(t,"POST","/v1/accounts:lookup",e)})}function Wc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yb(t,e=!1){return _(this,null,function*(){let n=ei(t),r=yield n.getIdToken(e),i=vb(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Wc(Qv(i.auth_time)),issuedAtTime:Wc(Qv(i.iat)),expirationTime:Wc(Qv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Qv(t){return Number(t)*1e3}function vb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{let i=yv(n);return i?JSON.parse(i):(Ch("Failed to decode base64 JWT payload"),null)}catch(i){return Ch("Caught error parsing JWT payload as JSON",i?.toString()),null}}function PA(t){let e=vb(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof en&&fz(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function fz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var eb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Qc(t,XA(n,{idToken:r}));Z(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZA(s.providerUserInfo):[],a=pz(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function bb(t){return _(this,null,function*(){let e=ei(t);yield Nh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function pz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZA(t){return t.map(e=>{var{providerId:n}=e,r=um(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mz(t,e){return _(this,null,function*(){let n=yield YA(t,{},()=>_(this,null,function*(){let r=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=JA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function gz(t,e){return _(this,null,function*(){return Uo(t,"POST","/v2/accounts:revokeToken",gb(t,e))})}var Kc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let n=PA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield mz(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Er("not implemented")}};function oi(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=um(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Qc(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yb(this,e)}reload(){return bb(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Nh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(br(this.auth.app))return Promise.reject(us(this.auth));let e=yield this.getIdToken();return yield Qc(this,hz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(l=n.createdAt)!==null&&l!==void 0?l:void 0,te=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:Ie,isAnonymous:et,providerData:Se,stsTokenManager:I}=n;Z(W&&I,e,"internal-error");let y=Kc.fromJSON(this.name,I);Z(typeof W=="string",e,"internal-error"),oi(p,e.name),oi(g,e.name),Z(typeof Ie=="boolean",e,"internal-error"),Z(typeof et=="boolean",e,"internal-error"),oi(v,e.name),oi(S,e.name),oi(P,e.name),oi(k,e.name),oi(B,e.name),oi(te,e.name);let b=new t({uid:W,auth:e,email:g,emailVerified:Ie,displayName:p,isAnonymous:et,photoURL:S,phoneNumber:v,tenantId:P,stsTokenManager:y,createdAt:B,lastLoginAt:te});return Se&&Array.isArray(Se)&&(b.providerData=Se.map(E=>Object.assign({},E))),k&&(b._redirectEventId=k),b}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Kc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nh(s),s})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];Z(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ZA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Kc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Yc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var kA=new Map;function Ir(t){ci(t instanceof Function,"Expected a class definition");let e=kA.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kA.set(t,e),e)}var yz=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),tb=yz;function Th(t,e,n){return`firebase:${t}:${e}:${n}`}var Rh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Th(this.userKey,i.apiKey,s),this.fullPersistenceKey=Th("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?qo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Ir(tb),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Ir(tb),o=Th(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=qo._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function OA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ex(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sx(e))return"Blackberry";if(ox(e))return"Webos";if(tx(e))return"Safari";if((e.includes("chrome/")||nx(e))&&!e.includes("edge/"))return"Chrome";if(ix(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ex(t=ft()){return/firefox\//i.test(t)}function tx(t=ft()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nx(t=ft()){return/crios\//i.test(t)}function rx(t=ft()){return/iemobile/i.test(t)}function ix(t=ft()){return/android/i.test(t)}function sx(t=ft()){return/blackberry/i.test(t)}function ox(t=ft()){return/webos/i.test(t)}function wb(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vz(t=ft()){var e;return wb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bz(){return rA()&&document.documentMode===10}function ax(t=ft()){return wb(t)||ix(t)||ox(t)||sx(t)||/windows phone/i.test(t)||rx(t)}function cx(t,e=[]){let n;switch(t){case"Browser":n=OA(ft());break;case"Worker":n=`${OA(ft())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ii}/${r}`}var nb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function wz(n){return _(this,arguments,function*(t,e={}){return Uo(t,"GET","/v2/passwordPolicy",gb(t,e))})}var _z=6,rb=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_z,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ib=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ph(this),this.idTokenSubscription=new Ph(this),this.beforeStateQueue=new nb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Rh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield XA(this,{idToken:e}),r=yield qo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(br(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=cz()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(br(this.app))return Promise.reject(us(this));let n=e?ei(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return br(this.app)?Promise.reject(us(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return br(this.app)?Promise.reject(us(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Ir(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield wz(this),n=new rb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield gz(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ir(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=yield Rh.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&sz(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function _b(t){return ei(t)}var Ph=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=oA(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Eb={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ez(t){Eb=t}function Iz(t){return Eb.loadJS(t)}function Dz(){return Eb.gapiScript}function ux(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Ib(t,e){let n=Bc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ns(s,e??{}))return i;ai(i,"already-initialized")}return n.initialize({options:e})}function Cz(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ir);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Db(t,e,n){let r=_b(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=lx(e),{host:o,port:a}=Tz(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Sz()}function lx(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tz(t){let e=lx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:LA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:LA(o)}}}function LA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Sz(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var kh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}};function Yv(t,e){return _(this,null,function*(){return dz(t,"POST","/v1/accounts:signInWithIdp",gb(t,e))})}var Oh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sb=class extends Oh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Jc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield qo._fromIdTokenResponse(e,r,i),o=FA(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=FA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function FA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ob=class t extends en{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function dx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ob._fromErrorAndOperation(t,s,e,r):s})}function Az(t,e,n=!1){return _(this,null,function*(){let r=yield Qc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Jc._forOperation(t,"link",r)})}function xz(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(br(r.app))return Promise.reject(us(r));let i="reauthenticate";try{let s=yield Qc(t,dx(r,i,e,t),n);Z(s.idToken,r,"internal-error");let o=vb(s.idToken);Z(o,r,"internal-error");let{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),Jc._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ai(r,"user-mismatch"),s}})}function Mz(t,e,n=!1){return _(this,null,function*(){if(br(t.app))return Promise.reject(us(t));let r="signIn",i=yield dx(t,r,e),s=yield Jc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Cb(t,e,n,r){return ei(t).onIdTokenChanged(e,n,r)}function Tb(t,e,n){return ei(t).beforeAuthStateChanged(e,n)}var Lh="__sak";var Fh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Nz=1e3,Rz=10,Pz=(()=>{class t extends Fh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ax(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);bz()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Rz):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Nz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield rr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield rr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield rr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),hx=Pz;var kz=(()=>{class t extends Fh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Sb=kz;function Oz(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Lz=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,o)})),l=yield Oz(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function fx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ab=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=fx("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Bn(){return window}function Fz(t){Bn().location.href=t}function px(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}function Vz(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function jz(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qz(){return px()?self:null}var mx="firebaseLocalStorageDb",Uz=1,Vh="firebaseLocalStorage",gx="fbase_key",hs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function qh(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function Bz(){let t=indexedDB.deleteDatabase(mx);return new hs(t).toPromise()}function cb(){let t=indexedDB.open(mx,Uz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Vh,{keyPath:gx})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),yield Bz(),e(yield cb()))}))})}function VA(t,e,n){return _(this,null,function*(){let r=qh(t,!0).put({[gx]:e,value:n});return new hs(r).toPromise()})}function zz(t,e){return _(this,null,function*(){let n=qh(t,!1).get(e),r=yield new hs(n).toPromise();return r===void 0?null:r.value})}function jA(t,e){let n=qh(t,!0).delete(e);return new hs(n).toPromise()}var $z=800,Hz=3,Gz=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield cb(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Hz)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return px()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=Lz._getInstance(qz()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Vz(),!this.activeServiceWorker)return;this.sender=new ab(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||jz()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield cb();return yield VA(n,Lh,"1"),yield jA(n,Lh),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>VA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>zz(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>jA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=qh(s,!1).getAll();return new hs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),$z)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),yx=Gz;var aX=ux("rcb"),cX=new ds(3e4,6e4);function Wz(t,e){return e?Ir(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Xc=class extends kh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Kz(t){return Mz(t.auth,new Xc(t),t.bypassAuthState)}function Qz(t){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),xz(n,new Xc(t),t.bypassAuthState)}function Yz(t){return _(this,null,function*(){let{auth:e,user:n}=t;return Z(n,e,"internal-error"),Az(n,new Xc(t),t.bypassAuthState)})}var ub=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kz;case"linkViaPopup":case"linkViaRedirect":return Yz;case"reauthViaPopup":case"reauthViaRedirect":return Qz;default:ai(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var uX=new ds(2e3,1e4);var Jz="pendingRedirect",Sh=new Map,lb=class t extends ub{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Sh.get(this.auth._key());if(!e){try{let r=(yield Xz(this.resolver,this.auth))?yield rr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return rr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,rr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function Xz(t,e){return _(this,null,function*(){let n=t$(e),r=e$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Zz(t,e){Sh.set(t._key(),e)}function e$(t){return Ir(t._redirectPersistence)}function t$(t){return Th(Jz,t.config.apiKey,t.name)}function n$(t,e,n=!1){return _(this,null,function*(){if(br(t.app))return Promise.reject(us(t));let r=_b(t),i=Wz(r,e),o=yield new lb(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var r$=10*60*1e3,db=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ls(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r$&&this.cachedEventUids.clear(),this.cachedEventUids.has(qA(e))}saveEventToCache(e){this.cachedEventUids.add(qA(e)),this.lastProcessedEventTime=Date.now()}};function qA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function i$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(t);default:return!1}}function s$(n){return _(this,arguments,function*(t,e={}){return Uo(t,"GET","/v1/projects",e)})}var o$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a$=/^https?/;function c$(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield s$(t);for(let n of e)try{if(u$(n))return}catch{}ai(t,"unauthorized-domain")})}function u$(t){let e=Xv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a$.test(n))return!1;if(o$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var l$=new ds(3e4,6e4);function UA(){let t=Bn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d$(t){return new Promise((e,n)=>{var r,i,s;function o(){UA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UA(),n(ls(t,"network-request-failed"))},timeout:l$.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bn().gapi)===null||s===void 0)&&s.load)o();else{let a=ux("iframefcb");return Bn()[a]=()=>{gapi.load?o():n(ls(t,"network-request-failed"))},Iz(`${Dz()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Ah=null,e})}var Ah=null;function h$(t){return Ah=Ah||d$(t),Ah}var f$=new ds(5e3,15e3),p$="__/auth/iframe",m$="emulator/auth/iframe",g$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v$(t){let e=t.config;Z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?mb(e,m$):`https://${t.config.authDomain}/${p$}`,r={apiKey:e.apiKey,appName:t.name,v:ii},i=y$.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${jc(r).slice(1)}`}function b$(t){return _(this,null,function*(){let e=yield h$(t),n=Bn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:v$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g$,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ls(t,"network-request-failed"),a=Bn().setTimeout(()=>{s(o)},f$.get());function u(){Bn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var w$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_$=500,E$=600,I$="_blank",D$="http://localhost",jh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function C$(t,e,n,r=_$,i=E$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},w$),{width:r.toString(),height:i.toString(),top:s,left:o}),l=ft().toLowerCase();n&&(a=nx(l)?I$:n),ex(l)&&(e=e||D$,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[v,S])=>`${g}${v}=${S},`,"");if(vz(l)&&a!=="_self")return T$(e||"",a),new jh(null);let p=window.open(e||"",a,h);Z(p,t,"popup-blocked");try{p.focus()}catch{}return new jh(p)}function T$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var S$="__/auth/handler",A$="emulator/auth/handler",x$=encodeURIComponent("fac");function BA(t,e,n,r,i,s){return _(this,null,function*(){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ii,eventId:i};if(e instanceof Oh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof sb){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${x$}=${encodeURIComponent(u)}`:"";return`${M$(t)}?${jc(a).slice(1)}${l}`})}function M$({config:t}){return t.emulator?mb(t,A$):`https://${t.authDomain}/${S$}`}var Jv="webStorageSupport",hb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sb,this._completeRedirectFn=n$,this._overrideRedirectResult=Zz}_openPopup(e,n,r,i){return _(this,null,function*(){var s;ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield BA(e,n,r,Xv(),i);return C$(e,o,fx())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield BA(e,n,r,Xv(),i);return Fz(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ci(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield b$(e),r=new db(e);return n.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jv,{type:Jv},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Jv];o!==void 0&&n(!!o),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ax()||tx()||wb()}},bx=hb;var zA="@firebase/auth",$A="1.7.9";var fb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function N$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R$(t){ri(new dn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cx(t)},l=new ib(r,i,s,u);return Cz(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ri(new dn("auth-internal",e=>{let n=_b(e.getProvider("auth").getImmediate());return(r=>new fb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(zA,$A,N$(t)),st(zA,$A,"esm2017")}var P$=5*60,k$=_v("authIdTokenMaxAge")||P$,HA=null,O$=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k$)return;let i=n?.token;HA!==i&&(HA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ab(t=Po()){let e=Bc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ib(t,{popupRedirectResolver:bx,persistence:[yx,hx,Sb]}),r=_v("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=O$(s.toString());Tb(n,o,()=>o(n.currentUser)),Cb(n,a=>o(a))}}let i=bv("auth");return i&&Db(n,`http://${i}`),n}function L$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ez({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ls("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",L$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R$("Browser");var wx="auth",Zc=class{constructor(e){return e}},eu=class{constructor(){return zc(wx)}};var xb=new K("angularfire2.auth-instances");function M4(t,e){let n=Eh(wx,t,e);return n&&new Zc(n)}function N4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zc(r)}}var R4={provide:eu,deps:[[new Ot,xb]]},P4={provide:Zc,useFactory:M4,deps:[[new Ot,xb],wr]};function _x(t,...e){return st("angularfire",ss.full,"auth"),Ln([P4,R4,{provide:xb,useFactory:N4(t),multi:!0,deps:[Ne,zt,Lo,os,[new Ot,Oo],...e]}])}var Ex=Fo(Ab,!0);var k4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dn={},V,Jb=Jb||{},ee=k4||self;function tf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function pu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function O4(t){return Object.prototype.hasOwnProperty.call(t,Mb)&&t[Mb]||(t[Mb]=++L4)}var Mb="closure_uid_"+(1e9*Math.random()>>>0),L4=0;function F4(t,e,n){return t.call.apply(t.bind,arguments)}function V4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ct(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ct=F4:Ct=V4,Ct.apply(null,arguments)}function Uh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ut(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ui(){this.s=this.s,this.o=this.o}var j4=0;ui.prototype.s=!1;ui.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),j4!=0)&&O4(this)};ui.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ox=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Xb(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ix(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(tf(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Tt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var q4=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return t}();function ou(t){return/^[\s\xa0]*$/.test(t)}function nf(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function zn(t){return nf().indexOf(t)!=-1}function Zb(t){return Zb[" "](t),t}Zb[" "]=function(){};function U4(t,e){var n=xH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var B4=zn("Opera"),Ho=zn("Trident")||zn("MSIE"),Lx=zn("Edge"),Ob=Lx||Ho,Fx=zn("Gecko")&&!(nf().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),z4=nf().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge");function Vx(){var t=ee.document;return t?t.documentMode:void 0}var Lb;e:{if(Bh="",zh=function(){var t=nf();if(Fx)return/rv:([^\);]+)(\)|;)/.exec(t);if(Lx)return/Edge\/([\d\.]+)/.exec(t);if(Ho)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(z4)return/WebKit\/(\S+)/.exec(t);if(B4)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),zh&&(Bh=zh?zh[1]:""),Ho&&($h=Vx(),$h!=null&&$h>parseFloat(Bh))){Lb=String($h);break e}Lb=Bh}var Bh,zh,$h,Fb;ee.document&&Ho?(Nb=Vx(),Fb=Nb||parseInt(Lb,10)||void 0):Fb=void 0;var Nb,$4=Fb;function au(t,e){if(Tt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Fx){e:{try{Zb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:H4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&au.$.h.call(this)}}ut(au,Tt);var H4={2:"touch",3:"pen",4:"mouse"};au.prototype.h=function(){au.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var mu="closure_listenable_"+(1e6*Math.random()|0),G4=0;function W4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++G4,this.fa=this.ia=!1}function rf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ew(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function K4(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function jx(t){let e={};for(let n in t)e[n]=t[n];return e}var Dx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Dx.length;s++)n=Dx[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sf(t){this.src=t,this.g={},this.h=0}sf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=jb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new W4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Vb(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Ox(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(rf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function jb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var tw="closure_lm_"+(1e6*Math.random()|0),Rb={};function Ux(t,e,n,r,i){if(r&&r.once)return zx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ux(t,e[s],n,r,i);return null}return n=iw(n),t&&t[mu]?t.O(e,n,pu(r)?!!r.capture:!!r,i):Bx(t,e,n,!1,r,i)}function Bx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=pu(i)?!!i.capture:!!i,a=rw(t);if(a||(t[tw]=a=new sf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Q4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)q4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Hx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Q4(){function t(n){return e.call(t.src,t.listener,n)}let e=Y4;return t}function zx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zx(t,e[s],n,r,i);return null}return n=iw(n),t&&t[mu]?t.P(e,n,pu(r)?!!r.capture:!!r,i):Bx(t,e,n,!0,r,i)}function $x(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)$x(t,e[s],n,r,i);else r=pu(r)?!!r.capture:!!r,n=iw(n),t&&t[mu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=jb(s,n,r,i),-1<n&&(rf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=rw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jb(e,n,r,i)),(n=-1<t?e[t]:null)&&nw(n))}function nw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[mu])Vb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Hx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=rw(e))?(Vb(n,t),n.h==0&&(n.src=null,e[tw]=null)):rf(t)}}}function Hx(t){return t in Rb?Rb[t]:Rb[t]="on"+t}function Y4(t,e){if(t.fa)t=!0;else{e=new au(e,this);var n=t.listener,r=t.la||t.src;t.ia&&nw(t),t=n.call(r,e)}return t}function rw(t){return t=t[tw],t instanceof sf?t:null}var Pb="__closure_events_fn_"+(1e9*Math.random()>>>0);function iw(t){return typeof t=="function"?t:(t[Pb]||(t[Pb]=function(e){return t.handleEvent(e)}),t[Pb])}function ct(){ui.call(this),this.i=new sf(this),this.S=this,this.J=null}ut(ct,ui);ct.prototype[mu]=!0;ct.prototype.removeEventListener=function(t,e,n,r){$x(this,t,e,n,r)};function mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Tt(e,t);else if(e instanceof Tt)e.target=e.target||t;else{var i=e;e=new Tt(r,t),qx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Hh(o,r,!0,e)&&i}if(o=e.g=t,i=Hh(o,r,!0,e)&&i,i=Hh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Hh(o,r,!1,e)&&i}ct.prototype.N=function(){if(ct.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rf(n[r]);delete t.g[e],t.h--}}this.J=null};ct.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ct.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Hh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Vb(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var sw=ee.JSON.stringify,qb=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function J4(){var t=ow;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ub=class{constructor(){this.h=this.g=null}add(e,n){let r=Gx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Gx=new qb(()=>new Bb,t=>t.reset()),Bb=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function X4(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Z4(t){ee.setTimeout(()=>{throw t},0)}var cu,uu=!1,ow=new Ub,Wx=()=>{let t=ee.Promise.resolve(void 0);cu=()=>{t.then(eH)}},eH=()=>{for(var t;t=J4();){try{t.h.call(t.g)}catch(n){Z4(n)}var e=Gx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}uu=!1};function of(t,e){ct.call(this),this.h=t||1,this.g=e||ee,this.j=Ct(this.qb,this),this.l=Date.now()}ut(of,ct);V=of.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(aw(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function aw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){of.$.N.call(this),aw(this),delete this.g};function cw(t,e,n){if(typeof t=="function")n&&(t=Ct(t,n));else if(t&&typeof t.handleEvent=="function")t=Ct(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function Kx(t){t.g=cw(()=>{t.g=null,t.i&&(t.i=!1,Kx(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var zb=class extends ui{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kx(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function lu(t){ui.call(this),this.h=t,this.g={}}ut(lu,ui);var Cx=[];function Qx(t,e,n,r){Array.isArray(n)||(n&&(Cx[0]=n.toString()),n=Cx);for(var i=0;i<n.length;i++){var s=Ux(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Yx(t){ew(t.g,function(e,n){this.g.hasOwnProperty(n)&&nw(e)},t),t.g={}}lu.prototype.N=function(){lu.$.N.call(this),Yx(this)};lu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function af(){this.g=!0}af.prototype.Ea=function(){this.g=!1};function tH(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var h=l[0];l=l[1];var p=h.split("_");o=2<=p.length&&p[1]=="type"?o+(h+"="+l+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function nH(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function zo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+iH(t,n)+(r?" "+r:"")})}function rH(t,e){t.info(function(){return"TIMEOUT: "+e})}af.prototype.info=function(){};function iH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return sw(n)}catch{return e}}var gs={},Tx=null;function cf(){return Tx=Tx||new ct}gs.Ta="serverreachability";function Jx(t){Tt.call(this,gs.Ta,t)}ut(Jx,Tt);function du(t){let e=cf();mt(e,new Jx(e))}gs.STAT_EVENT="statevent";function Xx(t,e){Tt.call(this,gs.STAT_EVENT,t),this.stat=e}ut(Xx,Tt);function Ft(t){let e=cf();mt(e,new Xx(e,t))}gs.Ua="timingevent";function Zx(t,e){Tt.call(this,gs.Ua,t),this.size=e}ut(Zx,Tt);function gu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var uf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uw(){}uw.prototype.h=null;function Sx(t){return t.h||(t.h=t.i())}function tM(){}var yu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lw(){Tt.call(this,"d")}ut(lw,Tt);function dw(){Tt.call(this,"c")}ut(dw,Tt);var $b;function lf(){}ut(lf,uw);lf.prototype.g=function(){return new XMLHttpRequest};lf.prototype.i=function(){return{}};$b=new lf;function vu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new lu(this),this.P=sH,t=Ob?125:void 0,this.V=new of(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nM}function nM(){this.i=null,this.g="",this.h=!1}var sH=45e3,Hb={},Kh={};V=vu.prototype;V.setTimeout=function(t){this.P=t};function Gb(t,e,n){t.L=1,t.v=hf(Cr(e)),t.s=n,t.S=!0,rM(t,null)}function rM(t,e){t.G=Date.now(),bu(t),t.A=Cr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),dM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new nM,t.g=RM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new zb(Ct(t.Pa,t,t.g),t.O)),Qx(t.U,t.g,"readystatechange",t.nb),e=t.I?jx(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),du(),tH(t.j,t.u,t.A,t.m,t.W,t.s)}V.nb=function(t){t=t.target;let e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{let h=$n(this.g);var e=this.g.Ia();let p=this.g.da();if(!(3>h)&&(h!=3||Ob||this.g&&(this.h.h||this.g.ja()||Nx(this.g)))){this.J||h!=4||e==7||(e==8||0>=p?du(3):du(2)),df(this);var n=this.g.da();this.ca=n;t:if(iM(this)){var r=Nx(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),su(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,nH(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ou(a)){var l=a;break t}}l=null}if(n=l)zo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wb(this,n);else{this.i=!1,this.o=3,Ft(12),fs(this),su(this);break e}}this.S?(sM(this,h,o),Ob&&this.i&&h==3&&(Qx(this.U,this.V,"tick",this.mb),this.V.start())):(zo(this.j,this.m,o,null),Wb(this,o)),h==4&&fs(this),this.i&&!this.J&&(h==4?AM(this.l,this):(this.i=!1,bu(this)))}else TH(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ft(12)):(this.o=0,Ft(13)),fs(this),su(this)}}}catch{}finally{}};function iM(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function sM(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=oH(t,n),i==Kh){e==4&&(t.o=4,Ft(14),r=!1),zo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Hb){t.o=4,Ft(15),zo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else zo(t.j,t.m,i,null),Wb(t,i);iM(t)&&i!=Kh&&i!=Hb&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ft(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yw(e),e.M=!0,Ft(11))):(zo(t.j,t.m,n,"[Invalid Chunked Response]"),fs(t),su(t))}V.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.C<e.length&&(df(this),sM(this,t,e),this.i&&t!=4&&bu(this))}};function oH(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Kh:(n=Number(e.substring(n,r)),isNaN(n)?Hb:(r+=1,r+n>e.length?Kh:(e=e.slice(r,r+n),t.C=r+n,e)))}V.cancel=function(){this.J=!0,fs(this)};function bu(t){t.Y=Date.now()+t.P,oM(t,t.P)}function oM(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=gu(Ct(t.lb,t),e)}function df(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}V.lb=function(){this.B=null;let t=Date.now();0<=t-this.Y?(rH(this.j,this.A),this.L!=2&&(du(),Ft(17)),fs(this),this.o=2,su(this)):oM(this,this.Y-t)};function su(t){t.l.H==0||t.J||AM(t.l,t)}function fs(t){df(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,aw(t.V),Yx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Wb(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Kb(n.i,t))){if(!t.K&&Kb(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Jh(n),mf(n);else break e;gw(n),Ft(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=gu(Ct(n.ib,n),6e3));if(1>=pM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ps(n,11)}else if((t.K||n.g==t)&&Jh(n),!ou(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let h=l[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));let p=l[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));let g=l[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let v=t.g;if(v){let S=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(hw(s,s.h),s.h=null))}if(r.F){let P=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;P&&(r.Da=P,Ve(r.I,r.F,P))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=NM(r,r.J?r.pa:null,r.Y),o.K){mM(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(df(a),bu(a)),r.g=o}else TM(r);0<n.j.length&&gf(n)}else l[0]!="stop"&&l[0]!="close"||ps(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ps(n,7):mw(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}du(4)}catch{}}function aH(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(tf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function cH(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(tf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function aM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(tf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=cH(t),r=aH(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var cM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ms(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ms){this.h=t.h,Qh(this,t.j),this.s=t.s,this.g=t.g,Yh(this,t.m),this.l=t.l;var e=t.i,n=new hu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ax(this,n),this.o=t.o}else t&&(e=String(t).match(cM))?(this.h=!1,Qh(this,e[1]||"",!0),this.s=ru(e[2]||""),this.g=ru(e[3]||"",!0),Yh(this,e[4]),this.l=ru(e[5]||"",!0),Ax(this,e[6]||"",!0),this.o=ru(e[7]||"")):(this.h=!1,this.i=new hu(null,this.h))}ms.prototype.toString=function(){var t=[],e=this.j;e&&t.push(iu(e,xx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(iu(e,xx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(iu(n,n.charAt(0)=="/"?hH:dH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",iu(n,pH)),t.join("")};function Cr(t){return new ms(t)}function Qh(t,e,n){t.j=n?ru(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ax(t,e,n){e instanceof hu?(t.i=e,mH(t.i,t.h)):(n||(e=iu(e,fH)),t.i=new hu(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function hf(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ru(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function iu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,lH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var xx=/[#\/\?@]/g,dH=/[#\?:]/g,hH=/[#\?]/g,fH=/[#\?@]/g,pH=/#/g;function hu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function li(t){t.g||(t.g=new Map,t.h=0,t.i&&uH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=hu.prototype;V.add=function(t,e){li(this),this.i=null,t=Go(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function uM(t,e){li(t),e=Go(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lM(t,e){return li(t),e=Go(t,e),t.g.has(e)}V.forEach=function(t,e){li(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};V.ta=function(){li(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};V.Z=function(t){li(this);let e=[];if(typeof t=="string")lM(this,t)&&(e=e.concat(this.g.get(Go(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return li(this),this.i=null,t=Go(this,t),lM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function dM(t,e,n){uM(t,e),0<n.length&&(t.i=null,t.g.set(Go(t,e),Xb(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Go(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mH(t,e){e&&!t.j&&(li(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(uM(this,r),dM(this,i,n))},t)),t.j=e}var gH=class{constructor(t,e){this.g=t,this.map=e}};function hM(t){this.l=t||yH,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yH=10;function fM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function pM(t){return t.h?1:t.g?t.g.size:0}function Kb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hw(t,e){t.g?t.g.add(e):t.h=e}function mM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}hM.prototype.cancel=function(){if(this.i=gM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function gM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Xb(t.i)}var vH=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function bH(){this.g=new vH}function wH(t,e,n){let r=n||"";try{aM(t,function(i,s){let o=i;pu(i)&&(o=sw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _H(t,e){let n=new af;if(ee.Image){let r=new Image;r.onload=Uh(Gh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Uh(Gh,n,r,"TestLoadImage: error",!1,e),r.onabort=Uh(Gh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Uh(Gh,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function wu(t){this.l=t.fc||null,this.j=t.ob||!1}ut(wu,uw);wu.prototype.g=function(){return new ff(this.l,this.j)};wu.prototype.i=function(t){return function(){return t}}({});function ff(t,e){ct.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=fw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(ff,ct);var fw=0;V=ff.prototype;V.open=function(t,e){if(this.readyState!=fw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fu(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_u(this)),this.readyState=fw};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fu(this)),this.g&&(this.readyState=3,fu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function yM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_u(this):fu(this),this.readyState==3&&yM(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,_u(this))};V.Ya=function(t){this.g&&(this.response=t,_u(this))};V.ka=function(){this.g&&_u(this)};function _u(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fu(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function fu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var EH=ee.JSON.parse;function He(t){ct.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vM,this.L=this.M=!1}ut(He,ct);var vM="",IH=/^https?$/i,DH=["POST","PUT"];V=He.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$b.g(),this.C=this.u?Sx(this.u):Sx($b),this.g.onreadystatechange=Ct(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Mx(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ee.FormData&&t instanceof ee.FormData,!(0<=Ox(DH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_M(this),0<this.B&&((this.L=CH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.ua,this)):this.A=cw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Mx(this,s)}};function CH(t){return Ho&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof Jb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function Mx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bM(t),pf(t)}function bM(t){t.F||(t.F=!0,mt(t,"complete"),mt(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mt(this,"complete"),mt(this,"abort"),pf(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pf(this,!0)),He.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?wM(this):this.kb())};V.kb=function(){wM(this)};function wM(t){if(t.h&&typeof Jb<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)cw(t.La,0,t);else if(mt(t,"readystatechange"),$n(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(cM)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!IH.test(i?i.toLowerCase():"")}n=r}if(n)mt(t,"complete"),mt(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",bM(t)}}finally{pf(t)}}}}function pf(t,e){if(t.g){_M(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function _M(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),EH(e)}};function Nx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TH(t){let e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ou(t[r]))continue;var n=X4(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}K4(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function EM(t){let e="";return ew(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function pw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=EM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function tu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function IM(t){this.Ga=0,this.j=[],this.l=new af,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tu("baseRetryDelayMs",5e3,t),this.hb=tu("retryDelaySeedMs",1e4,t),this.eb=tu("forwardChannelMaxRetries",2,t),this.xa=tu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hM(t&&t.concurrentRequestLimit),this.Ja=new bH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=IM.prototype;V.ra=8;V.H=1;function mw(t){if(DM(t),t.H==3){var e=t.W++,n=Cr(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Eu(t,n),e=new vu(t,t.l,e),e.L=2,e.v=hf(Cr(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ee.Image&&(new Image().src=e.v,n=!0),n||(e.g=RM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bu(e)}MM(t)}function mf(t){t.g&&(yw(t),t.g.cancel(),t.g=null)}function DM(t){mf(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Jh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function gf(t){if(!fM(t.i)&&!t.m){t.m=!0;var e=t.Na;cu||Wx(),uu||(cu(),uu=!0),ow.add(e,t),t.C=0}}function SH(t,e){return pM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=gu(Ct(t.Na,t,e),xM(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new vu(this,this.l,t),s=this.s;if(this.U&&(s?(s=jx(s),qx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=CM(this,i,e),n=Cr(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),Eu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(EM(s)))+"&"+e:this.o&&pw(n,this.o,s)),hw(this.i,i),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),i.aa=!0,Gb(i,n,null)):Gb(i,n,e),this.H=2}}else this.H==3&&(t?Rx(this,t):this.j.length==0||fM(this.i)||Rx(this))};function Rx(t,e){var n;e?n=e.m:n=t.W++;let r=Cr(t.I);Ve(r,"SID",t.K),Ve(r,"RID",n),Ve(r,"AID",t.V),Eu(t,r),t.o&&t.s&&pw(r,t.o,t.s),n=new vu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=CM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hw(t.i,n),Gb(n,r,e)}function Eu(t,e){t.na&&ew(t.na,function(n,r){Ve(e,r,n)}),t.h&&aM({},function(n,r){Ve(e,r,n)})}function CM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ct(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g,h=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{wH(h,o,"req"+l+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function TM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;cu||Wx(),uu||(cu(),uu=!0),ow.add(e,t),t.A=0}}function gw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=gu(Ct(t.Ma,t),xM(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,SM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=gu(Ct(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ft(10),mf(this),SM(this))};function yw(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function SM(t){t.g=new vu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Cr(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),Eu(t,e),t.o&&t.s&&pw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=hf(Cr(e)),n.s=null,n.S=!0,rM(n,t)}V.ib=function(){this.v!=null&&(this.v=null,mf(this),gw(this),Ft(19))};function Jh(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function AM(t,e){var n=null;if(t.g==e){Jh(t),yw(t),t.g=null;var r=2}else if(Kb(t.i,e))n=e.F,mM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=cf(),mt(r,new Zx(r,n)),gf(t)}else TM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&SH(t,e)||r==2&&gw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ps(t,5);break;case 4:ps(t,10);break;case 3:ps(t,6);break;default:ps(t,2)}}}function xM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ps(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ct(t.pb,t);n||(n=new ms("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||Qh(n,"https"),hf(n)),_H(n.toString(),r)}else Ft(2);t.H=0,t.h&&t.h.za(e),MM(t),DM(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ft(2)):(this.l.info("Failed to ping google.com"),Ft(1))};function MM(t){if(t.H=0,t.ma=[],t.h){let e=gM(t.i);(e.length!=0||t.j.length!=0)&&(Ix(t.ma,e),Ix(t.ma,t.j),t.i.i.length=0,Xb(t.j),t.j.length=0),t.h.ya()}}function NM(t,e,n){var r=n instanceof ms?Cr(n):new ms(n);if(r.g!="")e&&(r.g=e+"."+r.g),Yh(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ms(null);r&&Qh(s,r),e&&(s.g=e),i&&Yh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ve(r,n,e),Ve(r,"VER",t.ra),Eu(t,r),r}function RM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new He(new wu({ob:!0})):new He(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function PM(){}V=PM.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Xh(){if(Ho&&!(10<=Number($4)))throw Error("Environmental error: no available transport.")}Xh.prototype.g=function(t,e){return new tn(t,e)};function tn(t,e){ct.call(this),this.g=new IM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ou(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ou(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wo(this)}ut(tn,ct);tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ft(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=NM(t,null,t.Y),gf(t)};tn.prototype.close=function(){mw(this.g)};tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sw(t),t=n);e.j.push(new gH(e.fb++,t)),e.H==3&&gf(e)};tn.prototype.N=function(){this.g.h=null,delete this.j,mw(this.g),delete this.g,tn.$.N.call(this)};function kM(t){lw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ut(kM,lw);function OM(){dw.call(this),this.status=1}ut(OM,dw);function Wo(t){this.g=t}ut(Wo,PM);Wo.prototype.Ba=function(){mt(this.g,"a")};Wo.prototype.Aa=function(t){mt(this.g,new kM(t))};Wo.prototype.za=function(t){mt(this.g,new OM)};Wo.prototype.ya=function(){mt(this.g,"b")};function AH(){this.blockSize=-1}function In(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ut(In,AH);In.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function kb(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}In.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)kb(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){kb(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){kb(this,r),i=0;break}}this.h=i,this.i+=e};In.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var xH={};function vw(t){return-128<=t&&128>t?U4(t,function(e){return new Me([e|0],0>e?-1:0)}):new Me([t|0],0>t?-1:0)}function Hn(t){if(isNaN(t)||!isFinite(t))return $o;if(0>t)return pt(Hn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Qb;return new Me(e,0)}function LM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pt(LM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hn(Math.pow(e,8)),r=$o,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Hn(Math.pow(e,s)),r=r.R(s).add(Hn(o))):(r=r.R(n),r=r.add(Hn(o)))}return r}var Qb=4294967296,$o=vw(0),Yb=vw(1),Px=vw(16777216);V=Me.prototype;V.ea=function(){if(hn(this))return-pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Qb+r)*e,e*=Qb}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Dr(this))return"0";if(hn(this))return"-"+pt(this).toString(t);for(var e=Hn(Math.pow(t,6)),n=this,r="";;){var i=ef(n,e).g;n=Zh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Dr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Dr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hn(t){return t.h==-1}V.X=function(t){return t=Zh(this,t),hn(t)?-1:Dr(t)?0:1};function pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(Yb)}V.abs=function(){return hn(this)?pt(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Me(n,n[n.length-1]&-2147483648?-1:0)};function Zh(t,e){return t.add(pt(e))}V.R=function(t){if(Dr(this)||Dr(t))return $o;if(hn(this))return hn(t)?pt(this).R(pt(t)):pt(pt(this).R(t));if(hn(t))return pt(this.R(pt(t)));if(0>this.X(Px)&&0>t.X(Px))return Hn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Wh(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Wh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Wh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Wh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)};function Wh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function nu(t,e){this.g=t,this.h=e}function ef(t,e){if(Dr(e))throw Error("division by zero");if(Dr(t))return new nu($o,$o);if(hn(t))return e=ef(pt(t),e),new nu(pt(e.g),pt(e.h));if(hn(e))return e=ef(t,pt(e)),new nu(pt(e.g),e.h);if(30<t.g.length){if(hn(t)||hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Yb,r=e;0>=r.X(t);)n=kx(n),r=kx(r);var i=Bo(n,1),s=Bo(r,1);for(r=Bo(r,2),n=Bo(n,2);!Dr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Bo(r,1),n=Bo(n,1)}return e=Zh(t,i.R(e)),new nu(i,e)}for(i=$o;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Hn(n),o=s.R(e);hn(o)||0<o.X(t);)n-=r,s=Hn(n),o=s.R(e);Dr(s)&&(s=Yb),i=i.add(s),t=Zh(t,o)}return new nu(i,t)}V.gb=function(t){return ef(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)};function kx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function Bo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Me(i,t.h)}Xh.prototype.createWebChannel=Xh.prototype.g;tn.prototype.send=tn.prototype.u;tn.prototype.open=tn.prototype.m;tn.prototype.close=tn.prototype.close;uf.NO_ERROR=0;uf.TIMEOUT=8;uf.HTTP_ERROR=6;eM.COMPLETE="complete";tM.EventType=yu;yu.OPEN="a";yu.CLOSE="b";yu.ERROR="c";yu.MESSAGE="d";ct.prototype.listen=ct.prototype.O;He.prototype.listenOnce=He.prototype.P;He.prototype.getLastError=He.prototype.Sa;He.prototype.getLastErrorCode=He.prototype.Ia;He.prototype.getStatus=He.prototype.da;He.prototype.getResponseJson=He.prototype.Wa;He.prototype.getResponseText=He.prototype.ja;He.prototype.send=He.prototype.ha;He.prototype.setWithCredentials=He.prototype.Oa;In.prototype.digest=In.prototype.l;In.prototype.reset=In.prototype.reset;In.prototype.update=In.prototype.j;Me.prototype.add=Me.prototype.add;Me.prototype.multiply=Me.prototype.R;Me.prototype.modulo=Me.prototype.gb;Me.prototype.compare=Me.prototype.X;Me.prototype.toNumber=Me.prototype.ea;Me.prototype.toString=Me.prototype.toString;Me.prototype.getBits=Me.prototype.D;Me.fromNumber=Hn;Me.fromString=LM;var FM=Dn.createWebChannelTransport=function(){return new Xh},VM=Dn.getStatEventTarget=function(){return cf()},yf=Dn.ErrorCode=uf,jM=Dn.EventType=eM,qM=Dn.Event=gs,bw=Dn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},UM=Dn.FetchXmlHttpFactory=wu,Iu=Dn.WebChannel=tM,BM=Dn.XhrIo=He,zM=Dn.Md5=In,ys=Dn.Integer=Me;var $M="@firebase/firestore";var At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");var da="9.23.0";var Es=new Vo("@firebase/firestore");function HM(){return Es.logLevel}function $(t,...e){if(Es.logLevel<=xe.DEBUG){let n=e.map(aE);Es.debug(`Firestore (${da}): ${t}`,...n)}}function Tr(t,...e){if(Es.logLevel<=xe.ERROR){let n=e.map(aE);Es.error(`Firestore (${da}): ${t}`,...n)}}function Au(t,...e){if(Es.logLevel<=xe.WARN){let n=e.map(aE);Es.warn(`Firestore (${da}): ${t}`,...n)}}function aE(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}function Y(t="Unexpected state"){let e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function je(t,e){t||Y()}function se(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Dw=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Cw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}};var Tw=class{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Dw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new At(e)}},Sw=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);let e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},Aw=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Sw(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Mw=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){let r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.T;return this.T=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.I.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.T=n.token,new xw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function MH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var If=class{static A(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=MH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var gt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new gt(0,0))}static max(){return new t(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Df=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends Df{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},NH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pn=class t extends Df{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return NH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var Nw=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Nw.UNKNOWN_ID=-1;function RH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Is(i,G.empty(),e)}function PH(t){return new Is(t.readTime,t.key,-1)}var Is=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),G.empty(),-1)}static max(){return new t(ie.max(),G.empty(),-1)}};function kH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}var OH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Bu(t){return _(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==OH)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function zu(t){return t.name==="IndexedDbTransactionError"}var wN=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Jf(t){return t==null}function xu(t){return t===0&&1/t==-1/0}function LH(t){return typeof t=="number"&&Number.isInteger(t)&&!xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var FH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hZ=[...FH,"documentOverlays"],VH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jH=VH,fZ=[...jH,"indexConfiguration","indexState","indexEntries"];function GM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _N(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var We=class t{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yo(this.root,e,this.comparator,!0)}},Yo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Qn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Qn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Vt=class t{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cf(this.data.getIterator())}getIteratorFrom(e){return new Cf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Cf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Wn=class t{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Vt(pn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Tf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var jt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Tf("Invalid base64 string: "+i):i}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};jt.EMPTY_BYTE_STRING=new jt("");var qH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(je(!!t),typeof t=="string"){let e=0,n=qH.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fi(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}function cE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uE(t){let e=t.mapValue.fields.__previous_value__;return cE(e)?uE(e):e}function Mu(t){let e=hi(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}var Pw=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Sf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cE(t)?4:EN(t)?9007199254740991:10:Y()}function Jn(t,e){if(t===e)return!0;let n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mu(t).isEqual(Mu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;let s=hi(r.timestampValue),o=hi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return fi(r.bytesValue).isEqual(fi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ge(r.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ge(r.integerValue)===Ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){let s=Ge(r.doubleValue),o=Ge(i.doubleValue);return s===o?xu(s)===xu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:return function(r,i){let s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(GM(s)!==GM(o))return!1;for(let a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Jn(s[a],o[a])))return!1;return!0}(t,e);default:return Y()}}function Nu(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function na(t,e){if(t===e)return 0;let n=Ds(t),r=Ds(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,s){let o=Ge(i.integerValue||i.doubleValue),a=Ge(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return WM(t.timestampValue,e.timestampValue);case 4:return WM(Mu(t),Mu(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(i,s){let o=fi(i),a=fi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){let o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){let l=Te(o[u],a[u]);if(l!==0)return l}return Te(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){let o=Te(Ge(i.latitude),Ge(s.latitude));return o!==0?o:Te(Ge(i.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){let o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){let l=na(o[u],a[u]);if(l)return l}return Te(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===vf.mapValue&&s===vf.mapValue)return 0;if(i===vf.mapValue)return 1;if(s===vf.mapValue)return-1;let o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let h=0;h<a.length&&h<l.length;++h){let p=Te(a[h],l[h]);if(p!==0)return p;let g=na(o[a[h]],u[l[h]]);if(g!==0)return g}return Te(a.length,l.length)}(t.mapValue,e.mapValue);default:throw Y()}}function WM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);let n=hi(t),r=hi(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function ra(t){return kw(t)}function kw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){let i=hi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,G.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(let o of r.values||[])s?s=!1:i+=",",i+=kw(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){let i=Object.keys(r.fields||{}).sort(),s="{",o=!0;for(let a of i)o?o=!1:s+=",",s+=`${a}:${kw(r.fields[a])}`;return s+"}"}(t.mapValue):Y();var e,n}function KM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ow(t){return!!t&&"integerValue"in t}function lE(t){return!!t&&"arrayValue"in t}function QM(t){return!!t&&"nullValue"in t}function YM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _f(t){return!!t&&"mapValue"in t}function Cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function EN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Cn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=pn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Cu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ha(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Cu(this.value))}};function IN(t){let e=[];return ha(t.fields,(n,r)=>{let i=new pn([n]);if(_f(r)){let s=IN(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Wn(e)}var Tn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ia=class{constructor(e,n){this.position=e,this.inclusive=n}};function JM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=na(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function XM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}var ws=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function UH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Af=class{},Ze=class t extends Af{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fw(e,n,r):n==="array-contains"?new qw(e,r):n==="in"?new Uw(e,r):n==="not-in"?new Bw(e,r):n==="array-contains-any"?new zw(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vw(e,r):new jw(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(na(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},Sn=class t extends Af{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new t(e,n)}matches(e){return DN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){let e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(let n of this.getFlattenedFilters())if(e(n))return n;return null}};function DN(t){return t.op==="and"}function CN(t){return BH(t)&&DN(t)}function BH(t){for(let e of t.filters)if(e instanceof Sn)return!1;return!0}function Lw(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(CN(t))return t.filters.map(e=>Lw(e)).join(",");{let e=t.filters.map(n=>Lw(n)).join(",");return`${t.op}(${e})`}}function TN(t,e){return t instanceof Ze?function(n,r){return r instanceof Ze&&n.op===r.op&&n.field.isEqual(r.field)&&Jn(n.value,r.value)}(t,e):t instanceof Sn?function(n,r){return r instanceof Sn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&TN(s,r.filters[o]),!0):!1}(t,e):void Y()}function SN(t){return t instanceof Ze?function(e){return`${e.field.canonicalString()} ${e.op} ${ra(e.value)}`}(t):t instanceof Sn?function(e){return e.op.toString()+" {"+e.getFilters().map(SN).join(" ,")+"}"}(t):"Filter"}var Fw=class extends Ze{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},Vw=class extends Ze{constructor(e,n){super(e,"in",n),this.keys=AN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},jw=class extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=AN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function AN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var qw=class extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return lE(n)&&Nu(n.arrayValue,this.value)}},Uw=class extends Ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}},Bw=class extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Nu(this.value.arrayValue,n)}},zw=class extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!lE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nu(this.value.arrayValue,r))}};var $w=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function ZM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $w(t,e,n,r,i,s,o)}function dE(t){let e=se(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),e.dt=n}return e.dt}function hE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XM(t.startAt,e.startAt)&&XM(t.endAt,e.endAt)}function Hw(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Cs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}};function zH(t,e,n,r,i,s,o,a){return new Cs(t,e,n,r,i,s,o,a)}function xN(t){return new Cs(t)}function eN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MN(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fE(t){for(let e of t.filters){let n=e.getFirstInequalityField();if(n!==null)return n}return null}function NN(t){return t.collectionGroup!==null}function Xo(t){let e=se(t);if(e.wt===null){e.wt=[];let n=fE(e),r=MN(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ws(n)),e.wt.push(new ws(pn.keyField(),"asc"));else{let i=!1;for(let s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){let s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ws(pn.keyField(),s))}}}return e.wt}function Sr(t){let e=se(t);if(!e._t)if(e.limitType==="F")e._t=ZM(e.path,e.collectionGroup,Xo(e),e.filters,e.limit,e.startAt,e.endAt);else{let n=[];for(let s of Xo(e)){let o=s.dir==="desc"?"asc":"desc";n.push(new ws(s.field,o))}let r=e.endAt?new ia(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ia(e.startAt.position,e.startAt.inclusive):null;e._t=ZM(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Gw(t,e){e.getFirstInequalityField(),fE(t);let n=t.filters.concat([e]);return new Cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ww(t,e,n){return new Cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xf(t,e){return hE(Sr(t),Sr(e))&&t.limitType===e.limitType}function RN(t){return`${dE(Sr(t))}|lt:${t.limitType}`}function Kw(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>SN(r)).join(", ")}]`),Jf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),`Target(${n})`}(Sr(t))}; limitType=${t.limitType})`}function Zf(t,e){return e.isFoundDocument()&&function(n,r){let i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):G.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(let i of Xo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(let i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){let a=JM(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Xo(n),r)||n.endAt&&!function(i,s,o){let a=JM(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Xo(n),r))}(t,e)}function $H(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PN(t){return(e,n)=>{let r=!1;for(let i of Xo(t)){let s=HH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HH(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,s,o){let a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?na(a,u):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var pi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return _N(this.inner)}size(){return this.innerSize}};var GH=new We(G.comparator);function Ar(){return GH}var kN=new We(G.comparator);function Du(...t){let e=kN;for(let n of t)e=e.insert(n.key,n);return e}function ON(t){let e=kN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vs(){return Tu()}function LN(){return Tu()}function Tu(){return new pi(t=>t.toString(),(t,e)=>t.isEqual(e))}var WH=new We(G.comparator),KH=new Vt(G.comparator);function pe(...t){let e=KH;for(let n of t)e=e.add(n);return e}var QH=new Vt(Te);function YH(){return QH}function FN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function VN(t){return{integerValue:""+t}}function JH(t,e){return LH(e)?VN(e):FN(t,e)}var sa=class{constructor(){this._=void 0}};function XH(t,e,n){return t instanceof oa?function(r,i){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&cE(i)&&(i=uE(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ts?qN(t,e):t instanceof Ss?UN(t,e):function(r,i){let s=jN(r,i),o=tN(s)+tN(r.gt);return Ow(s)&&Ow(r.gt)?VN(o):FN(r.serializer,o)}(t,e)}function ZH(t,e,n){return t instanceof Ts?qN(t,e):t instanceof Ss?UN(t,e):n}function jN(t,e){return t instanceof aa?Ow(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var oa=class extends sa{},Ts=class extends sa{constructor(e){super(),this.elements=e}};function qN(t,e){let n=BN(e);for(let r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ss=class extends sa{constructor(e){super(),this.elements=e}};function UN(t,e){let n=BN(e);for(let r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}var aa=class extends sa{constructor(e,n){super(),this.serializer=e,this.gt=n}};function tN(t){return Ge(t.integerValue||t.doubleValue)}function BN(t){return lE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function e9(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ts&&r instanceof Ts||n instanceof Ss&&r instanceof Ss?ta(n.elements,r.elements,Jn):n instanceof aa&&r instanceof aa?Jn(n.gt,r.gt):n instanceof oa&&r instanceof oa}(t.transform,e.transform)}var Qw=class{constructor(e,n){this.version=e,this.transformResults=n}},_s=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ca=class{};function zN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xf(t.key,_s.none()):new As(t.key,t.data,_s.none());{let n=t.data,r=Cn.empty(),i=new Vt(pn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xr(t.key,r,new Wn(i.toArray()),_s.none())}}function t9(t,e,n){t instanceof As?function(r,i,s){let o=r.value.clone(),a=rN(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof xr?function(r,i,s){if(!Ef(r.precondition,i))return void i.convertToUnknownDocument(s.version);let o=rN(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll($N(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Su(t,e,n,r){return t instanceof As?function(i,s,o,a){if(!Ef(i.precondition,s))return o;let u=i.value.clone(),l=iN(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xr?function(i,s,o,a){if(!Ef(i.precondition,s))return o;let u=iN(i.fieldTransforms,a,s),l=s.data;return l.setAll($N(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,o){return Ef(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function n9(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=jN(r.transform,i||null);s!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,s))}return n||null}function nN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ta(n,r,(i,s)=>e9(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var As=class extends ca{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends ca{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function $N(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function rN(t,e,n){let r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ZH(o,a,n[i]))}return r}function iN(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,XH(s,o,e))}return r}var xf=class extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Yw=class extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Jw=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&t9(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=LN();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=zN(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,r)=>nN(n,r))&&ta(this.baseMutations,e.baseMutations,(n,r)=>nN(n,r))}},Xw=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=WH,s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Zw=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var e_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Je,be;function r9(t){switch(t){default:return Y();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function HN(t){if(t===void 0)return Tr("GRPC error has no .code"),R.UNKNOWN;switch(t){case Je.OK:return R.OK;case Je.CANCELLED:return R.CANCELLED;case Je.UNKNOWN:return R.UNKNOWN;case Je.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Je.INTERNAL:return R.INTERNAL;case Je.UNAVAILABLE:return R.UNAVAILABLE;case Je.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Je.NOT_FOUND:return R.NOT_FOUND;case Je.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Je.ABORTED:return R.ABORTED;case Je.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Je.DATA_LOSS:return R.DATA_LOSS;default:return Y()}}(be=Je||(Je={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var t_=class t{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bf}static getOrCreateInstance(){return bf===null&&(bf=new t),bf}onExistenceFilterMismatch(e){let n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}},bf=null;function i9(){return new TextEncoder}var s9=new ys([4294967295,4294967295],0);function sN(t){let e=i9().encode(t),n=new zM;return n.update(e),new Uint8Array(n.digest())}function oN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ys([n,r],0),new ys([i,s],0)]}var n_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bs(`Invalid padding: ${n}`);if(r<0)throw new bs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bs(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ys.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ys.fromNumber(r)));return i.compare(s9)===1&&(i=new ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;let n=sN(e),[r,i]=oN(n);for(let s=0;s<this.hashCount;s++){let o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;let n=sN(e),[r,i]=oN(n);for(let s=0;s<this.hashCount;s++){let o=this.Et(r,i,s);this.Rt(o)}}Rt(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},bs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Mf=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new We(Te),Ar(),pe())}},Ru=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var Zo=class{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}},Nf=class{constructor(e,n){this.targetId=e,this.Vt=n}},Rf=class{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Pf=class{constructor(){this.St=0,this.Dt=cN(),this.Ct=jt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pe(),n=pe(),r=pe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Ru(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=cN()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}},r_=class{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ar(),this.zt=aN(),this.Wt=new We(Te)}Ht(e){for(let n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(let n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{let r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;let r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){let o=s.target;if(Hw(o))if(i===0){let a=new G(o.path);this.Yt(r,a,Tn.newNoDocument(a,ie.min()))}else je(i===1);else{let a=this.ie(r);if(a!==i){let u=this.re(e,a);if(u!==0){this.ee(r);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,l)}(n=t_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(l,h,p){var g,v,S,P,k,B;let te={localCacheCount:h,existenceFilterCount:p.count},W=p.unchangedNames;return W&&(te.bloomFilter={applied:l===0,hashCount:(g=W?.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(P=(S=(v=W?.bits)===null||v===void 0?void 0:v.bitmap)===null||S===void 0?void 0:S.length)!==null&&P!==void 0?P:0,padding:(B=(k=W?.bits)===null||k===void 0?void 0:k.padding)!==null&&B!==void 0?B:0}),te}(u,a,e.Vt))}}}}re(e,n){let{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;let{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r,u,l;try{u=fi(s).toUint8Array()}catch(h){if(h instanceof Tf)return Au("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw h}try{l=new n_(u,o,a)}catch(h){return Au(h instanceof bs?"BloomFilter error: ":"Applying bloom filter failed: ",h),1}return l.It===0?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){let r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach(s=>{let o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){let n=new Map;this.Qt.forEach((s,o)=>{let a=this.se(o);if(a){if(s.current&&Hw(a.target)){let u=new G(a.target.path);this.jt.get(u)!==null||this.ae(o,u)||this.Yt(o,u,Tn.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=pe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.se(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));let i=new Mf(e,n,this.Wt,this.jt,r);return this.jt=Ar(),this.zt=aN(),this.Wt=new We(Te),i}Jt(e,n){if(!this.te(e))return;let r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;let i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){let n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Pf,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Vt(Te),this.zt=this.zt.insert(e,n)),n}te(e){let n=this.se(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}se(e){let n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Pf),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}};function aN(){return new We(G.comparator)}function cN(){return new We(G.comparator)}var o9={asc:"ASCENDING",desc:"DESCENDING"},a9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c9={and:"AND",or:"OR"},i_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function s_(t,e){return t.useProto3Json||Jf(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u9(t,e){return kf(t,e.toTimestamp())}function Yn(t){return je(!!t),ie.fromTimestamp(function(e){let n=hi(e);return new gt(n.seconds,n.nanos)}(t))}function pE(t,e){return function(n){return new Be(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function WN(t){let e=Be.fromString(t);return je(JN(e)),e}function o_(t,e){return pE(t.databaseId,e.path)}function ww(t,e){let n=WN(e);if(n.get(1)!==t.databaseId.projectId)throw new U(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(KN(n))}function a_(t,e){return pE(t.databaseId,e)}function l9(t){let e=WN(t);return e.length===4?Be.emptyPath():KN(e)}function c_(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KN(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uN(t,e,n){return{name:o_(t,e),fields:n.value.mapValue.fields}}function d9(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(je(l===void 0||typeof l=="string"),jt.fromBase64String(l||"")):(je(l===void 0||l instanceof Uint8Array),jt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?R.UNKNOWN:HN(u.code);return new U(l,u.message||"")}(o);n=new Rf(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ww(t,r.document.name),s=Yn(r.document.updateTime),o=r.document.createTime?Yn(r.document.createTime):ie.min(),a=new Cn({mapValue:{fields:r.document.fields}}),u=Tn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Zo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ww(t,r.document),s=r.readTime?Yn(r.readTime):ie.min(),o=Tn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ww(t,r.document),s=r.removedTargetIds||[];n=new Zo([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new e_(i,s),a=r.targetId;n=new Nf(a,o)}}return n}function h9(t,e){let n;if(e instanceof As)n={update:uN(t,e.key,e.value)};else if(e instanceof xf)n={delete:o_(t,e.key)};else if(e instanceof xr)n={update:uN(t,e.key,e.data),updateMask:_9(e.fieldMask)};else{if(!(e instanceof Yw))return Y();n={verify:o_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){let o=s.transform;if(o instanceof oa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ts)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ss)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof aa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:u9(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y()}(t,e.precondition)),n}function f9(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Yn(r.updateTime):Yn(i);return s.isEqual(ie.min())&&(s=Yn(i)),new Qw(s,r.transformResults||[])}(n,e))):[]}function p9(t,e){return{documents:[a_(t,e.path)]}}function m9(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=a_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=a_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(u){if(u.length!==0)return YN(Sn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Ko(h.field),direction:v9(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=s_(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function g9(t){let e=l9(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){je(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(h){let p=QN(h);return p instanceof Sn&&CN(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(p){return new ws(Qo(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h)));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Jf(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){let p=!!h.before,g=h.values||[];return new ia(g,p)}(n.startAt));let l=null;return n.endAt&&(l=function(h){let p=!h.before,g=h.values||[];return new ia(g,p)}(n.endAt)),zH(e,i,o,s,a,"F",u,l)}function y9(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QN(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":let n=Qo(e.unaryFilter.field);return Ze.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=Qo(e.unaryFilter.field);return Ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=Qo(e.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qo(e.unaryFilter.field);return Ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(e){return Ze.create(Qo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Sn.create(e.compositeFilter.filters.map(n=>QN(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Y()}}(e.compositeFilter.op))}(t):Y()}function v9(t){return o9[t]}function b9(t){return a9[t]}function w9(t){return c9[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Qo(t){return pn.fromServerFormat(t.fieldPath)}function YN(t){return t instanceof Ze?function(e){if(e.op==="=="){if(YM(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NAN"}};if(QM(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(YM(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NOT_NAN"}};if(QM(e.value))return{unaryFilter:{field:Ko(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(e.field),op:b9(e.op),value:e.value}}}(t):t instanceof Sn?function(e){let n=e.getFilters().map(r=>YN(r));return n.length===1?n[0]:{compositeFilter:{op:w9(e.op),filters:n}}}(t):Y()}function _9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Pu=class t{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var u_=class{constructor(e){this.fe=e}};function E9(t){let e=g9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ww(e,e.limit,"L"):e}var Of=class{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),xu(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(fi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?EN(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Y()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){let r=e.fields||{};this.ye(n,55);for(let i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){let r=e.values||[];this.ye(n,50);for(let i of r)this.me(i,n)}ve(e,n){this.ye(n,37),G.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}};Of.Ve=new Of;var l_=class{constructor(){this.rn=new d_}addToCollectionParentIndex(e,n){return this.rn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Is.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},d_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vt(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(Be.comparator)).toArray()}};var pZ=new Uint8Array(0);var Gn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(41943040,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);var ku=class t{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new t(0)}static Mn(){return new t(-1)}};var h_=class{constructor(){this.changes=new pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var f_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var p_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Su(r.mutation,i,Wn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=vs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Du();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=vs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ar(),o=Tu(),a=Tu();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof xr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Su(h.mutation,l,h.mutation.getFieldMask(),gt.now())):o.set(l.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new f_(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Tu(),i=new We((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Wn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=LN();h.forEach(g=>{if(!s.has(g)){let v=zN(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return G.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(vs()),a=-1,u=s;return o.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:ON(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Du();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){let i=n.collectionGroup,s=Du();return this.indexManager.getCollectionParents(e,i).next(o=>F.forEach(o,a=>{let u=function(l,h){return new Cs(h,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,Tn.newInvalidDocument(l)))});let o=Du();return s.forEach((a,u)=>{let l=i.get(a);l!==void 0&&Su(l.mutation,u,Wn.empty(),gt.now()),Zf(n,u)&&(o=o.insert(a,u))}),o})}};var m_=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return F.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Yn(r.createTime)}),F.resolve()}getNamedQuery(e,n){return F.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:E9(r.bundledQuery),readTime:Yn(r.readTime)}}(n)),F.resolve()}};var g_=class{constructor(){this.overlays=new We(G.comparator),this.ls=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=vs();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=vs(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=vs(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=vs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}we(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zw(n,r));let s=this.ls.get(n);s===void 0&&(s=pe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};var Ou=class{constructor(){this.fs=new Vt(Xe.ds),this.ws=new Vt(Xe._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){let r=new Xe(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Xe(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){let n=new G(new Be([])),r=new Xe(n,e),i=new Xe(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){let n=new G(new Be([])),r=new Xe(n,e),i=new Xe(n,e+1),s=pe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Xe(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return G.comparator(e.key,n.key)||Te(e.As,n.As)}static _s(e,n){return Te(e.As,n.As)||G.comparator(e.key,n.key)}};var y_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Vt(Xe.ds)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Jw(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.Rs=this.Rs.add(new Xe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.bs(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Xe(n,0),i=new Xe(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{let a=this.Ps(o.As);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Te);return n.forEach(i=>{let s=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),F.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;G.isDocumentKey(s)||(s=s.child(""));let o=new Xe(new G(s),0),a=new Vt(Te);return this.Rs.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.As)),!0)},o),F.resolve(this.Vs(a))}Vs(e){let n=[];return e.forEach(r=>{let i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return F.forEach(n.mutations,i=>{let s=new Xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){let r=new Xe(n,0),i=this.Rs.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){let n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var v_=class{constructor(e){this.Ds=e,this.docs=new We(G.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar(),o=n.path,a=new G(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||kH(PH(h),r)<=0||(i.has(h.key)||Zf(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y()}Cs(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new b_(this)}getSize(e){return F.resolve(this.size)}},b_=class extends h_{constructor(e){super(),this.os=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}};var w_=class{constructor(e){this.persistence=e,this.xs=new pi(n=>dE(n),hE),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ou,this.targetCount=0,this.Ms=ku.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),F.resolve()}Fn(e){this.xs.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Ms=new ku(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Fn(n),F.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.xs.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ks.Es(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ks.containsKey(n))}};var __=class{constructor(e,n){this.$s={},this.overlays={},this.Os=new wN(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new w_(this),this.indexManager=new l_,this.remoteDocumentCache=function(r){return new v_(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new u_(n),this.qs=new m_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new y_(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new E_(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return F.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}},E_=class extends Rw{constructor(e){super(),this.currentSequenceNumber=e}},I_=class t{constructor(e){this.persistence=e,this.Qs=new Ou,this.js=null}static zs(e){return new t(e)}get Ws(){if(this.js)return this.js;throw Y()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),F.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Ws,r=>{let i=G.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return F.or([()=>F.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}};var D_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=pe(),i=pe();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var C_=class{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(eN(n))return F.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ww(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=pe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ji(n,a);return this.zi(n,l,o,u.readTime)?this.Ki(e,Ww(n,null,"F")):this.Wi(e,l,n,u)}))})))}Gi(e,n,r,i){return eN(n)||i.isEqual(ie.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{let o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(HM()<=xe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kw(n)),this.Wi(e,o,n,RH(i,-1)))})}ji(e,n){let r=new Vt(PN(e));return n.forEach((i,s)=>{Zf(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return HM()<=xe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Kw(n)),this.Ui.getDocumentsMatchingQuery(e,n,Is.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var T_=class{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new We(Te),this.Yi=new pi(s=>dE(s),hE),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}};function I9(t,e,n,r){return new T_(t,e,n,r)}function XN(t,e){return _(this,null,function*(){let n=se(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=pe();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})})}function D9(t,e){let n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){let h=u.batch,p=h.keys(),g=F.resolve();return p.forEach(v=>{g=g.next(()=>l.getEntry(a,v)).next(S=>{let P=u.docVersions.get(v);je(P!==null),S.version.compareTo(P)<0&&(h.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),l.addEntry(S)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(a,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=pe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZN(t){let e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function C9(t,e){let n=se(t),r=e.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Bs.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Bs.addMatchingKeys(s,h.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(jt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(S,P,k){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,v,h)&&a.push(n.Bs.updateTargetData(s,v))});let u=Ar(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(T9(s,o,e.documentUpdates).next(h=>{u=h.nr,l=h.sr})),!r.isEqual(ie.min())){let h=n.Bs.getLastRemoteSnapshotVersion(s).next(p=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.Ji=i,s))}function T9(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{nr:o,sr:i}})}function S9(t,e){let n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function A9(t,e){let n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Pu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function S_(t,e,n){return _(this,null,function*(){let r=se(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!zu(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)})}function lN(t,e,n){let r=se(t),i=ie.min(),s=pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){let h=se(a),p=h.Yi.get(l);return p!==void 0?F.resolve(h.Ji.get(p)):h.Bs.getTargetData(u,l)}(r,o,Sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:pe())).next(a=>(x9(r,$H(e),a),{documents:a,ir:s})))}function x9(t,e,n){let r=t.Xi.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}var Lf=class{constructor(){this.activeTargetIds=YH()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var A_=class{constructor(){this.Hr=new Lf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Lf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var x_=class{Yr(e){}shutdown(){}};var Ff=class{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.so)e(0)}no(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wf=null;function _w(){return wf===null?wf=268435456+Math.round(2147483648*Math.random()):wf++,"0x"+wf.toString(16)}var M9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var M_=class{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}};var St="WebChannelConnection",N_=class extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){let o=_w(),a=this.To(e,n);$("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);let u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(l=>($("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Au("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){let r=M9[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){let s=_w();return new Promise((o,a)=>{let u=new BM;u.setWithCredentials(!0),u.listenOnce(jM.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yf.NO_ERROR:let h=u.getResponseJson();$(St,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case yf.TIMEOUT:$(St,`RPC '${e}' ${s} timed out`),a(new U(R.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:let p=u.getStatus();if($(St,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let S=function(P){let k=P.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(k)>=0?k:R.UNKNOWN}(v.status);a(new U(S,v.message))}else a(new U(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(R.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{$(St,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);$(St,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Ro(e,n,r){let i=_w(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=FM(),a=VM(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new UM({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");$(St,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),g=!1,v=!1,S=new M_({ro:k=>{v?$(St,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(g||($(St,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),$(St,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},oo:()=>p.close()}),P=(k,B,te)=>{k.listen(B,W=>{try{te(W)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return P(p,Iu.EventType.OPEN,()=>{v||$(St,`RPC '${e}' stream ${i} transport opened.`)}),P(p,Iu.EventType.CLOSE,()=>{v||(v=!0,$(St,`RPC '${e}' stream ${i} transport closed`),S.wo())}),P(p,Iu.EventType.ERROR,k=>{v||(v=!0,Au(St,`RPC '${e}' stream ${i} transport errored:`,k),S.wo(new U(R.UNAVAILABLE,"The operation could not be completed")))}),P(p,Iu.EventType.MESSAGE,k=>{var B;if(!v){let te=k.data[0];je(!!te);let W=te,Ie=W.error||((B=W[0])===null||B===void 0?void 0:B.error);if(Ie){$(St,`RPC '${e}' stream ${i} received error:`,Ie);let et=Ie.status,Se=function(y){let b=Je[y];if(b!==void 0)return HN(b)}(et),I=Ie.message;Se===void 0&&(Se=R.INTERNAL,I="Unknown error status: "+et+" with message "+Ie.message),v=!0,S.wo(new U(Se,I)),p.close()}else $(St,`RPC '${e}' stream ${i} received:`,te),S._o(te)}}),P(a,qM.STAT_EVENT,k=>{k.stat===bw.PROXY?$(St,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===bw.NOPROXY&&$(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}};function Ew(){return typeof document<"u"?document:null}function ep(t){return new i_(t,!0)}var Vf=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();let n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}};var jf=class{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Vf(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}stop(){return _(this,null,function*(){this.Uo()&&(yield this.close(0))})}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){return _(this,null,function*(){if(this.Ko())return this.close(0)})}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){return _(this,null,function*(){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.ao(n)})}Yo(){}auth(){this.state=1;let e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{let i=new U(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){let r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(()=>_(this,null,function*(){this.state=0,this.start()}))}tu(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},R_=class extends jf{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();let n=d9(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();let s=i.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?Yn(s.readTime):ie.min()}(e);return this.listener.nu(n,r)}su(e){let n={};n.database=c_(this.serializer),n.addTarget=function(i,s){let o,a=s.target;if(o=Hw(a)?{documents:p9(i,a)}:{query:m9(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=GN(i,s.resumeToken);let u=s_(i,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ie.min())>0){o.readTime=kf(i,s.snapshotVersion.toTimestamp());let u=s_(i,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);let r=y9(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){let n={};n.database=c_(this.serializer),n.removeTarget=e,this.Wo(n)}},P_=class extends jf{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();let n=f9(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.cu(r,n)}return je(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){let e={};e.database=c_(this.serializer),this.Wo(e)}uu(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>h9(this.serializer,r))};this.Wo(n)}};var k_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(R.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(R.UNKNOWN,s.toString())})}terminate(){this.lu=!0}};var O_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Tr(n),this.mu=!1):$("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}};var L_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(()=>_(this,null,function*(){xs(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(a){return _(this,null,function*(){let u=se(a);u.vu.add(4),yield $u(u),u.bu.set("Unknown"),u.vu.delete(4),yield tp(u)})}(this))}))}),this.bu=new O_(r,i)}};function tp(t){return _(this,null,function*(){if(xs(t))for(let e of t.Ru)yield e(!0)})}function $u(t){return _(this,null,function*(){for(let e of t.Ru)yield e(!1)})}function eR(t,e){let n=se(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),yE(n)?gE(n):fa(n).Ko()&&mE(n,e))}function tR(t,e){let n=se(t),r=fa(n);n.Au.delete(e),r.Ko()&&nR(n,e),n.Au.size===0&&(r.Ko()?r.jo():xs(n)&&n.bu.set("Unknown"))}function mE(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fa(t).su(e)}function nR(t,e){t.Vu.qt(e),fa(t).iu(e)}function gE(t){t.Vu=new r_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),fa(t).start(),t.bu.gu()}function yE(t){return xs(t)&&!fa(t).Uo()&&t.Au.size>0}function xs(t){return se(t).vu.size===0}function rR(t){t.Vu=void 0}function N9(t){return _(this,null,function*(){t.Au.forEach((e,n)=>{mE(t,e)})})}function R9(t,e){return _(this,null,function*(){rR(t),yE(t)?(t.bu.Iu(e),gE(t)):t.bu.set("Unknown")})}function P9(t,e,n){return _(this,null,function*(){if(t.bu.set("Online"),e instanceof Rf&&e.state===2&&e.cause)try{yield function(r,i){return _(this,null,function*(){let s=i.cause;for(let o of i.targetIds)r.Au.has(o)&&(yield r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))})}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qf(t,r)}else if(e instanceof Zo?t.Vu.Ht(e):e instanceof Nf?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ie.min()))try{let r=yield ZN(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){let o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){let l=i.Au.get(u);l&&i.Au.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{let l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(jt.EMPTY_BYTE_STRING,l.snapshotVersion)),nR(i,a);let h=new Pu(l.target,a,u,l.sequenceNumber);mE(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){$("RemoteStore","Failed to raise snapshot:",r),yield qf(t,r)}})}function qf(t,e,n){return _(this,null,function*(){if(!zu(e))throw e;t.vu.add(1),yield $u(t),t.bu.set("Offline"),n||(n=()=>ZN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield tp(t)}))})}function iR(t,e){return e().catch(n=>qf(t,n,e))}function np(t){return _(this,null,function*(){let e=se(t),n=mi(e),r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;k9(e);)try{let i=yield S9(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,O9(e,i)}catch(i){yield qf(e,i)}sR(e)&&oR(e)})}function k9(t){return xs(t)&&t.Eu.length<10}function O9(t,e){t.Eu.push(e);let n=mi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function sR(t){return xs(t)&&!mi(t).Uo()&&t.Eu.length>0}function oR(t){mi(t).start()}function L9(t){return _(this,null,function*(){mi(t).hu()})}function F9(t){return _(this,null,function*(){let e=mi(t);for(let n of t.Eu)e.uu(n.mutations)})}function V9(t,e,n){return _(this,null,function*(){let r=t.Eu.shift(),i=Xw.from(r,e,n);yield iR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield np(t)})}function j9(t,e){return _(this,null,function*(){e&&mi(t).ou&&(yield function(n,r){return _(this,null,function*(){if(i=r.code,r9(i)&&i!==R.ABORTED){let s=n.Eu.shift();mi(n).Qo(),yield iR(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield np(n)}var i})}(t,e)),sR(t)&&oR(t)})}function dN(t,e){return _(this,null,function*(){let n=se(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let r=xs(n);n.vu.add(3),yield $u(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield tp(n)})}function q9(t,e){return _(this,null,function*(){let n=se(t);e?(n.vu.delete(2),yield tp(n)):e||(n.vu.add(2),yield $u(n),n.bu.set("Unknown"))})}function fa(t){return t.Su||(t.Su=function(e,n,r){let i=se(e);return i.fu(),new R_(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:N9.bind(null,t),ao:R9.bind(null,t),nu:P9.bind(null,t)}),t.Ru.push(e=>_(this,null,function*(){e?(t.Su.Qo(),yE(t)?gE(t):t.bu.set("Unknown")):(yield t.Su.stop(),rR(t))}))),t.Su}function mi(t){return t.Du||(t.Du=function(e,n,r){let i=se(e);return i.fu(),new P_(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:L9.bind(null,t),ao:j9.bind(null,t),au:F9.bind(null,t),cu:V9.bind(null,t)}),t.Ru.push(e=>_(this,null,function*(){e?(t.Du.Qo(),yield np(t)):(yield t.Du.stop(),t.Eu.length>0&&($("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))}))),t.Du}var F_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vE(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),zu(t))return new U(R.UNAVAILABLE,`${e}: ${t}`);throw t}var Uf=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Du(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Bf=class{constructor(){this.Cu=new We(G.comparator)}track(e){let n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Y():this.Cu=this.Cu.insert(n,e)}xu(){let e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}},ua=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Uf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var V_=class{constructor(){this.Nu=void 0,this.listeners=[]}},j_=class{constructor(){this.queries=new pi(e=>RN(e),Xf),this.onlineState="Unknown",this.ku=new Set}};function U9(t,e){return _(this,null,function*(){let n=se(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new V_),i)try{s.Nu=yield n.onListen(r)}catch(o){let a=vE(o,`Initialization of query '${Kw(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&bE(n)})}function B9(t,e){return _(this,null,function*(){let n=se(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function z9(t,e){let n=se(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&bE(n)}function $9(t,e,n){let r=se(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function bE(t){t.ku.forEach(e=>{e.next()})}var q_=class{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;let n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}};var zf=class{constructor(e){this.key=e}},$f=class{constructor(e){this.key=e}},U_=class{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pe(),this.mutatedKeys=pe(),this.tc=PN(e),this.ec=new Uf(this.tc)}get nc(){return this.Yu}sc(e,n){let r=n?n.ic:new Bf,i=n?n.ec:this.ec,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),v=Zf(this.query,p)?p:null,S=!!g&&this.mutatedKeys.has(g.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),k=!1;g&&v?g.data.isEqual(v.data)?S!==P&&(r.track({type:3,doc:v}),k=!0):this.rc(g,v)||(r.track({type:2,doc:v}),k=!0,(u&&this.tc(v,u)>0||l&&this.tc(v,l)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),k=!0):g&&!v&&(r.track({type:1,doc:g}),k=!0,(u||l)&&(a=!0)),k&&(v?(o=o.add(v),s=P?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){let i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;let s=e.ic.xu();s.sort((l,h)=>function(p,g){let v=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return v(p)-v(g)}(l.type,h.type)||this.tc(l.doc,h.doc)),this.oc(r);let o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,s.length!==0||u?{snapshot:new ua(this.query,e.ec,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Bf,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];let e=this.Zu;this.Zu=pe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});let n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new $f(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new zf(r))}),n}hc(e){this.Yu=e.ir,this.Zu=pe();let n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ua.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}},B_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},z_=class{constructor(e){this.key=e,this.fc=!1}},$_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new pi(a=>RN(a),Xf),this._c=new Map,this.mc=new Set,this.gc=new We(G.comparator),this.yc=new Map,this.Ic=new Ou,this.Tc={},this.Ec=new Map,this.Ac=ku.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}};function H9(t,e){return _(this,null,function*(){let n=tG(t),r,i,s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{let o=yield A9(n.localStore,Sr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield G9(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&eR(n.remoteStore,o)}return i})}function G9(t,e,n,r,i){return _(this,null,function*(){t.Rc=(p,g,v)=>function(S,P,k,B){return _(this,null,function*(){let te=P.view.sc(k);te.zi&&(te=yield lN(S.localStore,P.query,!1).then(({documents:et})=>P.view.sc(et,te)));let W=B&&B.targetChanges.get(P.targetId),Ie=P.view.applyChanges(te,S.isPrimaryClient,W);return fN(S,P.targetId,Ie.cc),Ie.snapshot})}(t,p,g,v);let s=yield lN(t.localStore,e,!0),o=new U_(e,s.ir),a=o.sc(s.documents),u=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);fN(t,n,l.cc);let h=new B_(e,n,o);return t.wc.set(e,h),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot})}function W9(t,e){return _(this,null,function*(){let n=se(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Xf(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield S_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),tR(n.remoteStore,r.targetId),H_(n,r.targetId)}).catch(Bu))):(H_(n,r.targetId),yield S_(n.localStore,r.targetId,!0))})}function K9(t,e,n){return _(this,null,function*(){let r=nG(t);try{let i=yield function(s,o){let a=se(s),u=gt.now(),l=o.reduce((g,v)=>g.add(v.key),pe()),h,p;return a.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Ar(),S=pe();return a.Zi.getEntries(g,l).next(P=>{v=P,v.forEach((k,B)=>{B.isValidDocument()||(S=S.add(k))})}).next(()=>a.localDocuments.getOverlayedDocuments(g,v)).next(P=>{h=P;let k=[];for(let B of o){let te=n9(B,h.get(B.key).overlayedDocument);te!=null&&k.push(new xr(B.key,te,IN(te.value.mapValue),_s.exists(!0)))}return a.mutationQueue.addMutationBatch(g,u,k,o)}).next(P=>{p=P;let k=P.applyToLocalDocumentSet(h,S);return a.documentOverlayCache.saveOverlays(g,P.batchId,k)})}).then(()=>({batchId:p.batchId,changes:ON(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new We(Te)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Hu(r,i.changes),yield np(r.remoteStore)}catch(i){let s=vE(i,"Failed to persist write");n.reject(s)}})}function aR(t,e){return _(this,null,function*(){let n=se(t);try{let r=yield C9(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.yc.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?je(o.fc):i.removedDocuments.size>0&&(je(o.fc),o.fc=!1))}),yield Hu(n,r,e)}catch(r){yield Bu(r)}})}function hN(t,e,n){let r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.wc.forEach((s,o)=>{let a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){let a=se(s);a.onlineState=o;let u=!1;a.queries.forEach((l,h)=>{for(let p of h.listeners)p.Mu(o)&&(u=!0)}),u&&bE(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Q9(t,e,n){return _(this,null,function*(){let r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.yc.get(e),s=i&&i.key;if(s){let o=new We(G.comparator);o=o.insert(s,Tn.newNoDocument(s,ie.min()));let a=pe().add(s),u=new Mf(ie.min(),new Map,new We(Te),o,a);yield aR(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),wE(r)}else yield S_(r.localStore,e,!1).then(()=>H_(r,e,n)).catch(Bu)})}function Y9(t,e){return _(this,null,function*(){let n=se(t),r=e.batch.batchId;try{let i=yield D9(n.localStore,e);uR(n,r,null),cR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Hu(n,i)}catch(i){yield Bu(i)}})}function J9(t,e,n){return _(this,null,function*(){let r=se(t);try{let i=yield function(s,o){let a=se(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(h=>(je(h!==null),l=h.keys(),a.mutationQueue.removeMutationBatch(u,h))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);uR(r,e,n),cR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Hu(r,i)}catch(i){yield Bu(i)}})}function cR(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function uR(t,e,n){let r=se(t),i=r.Tc[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function H_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||lR(t,r)})}function lR(t,e){t.mc.delete(e.path.canonicalString());let n=t.gc.get(e);n!==null&&(tR(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),wE(t))}function fN(t,e,n){for(let r of n)r instanceof zf?(t.Ic.addReference(r.key,e),X9(t,r)):r instanceof $f?($("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||lR(t,r.key)):Y()}function X9(t,e){let n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||($("SyncEngine","New document in limbo: "+n),t.mc.add(r),wE(t))}function wE(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){let e=t.mc.values().next().value;t.mc.delete(e);let n=new G(Be.fromString(e)),r=t.Ac.next();t.yc.set(r,new z_(n)),t.gc=t.gc.insert(n,r),eR(t.remoteStore,new Pu(Sr(xN(n.path)),r,"TargetPurposeLimboResolution",wN.ct))}}function Hu(t,e,n){return _(this,null,function*(){let r=se(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let h=D_.Li(u.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.dc.nu(i),yield function(a,u){return _(this,null,function*(){let l=se(a);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(u,p=>F.forEach(p.Fi,g=>l.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>F.forEach(p.Bi,g=>l.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!zu(h))throw h;$("LocalStore","Failed to update sequence numbers: "+h)}for(let h of u){let p=h.targetId;if(!h.fromCache){let g=l.Ji.get(p),v=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(v);l.Ji=l.Ji.insert(p,S)}}})}(r.localStore,s))})}function Z9(t,e){return _(this,null,function*(){let n=se(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let r=yield XN(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new U(R.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hu(n,r.er)}})}function eG(t,e){let n=se(t),r=n.yc.get(e);if(r&&r.fc)return pe().add(r.key);{let i=pe(),s=n._c.get(e);if(!s)return i;for(let o of s){let a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function tG(t){let e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q9.bind(null,e),e.dc.nu=z9.bind(null,e.eventManager),e.dc.Pc=$9.bind(null,e.eventManager),e}function nG(t){let e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J9.bind(null,e),e}var Hf=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=ep(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return I9(this.persistence,new C_,e.initialUser,this.serializer)}createPersistence(e){return new __(I_.zs,this.serializer)}createSharedClientState(e){return new A_}terminate(){return _(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var G_=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z9.bind(null,this.syncEngine),yield q9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return new j_}createDatastore(e){let n=ep(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new N_(i));var i;return function(s,o,a,u){return new k_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>hN(this.syncEngine,a,0),o=Ff.D()?new Ff:new x_,new L_(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){let h=new $_(r,i,s,o,a,u);return l&&(h.vc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(e){return _(this,null,function*(){let n=se(e);$("RemoteStore","RemoteStore shutting down."),n.vu.add(5),yield $u(n),n.Pu.shutdown(),n.bu.set("Unknown")})}(this.remoteStore)}};var W_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var K_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=If.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>_(this,null,function*(){$("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return _(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=vE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Iw(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield XN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function pN(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield iG(t);$("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>dN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>dN(e.remoteStore,s)),t._onlineComponents=e})}function rG(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function iG(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Iw(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!rG(n))throw n;Au("Error using user provided cache. Falling back to memory cache: "+n),yield Iw(t,new Hf)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield Iw(t,new Hf);return t._offlineComponents})}function dR(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield pN(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield pN(t,new G_))),t._onlineComponents})}function sG(t){return dR(t).then(e=>e.syncEngine)}function oG(t){return _(this,null,function*(){let e=yield dR(t),n=e.eventManager;return n.onListen=H9.bind(null,e.syncEngine),n.onUnlisten=W9.bind(null,e.syncEngine),n})}function aG(t,e,n={}){let r=new Kn;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(i,s,o,a,u){let l=new W_({next:p=>{s.enqueueAndForget(()=>B9(i,h)),p.fromCache&&a.source==="server"?u.reject(new U(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new q_(o,l,{includeMetadataChanges:!0,Ku:!0});return U9(i,h)}(yield oG(t),t.asyncQueue,e,n,r)})),r.promise}function hR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var mN=new Map;function fR(t,e,n){if(!n)throw new U(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cG(t,e,n,r){if(e===!0&&r===!0)throw new U(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gN(t){if(!G.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yN(t){if(G.isDocumentKey(t))throw new U(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Q_(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=rp(t);throw new U(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Gf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new U(R.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}},Lu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gf(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Cw;switch(n.type){case"firstParty":return new Aw(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new U(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let n=mN.get(e);n&&($("ComponentProvider","Removing Datastore"),mN.delete(e),n.terminate())}(this),Promise.resolve()}};var fn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},la=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},di=class t extends la{constructor(e,n,r){super(e,n,xN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function pR(t,e,...n){if(t=as(t),fR("collection","path",e),t instanceof Lu){let r=Be.fromString(e,...n);return yN(r),new di(t,null,r)}{if(!(t instanceof fn||t instanceof di))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return yN(r),new di(t.firestore,null,r)}}function uG(t,e,...n){if(t=as(t),arguments.length===1&&(e=If.A()),fR("doc","path",e),t instanceof Lu){let r=Be.fromString(e,...n);return gN(r),new fn(t,null,new G(r))}{if(!(t instanceof fn||t instanceof di))throw new U(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return gN(r),new fn(t.firestore,t instanceof di?t.converter:null,new G(r))}}var Y_=class{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Vf(this,"async_queue_retry"),this.Xc=()=>{let n=Ew();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};let e=Ew();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;let n=Ew();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});let n=new Kn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){return _(this,null,function*(){if(this.Qc.length!==0){try{yield this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!zu(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}})}ta(e){let n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;let i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);let i=F_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Y()}verifyOperationInProgress(){}sa(){return _(this,null,function*(){let e;do e=this.Gc,yield e;while(e!==this.Gc)})}ia(e){for(let n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){let n=this.zc.indexOf(e);this.zc.splice(n,1)}};var Fu=class extends Lu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Y_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gR(this),this._firestoreClient.terminate()}};function mR(t){return t._firestoreClient||gR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gR(t){var e,n,r;let i=t._freezeSettings(),s=function(o,a,u,l){return new Pw(o,a,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,hR(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new K_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var Vu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(jt.fromBase64String(e))}catch(n){throw new U(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ju=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Wf=class{constructor(e){this._methodName=e}};var qu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var lG=/^__.*__$/,J_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new As(e,this.data,n,this.fieldTransforms)}};function yR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var X_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(yR(this.ca)&&lG.test(e))throw this._a('Document fields cannot begin and end with "__"')}},Z_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ep(e)}ya(e,n,r,i=!1){return new X_({ca:e,methodName:n,ga:r,path:pn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function vR(t){let e=t._freezeSettings(),n=ep(t._databaseId);return new Z_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dG(t,e,n,r,i,s={}){let o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);_R("Data must be an object, but it was:",o,r);let a=bR(r,o),u,l;if(s.merge)u=new Wn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let g=fG(e,p,n);if(!o.contains(g))throw new U(R.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);mG(h,g)||h.push(g)}u=new Wn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new J_(new Cn(a),u,l)}function hG(t,e,n,r=!1){return _E(n,t.ya(r?4:3,e))}function _E(t,e){if(wR(t=as(t)))return _R("Unsupported field value:",e,t),bR(t,e);if(t instanceof Wf)return function(n,r){if(!yR(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);let i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){let i=[],s=0;for(let o of n){let a=_E(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=as(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return JH(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let i=gt.fromDate(n);return{timestampValue:kf(r.serializer,i)}}if(n instanceof gt){let i=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kf(r.serializer,i)}}if(n instanceof qu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vu)return{bytesValue:GN(r.serializer,n._byteString)};if(n instanceof fn){let i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:pE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${rp(n)}`)}(t,e)}function bR(t,e){let n={};return _N(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,(r,i)=>{let s=_E(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof qu||t instanceof Vu||t instanceof fn||t instanceof Wf)}function _R(t,e,n){if(!wR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let r=rp(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function fG(t,e,n){if((e=as(e))instanceof ju)return e._internalPath;if(typeof e=="string")return ER(t,e);throw Kf("Field path arguments must be of type string or ",t,!1,void 0,n)}var pG=new RegExp("[~\\*/\\[\\]]");function ER(t,e,n){if(e.search(pG)>=0)throw Kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ju(...e.split("."))._internalPath}catch{throw Kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kf(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(R.INVALID_ARGUMENT,a+t+u)}function mG(t,e){return t.some(n=>n.isEqual(e))}var Qf=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new eE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(EE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},eE=class extends Qf{data(){return super.data()}};function EE(t,e){return typeof e=="string"?ER(t,e):e instanceof ju?e._internalPath:e._delegate._internalPath}function gG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Uu=class{},tE=class extends Uu{};function IR(t,e,...n){let r=[];e instanceof Uu&&r.push(e),r=r.concat(n),function(i){let s=i.filter(a=>a instanceof nE).length,o=i.filter(a=>a instanceof Yf).length;if(s>1||s>0&&o>0)throw new U(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Yf=class t extends tE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return CR(e._query,n),new la(e.firestore,e.converter,Gw(e._query,n))}_parse(e){let n=vR(e.firestore);return function(i,s,o,a,u,l,h){let p;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new U(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){bN(h,l);let g=[];for(let v of h)g.push(vN(a,i,v));p={arrayValue:{values:g}}}else p=vN(a,i,h)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||bN(h,l),p=hG(o,s,h,l==="in"||l==="not-in");return Ze.create(u,l,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function DR(t,e,n){let r=e,i=EE("where",t);return Yf._create(i,r,n)}var nE=class t extends Uu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r,o=i.getFlattenedFilters();for(let a of o)CR(s,a),s=Gw(s,a)}(e._query,n),new la(e.firestore,e.converter,Gw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function vN(t,e,n){if(typeof(n=as(n))=="string"){if(n==="")throw new U(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NN(e)&&n.indexOf("/")!==-1)throw new U(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Be.fromString(n));if(!G.isDocumentKey(r))throw new U(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KM(t,new G(r))}if(n instanceof fn)return KM(t,n._key);throw new U(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rp(n)}.`)}function bN(t,e){if(!Array.isArray(t)||t.length===0)throw new U(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CR(t,e){if(e.isInequality()){let r=fE(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new U(R.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);let s=MN(t);s!==null&&yG(t,i,s)}let n=function(r,i){for(let s of r)for(let o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function yG(t,e,n){if(!n.isEqual(e))throw new U(R.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}var rE=class{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ha(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new qu(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=uE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){let n=hi(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Be.fromString(e);je(JN(r));let i=new Sf(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function vG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Jo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},iE=class extends Qf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ea(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(EE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ea=class extends iE{data(e={}){return super.data(e)}},sE=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ea(this._firestore,this._userDataWriter,r.key,r,new Jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{let a=new ea(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Jo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{let a=new ea(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Jo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,l=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:bG(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function bG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}var oE=class extends rE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}};function TR(t){t=Q_(t,la);let e=Q_(t.firestore,Fu),n=mR(e),r=new oE(e);return gG(t._query),aG(n,t._query).then(i=>new sE(e,r,t,i))}function SR(t,e){let n=Q_(t.firestore,Fu),r=uG(t),i=vG(t.converter,e);return wG(n,[dG(vR(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_s.exists(!1))]).then(()=>r)}function wG(t,e){return function(n,r){let i=new Kn;return n.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return K9(yield sG(n),r,i)})),i.promise}(mR(t),e)}(function(t,e=!0){(function(n){da=n})(xA),Hc(new si("firestore",(n,{instanceIdentifier:r,options:i})=>{let s=n.getProvider("app").getImmediate(),o=new Fu(new Tw(n.getProvider("auth-internal")),new Mw(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new U(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),jo($M,"3.13.0",t),jo($M,"3.13.0","esm2017")})();var AR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xR={};var IE,MR;(function(){var t;function e(I,y){function b(){}b.prototype=y.prototype,I.D=y.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(E,D,T){for(var w=Array(arguments.length-2),er=2;er<arguments.length;er++)w[er-2]=arguments[er];return y.prototype[D].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,b){b||(b=0);var E=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)E[D]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(D=0;16>D;++D)E[D]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=I.g[0],b=I.g[1],D=I.g[2];var T=I.g[3],w=y+(T^b&(D^T))+E[0]+3614090360&4294967295;y=b+(w<<7&4294967295|w>>>25),w=T+(D^y&(b^D))+E[1]+3905402710&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(b^T&(y^b))+E[2]+606105819&4294967295,D=T+(w<<17&4294967295|w>>>15),w=b+(y^D&(T^y))+E[3]+3250441966&4294967295,b=D+(w<<22&4294967295|w>>>10),w=y+(T^b&(D^T))+E[4]+4118548399&4294967295,y=b+(w<<7&4294967295|w>>>25),w=T+(D^y&(b^D))+E[5]+1200080426&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(b^T&(y^b))+E[6]+2821735955&4294967295,D=T+(w<<17&4294967295|w>>>15),w=b+(y^D&(T^y))+E[7]+4249261313&4294967295,b=D+(w<<22&4294967295|w>>>10),w=y+(T^b&(D^T))+E[8]+1770035416&4294967295,y=b+(w<<7&4294967295|w>>>25),w=T+(D^y&(b^D))+E[9]+2336552879&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(b^T&(y^b))+E[10]+4294925233&4294967295,D=T+(w<<17&4294967295|w>>>15),w=b+(y^D&(T^y))+E[11]+2304563134&4294967295,b=D+(w<<22&4294967295|w>>>10),w=y+(T^b&(D^T))+E[12]+1804603682&4294967295,y=b+(w<<7&4294967295|w>>>25),w=T+(D^y&(b^D))+E[13]+4254626195&4294967295,T=y+(w<<12&4294967295|w>>>20),w=D+(b^T&(y^b))+E[14]+2792965006&4294967295,D=T+(w<<17&4294967295|w>>>15),w=b+(y^D&(T^y))+E[15]+1236535329&4294967295,b=D+(w<<22&4294967295|w>>>10),w=y+(D^T&(b^D))+E[1]+4129170786&4294967295,y=b+(w<<5&4294967295|w>>>27),w=T+(b^D&(y^b))+E[6]+3225465664&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^b&(T^y))+E[11]+643717713&4294967295,D=T+(w<<14&4294967295|w>>>18),w=b+(T^y&(D^T))+E[0]+3921069994&4294967295,b=D+(w<<20&4294967295|w>>>12),w=y+(D^T&(b^D))+E[5]+3593408605&4294967295,y=b+(w<<5&4294967295|w>>>27),w=T+(b^D&(y^b))+E[10]+38016083&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^b&(T^y))+E[15]+3634488961&4294967295,D=T+(w<<14&4294967295|w>>>18),w=b+(T^y&(D^T))+E[4]+3889429448&4294967295,b=D+(w<<20&4294967295|w>>>12),w=y+(D^T&(b^D))+E[9]+568446438&4294967295,y=b+(w<<5&4294967295|w>>>27),w=T+(b^D&(y^b))+E[14]+3275163606&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^b&(T^y))+E[3]+4107603335&4294967295,D=T+(w<<14&4294967295|w>>>18),w=b+(T^y&(D^T))+E[8]+1163531501&4294967295,b=D+(w<<20&4294967295|w>>>12),w=y+(D^T&(b^D))+E[13]+2850285829&4294967295,y=b+(w<<5&4294967295|w>>>27),w=T+(b^D&(y^b))+E[2]+4243563512&4294967295,T=y+(w<<9&4294967295|w>>>23),w=D+(y^b&(T^y))+E[7]+1735328473&4294967295,D=T+(w<<14&4294967295|w>>>18),w=b+(T^y&(D^T))+E[12]+2368359562&4294967295,b=D+(w<<20&4294967295|w>>>12),w=y+(b^D^T)+E[5]+4294588738&4294967295,y=b+(w<<4&4294967295|w>>>28),w=T+(y^b^D)+E[8]+2272392833&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^b)+E[11]+1839030562&4294967295,D=T+(w<<16&4294967295|w>>>16),w=b+(D^T^y)+E[14]+4259657740&4294967295,b=D+(w<<23&4294967295|w>>>9),w=y+(b^D^T)+E[1]+2763975236&4294967295,y=b+(w<<4&4294967295|w>>>28),w=T+(y^b^D)+E[4]+1272893353&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^b)+E[7]+4139469664&4294967295,D=T+(w<<16&4294967295|w>>>16),w=b+(D^T^y)+E[10]+3200236656&4294967295,b=D+(w<<23&4294967295|w>>>9),w=y+(b^D^T)+E[13]+681279174&4294967295,y=b+(w<<4&4294967295|w>>>28),w=T+(y^b^D)+E[0]+3936430074&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^b)+E[3]+3572445317&4294967295,D=T+(w<<16&4294967295|w>>>16),w=b+(D^T^y)+E[6]+76029189&4294967295,b=D+(w<<23&4294967295|w>>>9),w=y+(b^D^T)+E[9]+3654602809&4294967295,y=b+(w<<4&4294967295|w>>>28),w=T+(y^b^D)+E[12]+3873151461&4294967295,T=y+(w<<11&4294967295|w>>>21),w=D+(T^y^b)+E[15]+530742520&4294967295,D=T+(w<<16&4294967295|w>>>16),w=b+(D^T^y)+E[2]+3299628645&4294967295,b=D+(w<<23&4294967295|w>>>9),w=y+(D^(b|~T))+E[0]+4096336452&4294967295,y=b+(w<<6&4294967295|w>>>26),w=T+(b^(y|~D))+E[7]+1126891415&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~b))+E[14]+2878612391&4294967295,D=T+(w<<15&4294967295|w>>>17),w=b+(T^(D|~y))+E[5]+4237533241&4294967295,b=D+(w<<21&4294967295|w>>>11),w=y+(D^(b|~T))+E[12]+1700485571&4294967295,y=b+(w<<6&4294967295|w>>>26),w=T+(b^(y|~D))+E[3]+2399980690&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~b))+E[10]+4293915773&4294967295,D=T+(w<<15&4294967295|w>>>17),w=b+(T^(D|~y))+E[1]+2240044497&4294967295,b=D+(w<<21&4294967295|w>>>11),w=y+(D^(b|~T))+E[8]+1873313359&4294967295,y=b+(w<<6&4294967295|w>>>26),w=T+(b^(y|~D))+E[15]+4264355552&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~b))+E[6]+2734768916&4294967295,D=T+(w<<15&4294967295|w>>>17),w=b+(T^(D|~y))+E[13]+1309151649&4294967295,b=D+(w<<21&4294967295|w>>>11),w=y+(D^(b|~T))+E[4]+4149444226&4294967295,y=b+(w<<6&4294967295|w>>>26),w=T+(b^(y|~D))+E[11]+3174756917&4294967295,T=y+(w<<10&4294967295|w>>>22),w=D+(y^(T|~b))+E[2]+718787259&4294967295,D=T+(w<<15&4294967295|w>>>17),w=b+(T^(D|~y))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var b=y-this.blockSize,E=this.B,D=this.h,T=0;T<y;){if(D==0)for(;T<=b;)i(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<y;)if(E[D++]=I.charCodeAt(T++),D==this.blockSize){i(this,E),D=0;break}}else for(;T<y;)if(E[D++]=I[T++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var b=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=b&255,b/=256;for(this.u(I),I=Array(16),y=b=0;4>y;++y)for(var E=0;32>E;E+=8)I[b++]=this.g[y]>>>E&255;return I};function s(I,y){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=y(I)}function o(I,y){this.h=y;for(var b=[],E=!0,D=I.length-1;0<=D;D--){var T=I[D]|0;E&&T==y||(b[D]=T,E=!1)}this.g=b}var a={};function u(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return k(l(-I));for(var y=[],b=1,E=0;I>=b;E++)y[E]=I/b|0,b*=4294967296;return new o(y,0)}function h(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return k(h(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(y,8)),E=p,D=0;D<I.length;D+=8){var T=Math.min(8,I.length-D),w=parseInt(I.substring(D,D+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(w))):(E=E.j(b),E=E.add(l(w)))}return E}var p=u(0),g=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-k(this).m();for(var I=0,y=1,b=0;b<this.g.length;b++){var E=this.i(b);I+=(0<=E?E:4294967296+E)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(P(this))return"-"+k(this).toString(I);for(var y=l(Math.pow(I,6)),b=this,E="";;){var D=Ie(b,y).g;b=B(b,D.j(y));var T=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=D,S(b))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function P(I){return I.h==-1}t.l=function(I){return I=B(this,I),P(I)?-1:S(I)?0:1};function k(I){for(var y=I.g.length,b=[],E=0;E<y;E++)b[E]=~I.g[E];return new o(b,~I.h).add(g)}t.abs=function(){return P(this)?k(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],E=0,D=0;D<=y;D++){var T=E+(this.i(D)&65535)+(I.i(D)&65535),w=(T>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);E=w>>>16,T&=65535,w&=65535,b[D]=w<<16|T}return new o(b,b[b.length-1]&-2147483648?-1:0)};function B(I,y){return I.add(k(y))}t.j=function(I){if(S(this)||S(I))return p;if(P(this))return P(I)?k(this).j(k(I)):k(k(this).j(I));if(P(I))return k(this.j(k(I)));if(0>this.l(v)&&0>I.l(v))return l(this.m()*I.m());for(var y=this.g.length+I.g.length,b=[],E=0;E<2*y;E++)b[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<I.g.length;D++){var T=this.i(E)>>>16,w=this.i(E)&65535,er=I.i(D)>>>16,Da=I.i(D)&65535;b[2*E+2*D]+=w*Da,te(b,2*E+2*D),b[2*E+2*D+1]+=T*Da,te(b,2*E+2*D+1),b[2*E+2*D+1]+=w*er,te(b,2*E+2*D+1),b[2*E+2*D+2]+=T*er,te(b,2*E+2*D+2)}for(E=0;E<y;E++)b[E]=b[2*E+1]<<16|b[2*E];for(E=y;E<2*y;E++)b[E]=0;return new o(b,0)};function te(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function W(I,y){this.g=I,this.h=y}function Ie(I,y){if(S(y))throw Error("division by zero");if(S(I))return new W(p,p);if(P(I))return y=Ie(k(I),y),new W(k(y.g),k(y.h));if(P(y))return y=Ie(I,k(y)),new W(k(y.g),y.h);if(30<I.g.length){if(P(I)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var b=g,E=y;0>=E.l(I);)b=et(b),E=et(E);var D=Se(b,1),T=Se(E,1);for(E=Se(E,2),b=Se(b,2);!S(E);){var w=T.add(E);0>=w.l(I)&&(D=D.add(b),T=w),E=Se(E,1),b=Se(b,1)}return y=B(I,D.j(y)),new W(D,y)}for(D=p;0<=I.l(y);){for(b=Math.max(1,Math.floor(I.m()/y.m())),E=Math.ceil(Math.log(b)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(b),w=T.j(y);P(w)||0<w.l(I);)b-=E,T=l(b),w=T.j(y);S(T)&&(T=g),D=D.add(T),I=B(I,w)}return new W(D,I)}t.A=function(I){return Ie(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],E=0;E<y;E++)b[E]=this.i(E)&I.i(E);return new o(b,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],E=0;E<y;E++)b[E]=this.i(E)|I.i(E);return new o(b,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],E=0;E<y;E++)b[E]=this.i(E)^I.i(E);return new o(b,this.h^I.h)};function et(I){for(var y=I.g.length+1,b=[],E=0;E<y;E++)b[E]=I.i(E)<<1|I.i(E-1)>>>31;return new o(b,I.h)}function Se(I,y){var b=y>>5;y%=32;for(var E=I.g.length-b,D=[],T=0;T<E;T++)D[T]=0<y?I.i(T+b)>>>y|I.i(T+b+1)<<32-y:I.i(T+b);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MR=xR.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,IE=xR.Integer=o}).apply(typeof AR<"u"?AR:typeof self<"u"?self:typeof window<"u"?window:{});var ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={};var NR,_G,RR,PR,kR,OR,LR,FR,VR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ip=="object"&&ip];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,A){for(var O=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)O[Re-2]=arguments[Re];return d.prototype[C].apply(m,O)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function k(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,A=m.length||0;c.length=C+A;for(let O=0;O<A;O++)c[C+O]=m[O]}else c.push(m)}}class B{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function te(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ie(c){return Ie[" "](c),c}Ie[" "]=function(){};var et=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Se(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function I(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let A=0;A<b.length;A++)f=b[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Ep;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class er{constructor(){this.h=this.g=null}add(d,f){let m=Da.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Da=new B(()=>new aP,c=>c.reset());class aP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ca,Ta=!1,Ep=new er,XE=()=>{let c=a.Promise.resolve(void 0);Ca=()=>{c.then(cP)}};var cP=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){T(f)}var d=Da;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ta=!1};function Nr(){this.s=this.s,this.C=this.C}Nr.prototype.s=!1,Nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function bt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var uP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Sa(c,d){if(bt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(et){e:{try{Ie(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:lP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Sa.aa.h.call(this)}}S(Sa,bt);var lP={2:"touch",3:"pen",4:"mouse"};Sa.prototype.h=function(){Sa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Aa="closure_listenable_"+(1e6*Math.random()|0),dP=0;function hP(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++dP,this.da=this.fa=!1}function nl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rl(c){this.src=c,this.g={},this.h=0}rl.prototype.add=function(c,d,f,m,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=Dp(c,d,m,C);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new hP(d,this.src,A,!!m,C),d.fa=f,c.push(d)),d};function Ip(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(m,C,1),A&&(nl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Dp(c,d,f,m){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return C}return-1}var Cp="closure_lm_"+(1e6*Math.random()|0),Tp={};function ZE(c,d,f,m,C){if(m&&m.once)return tI(c,d,f,m,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)ZE(c,d[A],f,m,C);return null}return f=Mp(f),c&&c[Aa]?c.K(d,f,l(m)?!!m.capture:!!m,C):eI(c,d,f,!1,m,C)}function eI(c,d,f,m,C,A){if(!d)throw Error("Invalid event type");var O=l(C)?!!C.capture:!!C,Re=Ap(c);if(Re||(c[Cp]=Re=new rl(c)),f=Re.add(d,f,m,O,A),f.proxy)return f;if(m=fP(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)uP||(C=O),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(rI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function fP(){function c(f){return d.call(c.src,c.listener,f)}let d=pP;return c}function tI(c,d,f,m,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)tI(c,d[A],f,m,C);return null}return f=Mp(f),c&&c[Aa]?c.L(d,f,l(m)?!!m.capture:!!m,C):eI(c,d,f,!0,m,C)}function nI(c,d,f,m,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)nI(c,d[A],f,m,C);else m=l(m)?!!m.capture:!!m,f=Mp(f),c&&c[Aa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Dp(A,f,m,C),-1<f&&(nl(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Ap(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Dp(d,f,m,C)),(f=-1<c?d[c]:null)&&Sp(f))}function Sp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Aa])Ip(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(rI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Ap(d))?(Ip(f,c),f.h==0&&(f.src=null,d[Cp]=null)):nl(c)}}}function rI(c){return c in Tp?Tp[c]:Tp[c]="on"+c}function pP(c,d){if(c.da)c=!0;else{d=new Sa(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Sp(c),c=f.call(m,d)}return c}function Ap(c){return c=c[Cp],c instanceof rl?c:null}var xp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mp(c){return typeof c=="function"?c:(c[xp]||(c[xp]=function(d){return c.handleEvent(d)}),c[xp])}function wt(){Nr.call(this),this.i=new rl(this),this.M=this,this.F=null}S(wt,Nr),wt.prototype[Aa]=!0,wt.prototype.removeEventListener=function(c,d,f,m){nI(this,c,d,f,m)};function xt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new bt(d,c);else if(d instanceof bt)d.target=d.target||c;else{var C=d;d=new bt(m,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];C=il(O,m,!0,d)&&C}if(O=d.g=c,C=il(O,m,!0,d)&&C,C=il(O,m,!1,d)&&C,f)for(A=0;A<f.length;A++)O=d.g=f[A],C=il(O,m,!1,d)&&C}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)nl(f[m]);delete c.g[d],c.h--}}this.F=null},wt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},wt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function il(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var Re=O.listener,lt=O.ha||O.src;O.fa&&Ip(c.i,O),C=Re.call(lt,m)!==!1&&C}}return C&&!m.defaultPrevented}function iI(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function sI(c){c.g=iI(()=>{c.g=null,c.i&&(c.i=!1,sI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class mP extends Nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:sI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xa(c){Nr.call(this),this.h=c,this.g={}}S(xa,Nr);var oI=[];function aI(c){Se(c.g,function(d,f){this.g.hasOwnProperty(f)&&Sp(d)},c),c.g={}}xa.prototype.N=function(){xa.aa.N.call(this),aI(this)},xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Np=a.JSON.stringify,gP=a.JSON.parse,yP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Rp(){}Rp.prototype.h=null;function cI(c){return c.h||(c.h=c.i())}function uI(){}var Ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pp(){bt.call(this,"d")}S(Pp,bt);function kp(){bt.call(this,"c")}S(kp,bt);var bi={},lI=null;function sl(){return lI=lI||new wt}bi.La="serverreachability";function dI(c){bt.call(this,bi.La,c)}S(dI,bt);function Na(c){let d=sl();xt(d,new dI(d))}bi.STAT_EVENT="statevent";function hI(c,d){bt.call(this,bi.STAT_EVENT,c),this.stat=d}S(hI,bt);function Mt(c){let d=sl();xt(d,new hI(d,c))}bi.Ma="timingevent";function fI(c,d){bt.call(this,bi.Ma,c),this.size=d}S(fI,bt);function Ra(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Pa(){this.g=!0}Pa.prototype.xa=function(){this.g=!1};function vP(c,d,f,m,C,A){c.info(function(){if(c.g)if(A)for(var O="",Re=A.split("&"),lt=0;lt<Re.length;lt++){var De=Re[lt].split("=");if(1<De.length){var _t=De[0];De=De[1];var Et=_t.split("_");O=2<=Et.length&&Et[1]=="type"?O+(_t+"="+De+"&"):O+(_t+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+O})}function bP(c,d,f,m,C,A,O){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+O})}function Os(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+_P(c,f)+(m?" "+m:"")})}function wP(c,d){c.info(function(){return"TIMEOUT: "+d})}Pa.prototype.info=function(){};function _P(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<C.length;O++)C[O]=""}}}}return Np(f)}catch{return d}}var ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Op;function al(){}S(al,Rp),al.prototype.g=function(){return new XMLHttpRequest},al.prototype.i=function(){return{}},Op=new al;function Rr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new xa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mI}function mI(){this.i=null,this.g="",this.h=!1}var gI={},Lp={};function Fp(c,d,f){c.L=1,c.v=dl(tr(d)),c.m=f,c.P=!0,yI(c,null)}function yI(c,d){c.F=Date.now(),cl(c),c.A=tr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),NI(f.i,"t",m),c.C=0,f=c.j.J,c.h=new mI,c.g=QI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new mP(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(oI[0]=C.toString()),C=oI);for(var A=0;A<C.length;A++){var O=ZE(f,C[A],m||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Na(),vP(c.i,c.u,c.A,c.l,c.R,c.m)}Rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&nr(c)==3?d.j():this.Y(c)},Rr.prototype.Y=function(c){try{if(c==this.g)e:{let Et=nr(this.g);var d=this.g.Ba();let Vs=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||VI(this.g)))){this.J||Et!=4||d==7||(d==8||0>=Vs?Na(3):Na(2)),Vp(this);var f=this.g.Z();this.X=f;t:if(vI(this)){var m=VI(this.g);c="";var C=m.length,A=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),ka(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,bP(this.i,this.u,this.A,this.l,this.R,Et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,lt=this.g;if((Re=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Re)){var De=Re;break t}}De=null}if(f=De)Os(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jp(this,f);else{this.o=!1,this.s=3,Mt(12),wi(this),ka(this);break e}}if(this.P){f=!0;let mn;for(;!this.J&&this.C<O.length;)if(mn=EP(this,O),mn==Lp){Et==4&&(this.s=4,Mt(14),f=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==gI){this.s=4,Mt(15),Os(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Os(this.i,this.l,mn,null),jp(this,mn);if(vI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||O.length!=0||this.h.h||(this.s=1,Mt(16),f=!1),this.o=this.o&&f,!f)Os(this.i,this.l,O,"[Invalid Chunked Response]"),wi(this),ka(this);else if(0<O.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Hp(_t),_t.M=!0,Mt(11))}}else Os(this.i,this.l,O,null),jp(this,O);Et==4&&wi(this),this.o&&!this.J&&(Et==4?HI(this.j,this):(this.o=!1,cl(this)))}else jP(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),wi(this),ka(this)}}}catch{}finally{}};function vI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function EP(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Lp:(f=Number(d.substring(f,m)),isNaN(f)?gI:(m+=1,m+f>d.length?Lp:(d=d.slice(m,m+f),c.C=m+f,d)))}Rr.prototype.cancel=function(){this.J=!0,wi(this)};function cl(c){c.S=Date.now()+c.I,bI(c,c.I)}function bI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ra(g(c.ba,c),d)}function Vp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(wP(this.i,this.A),this.L!=2&&(Na(),Mt(17)),wi(this),this.s=2,ka(this)):bI(this,this.S-c)};function ka(c){c.j.G==0||c.J||HI(c.j,c)}function wi(c){Vp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,aI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function jp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||qp(f.h,c))){if(!c.K&&qp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)gl(f),pl(f);else break e;$p(f),Mt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ra(g(f.Za,f),6e3));if(1>=EI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ei(f,11)}else if((c.K||f.g==c)&&gl(f),!te(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let De=C[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let _t=De[3];_t!=null&&(f.la=_t,f.j.info("VER="+f.la));let Et=De[4];Et!=null&&(f.Aa=Et,f.j.info("SVER="+f.Aa));let Vs=De[5];Vs!=null&&typeof Vs=="number"&&0<Vs&&(m=1.5*Vs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let mn=c.g;if(mn){let vl=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var A=m.h;A.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Up(A,A.h),A.h=null))}if(m.D){let Gp=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gp&&(m.ya=Gp,Le(m.I,m.D,Gp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var O=c;if(m.qa=KI(m,m.J?m.ia:null,m.W),O.K){II(m.h,O);var Re=O,lt=m.L;lt&&(Re.I=lt),Re.B&&(Vp(Re),cl(Re)),m.g=O}else zI(m);0<f.i.length&&ml(f)}else De[0]!="stop"&&De[0]!="close"||Ei(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Ei(f,7):zp(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}Na(4)}catch{}}var IP=class{constructor(c,d){this.g=c,this.map=d}};function wI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _I(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function EI(c){return c.h?1:c.g?c.g.size:0}function qp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Up(c,d){c.g?c.g.add(d):c.h=d}function II(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}wI.prototype.cancel=function(){if(this.i=DI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function DI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function DP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function CP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function CI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=CP(c),m=DP(c),C=m.length,A=0;A<C;A++)d.call(void 0,m[A],f&&f[A],c)}var TI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var A=c[f].substring(0,m);C=c[f].substring(m+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function _i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _i){this.h=c.h,ul(this,c.j),this.o=c.o,this.g=c.g,ll(this,c.s),this.l=c.l;var d=c.i,f=new Fa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),SI(this,f),this.m=c.m}else c&&(d=String(c).match(TI))?(this.h=!1,ul(this,d[1]||"",!0),this.o=Oa(d[2]||""),this.g=Oa(d[3]||"",!0),ll(this,d[4]),this.l=Oa(d[5]||"",!0),SI(this,d[6]||"",!0),this.m=Oa(d[7]||"")):(this.h=!1,this.i=new Fa(null,this.h))}_i.prototype.toString=function(){var c=[],d=this.j;d&&c.push(La(d,AI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(La(d,AI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(La(f,f.charAt(0)=="/"?xP:AP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",La(f,NP)),c.join("")};function tr(c){return new _i(c)}function ul(c,d,f){c.j=f?Oa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ll(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function SI(c,d,f){d instanceof Fa?(c.i=d,RP(c.i,c.h)):(f||(d=La(d,MP)),c.i=new Fa(d,c.h))}function Le(c,d,f){c.i.set(d,f)}function dl(c){return Le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function La(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,SP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function SP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var AI=/[#\/\?@]/g,AP=/[#\?:]/g,xP=/[#\?]/g,MP=/[#\?@]/g,NP=/#/g;function Fa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Pr(c){c.g||(c.g=new Map,c.h=0,c.i&&TP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Fa.prototype,t.add=function(c,d){Pr(this),this.i=null,c=Ls(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function xI(c,d){Pr(c),d=Ls(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function MI(c,d){return Pr(c),d=Ls(c,d),c.g.has(d)}t.forEach=function(c,d){Pr(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},t.na=function(){Pr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let A=0;A<C.length;A++)f.push(d[m])}return f},t.V=function(c){Pr(this);let d=[];if(typeof c=="string")MI(this,c)&&(d=d.concat(this.g.get(Ls(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Pr(this),this.i=null,c=Ls(this,c),MI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function NI(c,d,f){xI(c,d),0<f.length&&(c.i=null,c.g.set(Ls(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var C=A;O[m]!==""&&(C+="="+encodeURIComponent(String(O[m]))),c.push(C)}}return this.i=c.join("&")};function Ls(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function RP(c,d){d&&!c.j&&(Pr(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(xI(this,m),NI(this,C,f))},c)),c.j=d}function PP(c,d){let f=new Pa;if(a.Image){let m=new Image;m.onload=v(kr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(kr,f,"TestLoadImage: error",!1,d,m),m.onabort=v(kr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(kr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function kP(c,d){let f=new Pa,m=new AbortController,C=setTimeout(()=>{m.abort(),kr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(C),A.ok?kr(f,"TestPingServer: ok",!0,d):kr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),kr(f,"TestPingServer: error",!1,d)})}function kr(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function OP(){this.g=new yP}function LP(c,d,f){let m=f||"";try{CI(c,function(C,A){let O=C;l(C)&&(O=Np(C)),d.push(m+A+"="+encodeURIComponent(O))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function Va(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Va,Rp),Va.prototype.g=function(){return new hl(this.l,this.j)},Va.prototype.i=function(c){return function(){return c}}({});function hl(c,d){wt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(hl,wt),t=hl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,qa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;RI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function RI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ja(this):qa(this),this.readyState==3&&RI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ja(this))},t.Qa=function(c){this.g&&(this.response=c,ja(this))},t.ga=function(){this.g&&ja(this)};function ja(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function qa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function PI(c){let d="";return Se(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Bp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=PI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Le(c,d,f))}function ze(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ze,wt);var FP=/^https?$/i,VP=["POST","PUT"];t=ze.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Op.g(),this.v=this.o?cI(this.o):cI(Op),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){kI(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(VP,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){kI(this,A)}};function kI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,OI(c),fl(c)}function OI(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),fl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fl(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?LI(this):this.bb())},t.bb=function(){LI(this)};function LI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||nr(c)!=4||c.Z()!=2)){if(c.u&&nr(c)==4)iI(c.Ea,0,c);else if(xt(c,"readystatechange"),nr(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=O===0){var C=String(c.D).match(TI)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!FP.test(C?C.toLowerCase():"")}f=m}if(f)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var A=2<nr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",OI(c)}}finally{fl(c)}}}}function fl(c,d){if(c.g){FI(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||xt(c,"ready");try{f.onreadystatechange=m}catch{}}}function FI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function nr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),gP(d)}};function VI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jP(c){let d={};c=(c.g&&2<=nr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(te(c[m]))continue;var f=D(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}I(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function jI(c){this.Aa=0,this.i=[],this.j=new Pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,c),this.cb=Ua("retryDelaySeedMs",1e4,c),this.Wa=Ua("forwardChannelMaxRetries",2,c),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wI(c&&c.concurrentRequestLimit),this.Da=new OP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Mt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=KI(this,null,this.W),ml(this)};function zp(c){if(qI(c),c.G==3){var d=c.U++,f=tr(c.I);if(Le(f,"SID",c.K),Le(f,"RID",d),Le(f,"TYPE","terminate"),Ba(c,f),d=new Rr(c,c.j,d),d.L=2,d.v=dl(tr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=QI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cl(d)}WI(c)}function pl(c){c.g&&(Hp(c),c.g.cancel(),c.g=null)}function qI(c){pl(c),c.u&&(a.clearTimeout(c.u),c.u=null),gl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ml(c){if(!_I(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ca||XE(),Ta||(Ca(),Ta=!0),Ep.add(d,c),c.B=0}}function qP(c,d){return EI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ra(g(c.Ga,c,d),GI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Rr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=BI(this,C,d),f=tr(this.I),Le(f,"RID",c),Le(f,"CVER",22),this.D&&Le(f,"X-HTTP-Session-Id",this.D),Ba(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(PI(A)))+"&"+d:this.m&&Bp(f,this.m,A)),Up(this.h,C),this.Ua&&Le(f,"TYPE","init"),this.P?(Le(f,"$req",d),Le(f,"SID","null"),C.T=!0,Fp(C,f,null)):Fp(C,f,d),this.G=2}}else this.G==3&&(c?UI(this,c):this.i.length==0||_I(this.h)||UI(this))};function UI(c,d){var f;d?f=d.l:f=c.U++;let m=tr(c.I);Le(m,"SID",c.K),Le(m,"RID",f),Le(m,"AID",c.T),Ba(c,m),c.m&&c.o&&Bp(m,c.m,c.o),f=new Rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=BI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Up(c.h,f),Fp(f,m,d)}function Ba(c,d){c.H&&Se(c.H,function(f,m){Le(d,m,f)}),c.l&&CI({},function(f,m){Le(d,m,f)})}function BI(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=C[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let Re=!0;for(let lt=0;lt<f;lt++){let De=C[lt].g,_t=C[lt].map;if(De-=A,0>De)A=Math.max(0,C[lt].g-100),Re=!1;else try{LP(_t,O,"req"+De+"_")}catch{m&&m(_t)}}if(Re){m=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function zI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ca||XE(),Ta||(Ca(),Ta=!0),Ep.add(d,c),c.v=0}}function $p(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ra(g(c.Fa,c),GI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,$I(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ra(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),pl(this),$I(this))};function Hp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $I(c){c.g=new Rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=tr(c.qa);Le(d,"RID","rpc"),Le(d,"SID",c.K),Le(d,"AID",c.T),Le(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Le(d,"TO",c.ja),Le(d,"TYPE","xmlhttp"),Ba(c,d),c.m&&c.o&&Bp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=dl(tr(d)),f.m=null,f.P=!0,yI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,pl(this),$p(this),Mt(19))};function gl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function HI(c,d){var f=null;if(c.g==d){gl(c),Hp(c),c.g=null;var m=2}else if(qp(c.h,d))f=d.D,II(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=sl(),xt(m,new fI(m,f)),ml(c)}else zI(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&qP(c,d)||m==2&&$p(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function GI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ei(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new _i(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ul(m,"https"),dl(m),C?PP(m.toString(),f):kP(m.toString(),f)}else Mt(2);c.G=0,c.l&&c.l.sa(d),WI(c),qI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function WI(c){if(c.G=0,c.ka=[],c.l){let d=DI(c.h);(d.length!=0||c.i.length!=0)&&(k(c.ka,d),k(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function KI(c,d,f){var m=f instanceof _i?tr(f):new _i(f);if(m.g!="")d&&(m.g=d+"."+m.g),ll(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new _i(null);m&&ul(A,m),d&&(A.g=d),C&&ll(A,C),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Le(m,f,d),Le(m,"VER",c.la),Ba(c,m),m}function QI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ze(new Va({eb:f})):new ze(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function YI(){}t=YI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yl(){}yl.prototype.g=function(c,d){return new Kt(c,d)};function Kt(c,d){wt.call(this),this.g=new jI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!te(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!te(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Fs(this)}S(Kt,wt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){zp(this.g)},Kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Np(c),c=f);d.i.push(new IP(d.Ya++,c)),d.G==3&&ml(d)},Kt.prototype.N=function(){this.g.l=null,delete this.j,zp(this.g),delete this.g,Kt.aa.N.call(this)};function JI(c){Pp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(JI,Pp);function XI(){kp.call(this),this.status=1}S(XI,kp);function Fs(c){this.g=c}S(Fs,YI),Fs.prototype.ua=function(){xt(this.g,"a")},Fs.prototype.ta=function(c){xt(this.g,new JI(c))},Fs.prototype.sa=function(c){xt(this.g,new XI)},Fs.prototype.ra=function(){xt(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,VR=Mr.createWebChannelTransport=function(){return new yl},FR=Mr.getStatEventTarget=function(){return sl()},LR=Mr.Event=bi,OR=Mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ol.NO_ERROR=0,ol.TIMEOUT=8,ol.HTTP_ERROR=6,kR=Mr.ErrorCode=ol,pI.COMPLETE="complete",PR=Mr.EventType=pI,uI.EventType=Ma,Ma.OPEN="a",Ma.CLOSE="b",Ma.ERROR="c",Ma.MESSAGE="d",wt.prototype.listen=wt.prototype.K,RR=Mr.WebChannel=uI,_G=Mr.FetchXmlHttpFactory=Va,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,NR=Mr.XhrIo=ze}).apply(typeof ip<"u"?ip:typeof self<"u"?self:typeof window<"u"?window:{});var jR="@firebase/firestore";var yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");var Wu="10.14.0";var ma=new ti("@firebase/firestore");function An(t,...e){if(ma.logLevel<=Ce.DEBUG){let n=e.map(jE);ma.debug(`Firestore (${Wu}): ${t}`,...n)}}function $R(t,...e){if(ma.logLevel<=Ce.ERROR){let n=e.map(jE);ma.error(`Firestore (${Wu}): ${t}`,...n)}}function EG(t,...e){if(ma.logLevel<=Ce.WARN){let n=e.map(jE);ma.warn(`Firestore (${Wu}): ${t}`,...n)}}function jE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Wt(t="Unexpected state"){let e=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: `+t;throw $R(e),new Error(e)}function Ms(t,e){t||Wt()}var qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vt=class extends en{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ns=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var sp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},CE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}},TE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},SE=class{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ms(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ns,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{An("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(An("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ns)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(An("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ms(typeof r.accessToken=="string"),new sp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ms(e===null||typeof e=="string"),new yt(e)}},AE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},xE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new AE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ME=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},NE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ms(this.o===void 0);let r=s=>{s.error!=null&&An("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,An("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{An("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):An("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ms(typeof n.token=="string"),this.R=n.token,new ME(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function HR(t,e){return t<e?-1:t>e?1:0}var RE=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Wt(),r===void 0?r=e.length-n:r>e.length-n&&Wt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},gi=class t extends RE{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new vt(qt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Rs=class t{constructor(e){this.path=e}static fromPath(e){return new t(gi.fromString(e))}static fromName(e){return new t(gi.fromString(e).popFirst(5))}static empty(){return new t(gi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new gi(e.slice()))}};var PE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};PE.UNKNOWN_ID=-1;function IG(t){return t.name==="IndexedDbTransactionError"}function DG(t){return t===0&&1/t==-1/0}var CG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kZ=[...CG,"documentOverlays"],TG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SG=TG,AG=[...SG,"indexConfiguration","indexState","indexEntries"];var OZ=[...AG,"globals"];var ga=class t{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pa(this.root,e,this.comparator,!0)}},pa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();let e=this.left.check();if(e!==this.right.check())throw Wt();return e+(this.isRed()?0:1)}};Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var op=class t{constructor(e){this.comparator=e,this.data=new ga(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ap(this.data.getIterator())}getIteratorFrom(e){return new ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ap=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kE=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ya=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kE("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return HR(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ya.EMPTY_BYTE_STRING=new ya("");var xG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function MG(t){if(Ms(!!t),typeof t=="string"){let e=0,n=xG.exec(t);if(Ms(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gu(t.seconds),nanos:Gu(t.nanos)}}function Gu(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function NG(t){return typeof t=="string"?ya.fromBase64String(t):ya.fromUint8Array(t)}var OE=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function RG(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function PG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var FZ=new ga(Rs.comparator);var VZ=new ga(Rs.comparator);var jZ=new ga(Rs.comparator),qZ=new op(Rs.comparator);var UZ=new op(HR);var qR,we;(we=qR||(qR={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";var BZ=new IE([4294967295,4294967295],0);var cp=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Gu(e.integerValue));else if("doubleValue"in e){let r=Gu(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),DG(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=MG(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(NG(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?PG(e)?this.dt(n,Number.MAX_SAFE_INTEGER):RG(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Wt()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Gu(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Rs.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};cp.vt=new cp;var zZ=new Uint8Array(0);var Xn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(41943040,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);function DE(){return typeof document<"u"?document:null}var LE=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&An("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var FE=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(qt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var UR,BR;(BR=UR||(UR={})).ea="default",BR.Cache="cache";function kG(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var zR=new Map;function OG(t,e,n,r){if(e===!0&&r===!0)throw new vt(qt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LG(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Wt()}function FG(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new vt(qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=LG(t);throw new vt(qt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var up=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new vt(qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new vt(qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kG((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new vt(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new vt(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new vt(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},lp=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new up({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new vt(qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new up(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CE;switch(r.type){case"firstParty":return new xE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=zR.get(n);r&&(An("ComponentProvider","Removing Datastore"),zR.delete(n),r.terminate())}(this),Promise.resolve()}};function GR(t,e,n,r={}){var i;let s=(t=FG(t,lp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&EG("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=yt.MOCK_USER;else{a=XS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new vt(qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new yt(l)}t._authCredentials=new TE(new sp(a,u))}}var dp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new LE(this,"async_queue_retry"),this.Vu=()=>{let r=DE();r&&An("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=DE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=DE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Ns;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!IG(e))throw e;An("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $R("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=FE.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Wt()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var VE=class extends lp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new dp(e),this._firestoreClient=void 0,yield e}})}};function WR(t,e){let n=typeof t=="object"?t:Po(),r=typeof t=="string"?t:e||"(default)",i=Bc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=JS("firestore");s&&GR(i,...s)}return i}var $Z=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){Wu=i})(ii),ri(new dn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new VE(new SE(r.getProvider("auth-internal")),new NE(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new vt(qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new OE(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),st(jR,"4.7.3",e),st(jR,"4.7.3","esm2017")})();var Ps=class{constructor(e){return e}},KR="firestore",qE=class{constructor(){return zc(KR)}};var UE=new K("angularfire2.firestore-instances");function VG(t,e){let n=Eh(KR,t,e);return n&&new Ps(n)}function jG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ps(r)}}var qG={provide:qE,deps:[[new Ot,UE]]},UG={provide:Ps,useFactory:VG,deps:[[new Ot,UE],wr]};function QR(t,...e){return st("angularfire",ss.full,"fst"),Ln([UG,qG,{provide:UE,useFactory:jG(t),multi:!0,deps:[Ne,zt,Lo,os,[new Ot,eu],[new Ot,Oo],...e]}])}var YR=Fo(WR,!0);var JR={apiKey:"AIzaSyALSTD9AlT1VRV4W07XRPsCzK-24D5cwz4",authDomain:"game-99114.firebaseapp.com",projectId:"game-99114",storageBucket:"game-99114.firebasestorage.app",messagingSenderId:"842877933170",appId:"1:842877933170:web:8be30eb79f45c1fd9f94eb",measurementId:"G-KDHVKXR1LF"};var va=(()=>{let e=class e{constructor(){}hideDetails(r){r.currentTarget.querySelector(".ocultar").classList.toggle("mostrar")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,selectors:[["","appHideDetails",""]],hostBindings:function(i,s){i&1&&J("click",function(a){return s.hideDetails(a)})},standalone:!0});let t=e;return t})();var XR=[{nombre:"El Mercado Sombr\xEDo",historia:"En el coraz\xF3n del pueblo se encuentra el mercado, un lugar bullicioso donde los comerciantes venden sus productos. Sin embargo, se dice que tras la ca\xEDda de la noche, figuras misteriosas aparecen entre los puestos y suceden cosas extra\xF1as.",descripcion:"El mercado est\xE1 lleno de vida durante el d\xEDa, con puestos de colores y el murmullo constante de los comerciantes. Sin embargo, al caer la noche, la atm\xF3sfera se vuelve inquietante, y las sombras parecen moverse por s\xED solas.",evento1:"Un comerciante de especias descubre que todos sus frascos han sido movidos durante la noche, sin explicaci\xF3n alguna.",evento2:"Una figura encapuchada es vista merodeando por el mercado, desapareciendo entre los puestos antes de que alguien pueda acercarse.",noticia:"Una serie de robos misteriosos ha dejado a varios comerciantes sin sus productos, y nadie ha visto al culpable.",visitante:{descripcion:"El forastero, Gareth, un hombre de apariencia discreta y una mirada penetrante.",personalidad:"Es reservado y observador, conocido por su habilidad para notar detalles que otros pasan por alto.",motivo:"Busca descubrir qui\xE9n est\xE1 detr\xE1s de los robos y resolver el misterio que rodea al mercado."},habitante:{descripcion:"El comerciante de antig\xFCedades, Lorcan, un hombre mayor con una colecci\xF3n de objetos extra\xF1os.",personalidad:"Es exc\xE9ntrico y enigm\xE1tico, siempre dispuesto a contar historias sobre los objetos que vende.",motivo:"Conoce los secretos del mercado y tiene informaci\xF3n sobre las figuras misteriosas que aparecen durante la noche."}},{nombre:"La Plaza Encantada",historia:"La plaza central es el punto de reuni\xF3n del pueblo, donde se celebran ferias y eventos. Sin embargo, los habitantes han comenzado a notar fen\xF3menos extra\xF1os, especialmente durante las noches de luna llena.",descripcion:"Durante el d\xEDa, la plaza est\xE1 llena de vida, con ni\xF1os jugando y ancianos contando historias. Pero por la noche, la plaza parece envuelta en una niebla espesa, y los sonidos se vuelven inquietantes.",evento1:"Un banco de niebla cubre repentinamente la plaza, y las figuras que antes eran claras se vuelven sombras indistintas.",evento2:"Una serie de luces misteriosas son vistas flotando en el aire, movi\xE9ndose de manera err\xE1tica antes de desaparecer.",noticia:"Un ni\xF1o ha desaparecido en la plaza durante una noche de luna llena, y todos en el pueblo est\xE1n en vilo buscando respuestas.",visitante:{descripcion:"La hechicera, Morgana, una mujer de cabello largo y oscuro y ojos que parecen ver m\xE1s all\xE1 del presente.",personalidad:"Es misteriosa y sabia, conocida por su conocimiento de lo sobrenatural y su habilidad para percibir lo invisible.",motivo:"Busca investigar los fen\xF3menos extra\xF1os y descubrir el destino del ni\xF1o desaparecido."},habitante:{descripcion:"El alcalde, Cedric, un hombre de mediana edad con una postura autoritaria.",personalidad:"Es decidido y protector, siempre buscando mantener el orden y la seguridad en el pueblo.",motivo:"Desea resolver los misterios de la plaza y asegurar que los eventos extra\xF1os no amenacen la tranquilidad del pueblo."}},{nombre:"El Mercado de las Luces",historia:"Cada anochecer, el mercado se ilumina con cientos de linternas, creando un ambiente m\xE1gico. Sin embargo, los comerciantes han comenzado a hablar de sombras que se mueven entre las luces y susurros ininteligibles en el aire.",descripcion:"Las linternas llenan el mercado de una luz c\xE1lida y acogedora, pero en las sombras, algo inquietante parece acechar. El aire est\xE1 lleno de murmullos y la sensaci\xF3n de ser observado es constante.",evento1:"Una linterna cae y se apaga misteriosamente, dejando una secci\xF3n del mercado en la oscuridad total.",evento2:"Un grupo de comerciantes descubre marcas extra\xF1as en sus puestos, como si alguien hubiera estado buscando algo.",noticia:"Un objeto valioso ha desaparecido de uno de los puestos, y se teme que algo m\xE1s que un simple ladr\xF3n est\xE9 detr\xE1s de esto.",visitante:{descripcion:"El viajero, Finn, un hombre joven con una mochila llena de herramientas y artefactos.",personalidad:"Es curioso e ingenioso, siempre buscando resolver enigmas y descubrir secretos.",motivo:"Busca encontrar el objeto desaparecido y desentra\xF1ar el misterio de las sombras y los susurros."},habitante:{descripcion:"La comerciante de linternas, Elara, una mujer de mediana edad con una expresi\xF3n siempre vigilante.",personalidad:"Es cuidadosa y perspicaz, conocida por su habilidad para detectar cualquier cosa fuera de lo com\xFAn.",motivo:"Sospecha que hay algo m\xE1s en el mercado de lo que parece, y est\xE1 decidida a proteger a los dem\xE1s comerciantes."}},{nombre:"La Plaza de los Ecos",historia:"La plaza es conocida por su eco peculiar, que a menudo devuelve sonidos de manera extra\xF1a. \xDAltimamente, los ecos han comenzado a reproducir susurros y voces que nadie reconoce, creando una atm\xF3sfera de misterio y temor.",descripcion:"La plaza est\xE1 rodeada de edificios antiguos y una fuente en el centro. Durante el d\xEDa, el lugar es animado, pero al atardecer, los ecos de conversaciones pasadas parecen llenar el aire.",evento1:"Una serie de susurros incomprensibles comienzan a resonar en la plaza, asustando a los transe\xFAntes.",evento2:"Una sombra sin due\xF1o es vista movi\xE9ndose junto a la fuente, desapareciendo tan r\xE1pido como aparece.",noticia:"Se ha encontrado una inscripci\xF3n antigua en la fuente de la plaza, y los estudiosos est\xE1n intentando descifrar su significado.",visitante:{descripcion:"El arque\xF3logo, Draven, un hombre de mediana edad con una barba poblada y ropas de viaje.",personalidad:"Es erudito y meticuloso, conocido por su pasi\xF3n por la historia y su habilidad para descubrir secretos antiguos.",motivo:"Busca descifrar la inscripci\xF3n y entender el origen de los extra\xF1os ecos."},habitante:{descripcion:"El herrero, Thorne, un hombre robusto con cicatrices de quemaduras en sus brazos.",personalidad:"Es pragm\xE1tico y trabajador, conocido por su habilidad para crear herramientas y armas.",motivo:"Ha comenzado a preocuparse por los ecos y busca proteger a su familia y a sus vecinos de cualquier peligro que puedan representar."}},{nombre:"El Mercado del Crep\xFAsculo",historia:"Al caer la tarde, el mercado se transforma en un lugar de sombras y luces tenues. Los rumores de apariciones y encuentros extra\xF1os se han vuelto comunes entre los comerciantes y los visitantes.",descripcion:"El mercado est\xE1 lleno de sombras alargadas y luces parpadeantes. Los puestos est\xE1n llenos de productos, pero la atm\xF3sfera es tensa, y el aire parece estar cargado de una energ\xEDa inexplicable.",evento1:"Una figura oscura es vista movi\xE9ndose entre los puestos, desapareciendo antes de que alguien pueda identificarla.",evento2:"Una serie de susurros en un idioma desconocido llena el aire, y los comerciantes comienzan a sentir un miedo inexplicable.",noticia:"Un comerciante ha encontrado un objeto extra\xF1o en su puesto, y nadie sabe de d\xF3nde ha venido ni qu\xE9 significa.",visitante:{descripcion:"El mercader errante, Elias, un hombre con ropas ex\xF3ticas y una bolsa llena de objetos curiosos.",personalidad:"Es carism\xE1tico y misterioso, conocido por su habilidad para encontrar cosas raras y su conocimiento de lo oculto.",motivo:"Busca descubrir el origen del objeto extra\xF1o y entender los fen\xF3menos que ocurren en el mercado."},habitante:{descripcion:"La panadera, Hilda, una mujer robusta con una sonrisa amable y manos siempre cubiertas de harina.",personalidad:"Es amigable y generosa, conocida por su habilidad para hornear y su amor por la comunidad.",motivo:"Est\xE1 preocupada por los eventos extra\xF1os y quiere asegurar que el mercado siga siendo un lugar seguro para todos."}},{nombre:"La Plaza de las Sombras",historia:"La plaza central del pueblo ha sido testigo de numerosos eventos hist\xF3ricos. Sin embargo, \xFAltimamente, ha sido el centro de una serie de apariciones y fen\xF3menos inexplicables que han dejado a los habitantes desconcertados.",descripcion:"La plaza es espaciosa, con una fuente en el centro y bancos de madera alrededor. Durante el d\xEDa, est\xE1 llena de vida, pero en la noche, las sombras parecen cobrar vida propia.",evento1:"Una sombra sin due\xF1o aparece repetidamente en la misma esquina de la plaza, atrayendo la atenci\xF3n de todos.",evento2:"Los sonidos de pasos y risas inquietantes se escuchan durante la noche, sin que se vea a nadie.",noticia:"Un manuscrito antiguo ha sido encontrado bajo uno de los bancos de la plaza, y sus p\xE1ginas est\xE1n llenas de s\xEDmbolos extra\xF1os.",visitante:{descripcion:"El erudito, Osric, un hombre con gafas redondas y una bolsa llena de libros.",personalidad:"Es curioso e inteligente, siempre en busca de nuevo conocimiento y misterios por resolver.",motivo:"Busca descifrar el manuscrito y entender las apariciones en la plaza."},habitante:{descripcion:"El tabernero, Alden, un hombre corpulento con una risa f\xE1cil y una jarra siempre a la mano.",personalidad:"Es amigable y sociable, conocido por sus historias y su habilidad para escuchar.",motivo:"Quiere proteger a sus clientes y su negocio de cualquier peligro que puedan representar los fen\xF3menos extra\xF1os."}}];var ZR=[{nombre:"La Torre del Alquimista",historia:"Esta torre, situada a las afueras de la ciudad, fue construida por el renombrado alquimista Eldric hace siglos. Desde entonces, ha sido un lugar de experimentaci\xF3n y misterio. Se dice que Eldric desapareci\xF3 en su interior, dejando tras de s\xED secretos y f\xF3rmulas ocultas.",descripcion:"La torre es alta y estrecha, con paredes de piedra oscura cubiertas de enredaderas. El interior est\xE1 lleno de frascos y libros polvorientos, y el aire siempre huele a hierbas y qu\xEDmicos.",evento1:"Un extra\xF1o resplandor verde emana de la torre por las noches, iluminando el entorno con una luz fantasmag\xF3rica.",evento2:"Se escuchan explosiones y risas inquietantes desde el interior de la torre, aunque parece no haber nadie dentro.",noticia:"Un grupo de eruditos ha llegado a la torre, buscando desentra\xF1ar los secretos de las f\xF3rmulas alqu\xEDmicas de Eldric.",visitante:{descripcion:"El alquimista errante, Verian, un hombre joven con t\xFAnicas ra\xEDdas y ojos brillantes de curiosidad.",personalidad:"Es apasionado y obsesivo, conocido por su incesante b\xFAsqueda del conocimiento alqu\xEDmico.",motivo:"Busca continuar el trabajo de Eldric y descubrir la piedra filosofal, creyendo que la clave est\xE1 en alg\xFAn lugar de la torre."},habitante:{descripcion:"El guardi\xE1n de la torre, Harlan, un hombre anciano y encorvado con una barba larga y blanca.",personalidad:"Es misterioso y reservado, rara vez habla y parece conocer todos los secretos de la torre.",motivo:"Protege los secretos de Eldric y asegura que solo aquellos dignos puedan acceder a sus conocimientos."}},{nombre:"La Torre del Astr\xF3nomo",historia:"Erigida en una colina con vistas a la ciudad, la Torre del Astr\xF3nomo es un centro de observaci\xF3n estelar y estudios celestiales. El astr\xF3nomo Anselm, su \xFAltimo ocupante, desapareci\xF3 misteriosamente hace a\xF1os, y desde entonces, fen\xF3menos extra\xF1os han sido reportados.",descripcion:"La torre tiene grandes ventanas y un telescopio enorme en la parte superior. El interior est\xE1 lleno de mapas estelares y equipos de observaci\xF3n. La atm\xF3sfera es tranquila pero con un aire de abandono.",evento1:"Durante las noches claras, constelaciones desconocidas y luces errantes aparecen en el cielo, visibles solo desde la torre.",evento2:"Se escuchan murmullos y conversaciones en un idioma antiguo, como si los ecos del pasado llenaran el aire.",noticia:"Un cometa desconocido ha sido avistado desde la torre, y los astr\xF3nomos de todo el reino est\xE1n ansiosos por investigarlo.",visitante:{descripcion:"La astr\xF3noma, Selene, una mujer joven con cabello plateado y ojos que reflejan las estrellas.",personalidad:"Es perspicaz y apasionada, con una conexi\xF3n profunda con el cielo nocturno.",motivo:"Busca estudiar el cometa y descubrir los secretos que Anselm dej\xF3 atr\xE1s."},habitante:{descripcion:"El aprendiz de Anselm, Orion, un joven con una mirada perdida y una presencia et\xE9rea.",personalidad:"Es retra\xEDdo y enigm\xE1tico, siempre observando el cielo y susurrando a las estrellas.",motivo:"Cree que el esp\xEDritu de Anselm a\xFAn gu\xEDa a aquellos que buscan el conocimiento celestial."}},{nombre:"La Torre Abandonada",historia:"Situada en las afueras de la ciudad, la torre ha estado desierta por d\xE9cadas. Los lugare\xF1os evitan el lugar, afirmando que est\xE1 maldita y que aquellos que se aventuran dentro nunca regresan.",descripcion:"La torre est\xE1 en ruinas, con piedras ca\xEDdas y enredaderas cubriendo sus muros. El interior es oscuro y lleno de telara\xF1as, con un aire pesado y opresivo.",evento1:"Luces inexplicables brillan en las ventanas de la torre durante la noche, a pesar de que est\xE1 deshabitada.",evento2:"Se escuchan gritos y lamentos provenientes del interior, pero nadie ha sido capaz de encontrar el origen de los sonidos.",noticia:"Un grupo de exploradores ha decidido investigar la torre, en busca de tesoros ocultos y respuestas a los misterios que la rodean.",visitante:{descripcion:"El aventurero, Kieran, un hombre robusto con cicatrices de batallas y una expresi\xF3n decidida.",personalidad:"Es valiente y tenaz, dispuesto a enfrentar cualquier peligro para descubrir la verdad.",motivo:"Busca desentra\xF1ar los secretos de la torre y deshacerse de la maldici\xF3n que aterroriza a los lugare\xF1os."},habitante:{descripcion:"El esp\xEDritu, Eliza, una figura et\xE9rea con un vestido antiguo y ojos tristes.",personalidad:"Es melanc\xF3lica y enigm\xE1tica, atrapada entre el mundo de los vivos y los muertos.",motivo:"Anhela que alguien descubra la verdad de su tr\xE1gica historia y libere su alma de la torre."}},{nombre:"La Torre del Noble",historia:"Esta imponente torre pertenece a Lord Alaric, un noble conocido por su crueldad y riqueza. Los rumores dicen que lleva a cabo rituales oscuros y que aquellos que se oponen a \xE9l desaparecen misteriosamente.",descripcion:"La torre es majestuosa, con muros de piedra pulida y adornos dorados. El interior es lujoso pero fr\xEDo, con una atm\xF3sfera de opresi\xF3n y miedo.",evento1:"Se oyen c\xE1nticos oscuros y misteriosos que emanan del interior de la torre durante la noche.",evento2:"Las sombras de la torre parecen moverse de forma aut\xF3noma, siguiendo a los visitantes con ojos invisibles.",noticia:"Un sirviente de Lord Alaric ha huido y busca refugio en la ciudad, llevando consigo secretos oscuros.",visitante:{descripcion:"El esp\xEDa, Seraphine, una mujer con ropas oscuras y una expresi\xF3n alerta.",personalidad:"Es astuta y sigilosa, experta en infiltraci\xF3n y en descubrir secretos ocultos.",motivo:"Busca recopilar evidencia de los rituales oscuros de Lord Alaric para exponerlo y detener sus actos malvados."},habitante:{descripcion:"El sirviente, Tomas, un joven p\xE1lido y asustado.",personalidad:"Es t\xEDmido y nervioso, siempre mirando por encima del hombro.",motivo:"Huy\xF3 de la torre con informaci\xF3n crucial sobre los rituales de Lord Alaric, buscando ayuda para salvar su vida."}},{nombre:"La Torre del Sabio",historia:"En lo alto de una colina se encuentra la Torre del Sabio, hogar del erudito Thaddeus. Es un lugar de conocimiento y misterio, lleno de libros antiguos y artefactos extra\xF1os.",descripcion:"La torre es alta y robusta, construida con piedras blancas. El interior est\xE1 lleno de estanter\xEDas repletas de libros, mesas con manuscritos y objetos curiosos.",evento1:"Una luz azulada brilla desde la cima de la torre todas las noches, como si alguien estuviera realizando experimentos m\xE1gicos.",evento2:"Extra\xF1os susurros en lenguas antiguas llenan el aire, haciendo que los visitantes se sientan observados.",noticia:"Thaddeus ha descubierto un pergamino antiguo que podr\xEDa cambiar el curso de la historia, pero necesita ayuda para descifrarlo.",visitante:{descripcion:"La erudita, Elara, una mujer joven con ropas acad\xE9micas y un aire de determinaci\xF3n.",personalidad:"Es inteligente y meticulosa, con una pasi\xF3n por los textos antiguos y los misterios del pasado.",motivo:"Busca ayudar a Thaddeus a descifrar el pergamino y descubrir sus secretos."},habitante:{descripcion:"El sabio, Thaddeus, un hombre mayor con una barba larga y una mirada sabia.",personalidad:"Es amable y sabio, conocido por su vasto conocimiento y su disposici\xF3n a ense\xF1ar.",motivo:"Desea compartir su descubrimiento con el mundo, pero teme que caiga en las manos equivocadas."}},{nombre:"La Torre de la Botica",historia:"Esta torre, ubicada cerca del r\xEDo, es conocida por ser la botica de la curandera Rowan. Se rumorea que posee conocimientos antiguos sobre hierbas y remedios, as\xED como secretos oscuros.",descripcion:"La torre es baja y ancha, con ventanas peque\xF1as y un jard\xEDn de plantas medicinales alrededor. El interior est\xE1 lleno de frascos, hierbas secas y pociones.",evento1:"Un aroma extra\xF1o y embriagador emana de la torre cada noche, atrayendo a los curiosos.",evento2:"Las plantas del jard\xEDn parecen moverse por s\xED solas, como si tuvieran vida propia.",noticia:"Rowan ha creado una poci\xF3n milagrosa que podr\xEDa curar cualquier enfermedad, pero los ingredientes son dif\xEDciles de conseguir.",visitante:{descripcion:"El mercader, Roderick, un hombre con una sonrisa astuta y una bolsa llena de rarezas.",personalidad:"Es persuasivo y encantador, siempre en busca de oportunidades de negocio.",motivo:"Busca obtener la poci\xF3n milagrosa para venderla y hacerse rico."},habitante:{descripcion:"La curandera, Rowan, una mujer de mediana edad con cabello trenzado y ojos verdes.",personalidad:"Es sabia y reservada, conocida por su habilidad con las plantas y su conocimiento de remedios antiguos.",motivo:"Desea ayudar a los enfermos y proteger los secretos de su arte."}},{nombre:"La Torre del Hechicero",historia:"Situada en un bosque cercano, la Torre del Hechicero es hogar de Magnus, un poderoso mago. Se dice que realiza experimentos arcanos y que la torre est\xE1 protegida por hechizos poderosos.",descripcion:"La torre es alta y delgada, construida con piedras oscuras. El interior est\xE1 lleno de libros de hechizos, ingredientes m\xE1gicos y artefactos m\xEDsticos.",evento1:"Rayos de energ\xEDa m\xE1gica salen de la torre durante la noche, iluminando el cielo con colores brillantes.",evento2:"Voces incorp\xF3reas y cantos m\xE1gicos resuenan en el aire, creando una atm\xF3sfera de misterio.",noticia:"Magnus ha descubierto un hechizo antiguo que podr\xEDa cambiar el equilibrio de poder en el reino, y necesita aliados para llevar a cabo su plan.",visitante:{descripcion:"El aprendiz, Cedric, un joven con ropas sencillas y una mirada curiosa.",personalidad:"Es entusiasta y estudioso, deseoso de aprender todo lo que pueda sobre la magia.",motivo:"Busca convertirse en un mago poderoso y ayudar a Magnus en sus investigaciones."},habitante:{descripcion:"El hechicero, Magnus, un hombre mayor con una t\xFAnica larga y una barba blanca.",personalidad:"Es sabio y misterioso, conocido por su vasto conocimiento de las artes arcanas.",motivo:"Desea dominar el hechizo antiguo y utilizarlo para proteger el reino de futuras amenazas."}},{nombre:"La Torre de la Biblioteca",historia:"La Torre de la Biblioteca es un faro de conocimiento, hogar de innumerables manuscritos y textos antiguos. Los eruditos de todo el reino acuden aqu\xED para estudiar y descubrir los secretos del pasado.",descripcion:"La torre es imponente y robusta, con muros de piedra blanca y grandes ventanales. El interior est\xE1 lleno de estanter\xEDas repletas de libros, mesas de lectura y velas.",evento1:"Las p\xE1ginas de algunos libros se pasan solas, como si los esp\xEDritus del conocimiento quisieran compartir su sabidur\xEDa.",evento2:"Se escuchan susurros de conversaciones antiguas, como si los fantasmas de los eruditos del pasado a\xFAn debatieran en la torre.",noticia:"Un libro raro ha sido encontrado, y su contenido podr\xEDa revelar secretos perdidos hace mucho tiempo.",visitante:{descripcion:"El historiador, Alaric, un hombre con lentes redondos y una expresi\xF3n pensativa.",personalidad:"Es meticuloso y apasionado, dedicado a descubrir la verdad hist\xF3rica.",motivo:"Busca descifrar el libro raro y desenterrar los secretos que contiene."},habitante:{descripcion:"La bibliotecaria, Elspeth, una mujer mayor con una t\xFAnica sencilla y una mirada amable.",personalidad:"Es sabia y paciente, siempre dispuesta a ayudar a los buscadores de conocimiento.",motivo:"Desea preservar el conocimiento y asegurarse de que solo aquellos con buenas intenciones tengan acceso a los secretos de la torre."}},{nombre:"La Torre del Guerrero",historia:"Construida como fortaleza y hogar, la Torre del Guerrero pertenece al veterano caballero Sir Garrick. Se dice que en su interior guarda trofeos de batallas y recuerdos de antiguos conflictos.",descripcion:"La torre es robusta y fortificada, con muros gruesos y torres de vigilancia. El interior est\xE1 lleno de armas, armaduras y estandartes de guerra.",evento1:"Por las noches, se escuchan ecos de antiguas batallas, como si los fantasmas de los guerreros ca\xEDdos a\xFAn lucharan.",evento2:"Las armaduras expuestas a veces parecen moverse por s\xED solas, como si estuvieran pose\xEDdas por esp\xEDritus guerreros.",noticia:"Un antiguo enemigo de Sir Garrick ha regresado, y el caballero se prepara para una \xFAltima batalla.",visitante:{descripcion:"El escudero, Ewan, un joven con una expresi\xF3n decidida y una armadura ligera.",personalidad:"Es leal y valiente, siempre dispuesto a proteger a su maestro.",motivo:"Busca ayudar a Sir Garrick en su lucha contra el enemigo y demostrar su val\xEDa como guerrero."},habitante:{descripcion:"El caballero, Sir Garrick, un hombre mayor con cicatrices de guerra y una mirada severa.",personalidad:"Es valiente y honorable, conocido por su destreza en la batalla y su liderazgo.",motivo:"Desea proteger a la ciudad y a su gente de cualquier amenaza, utilizando su experiencia y habilidades de combate."}},{nombre:"La Torre del Cart\xF3grafo",historia:"Situada en un acantilado con vistas al mar, la Torre del Cart\xF3grafo es el hogar de Marius, un cart\xF3grafo famoso por sus mapas detallados y precisos. Se dice que ha viajado a tierras lejanas y ha documentado muchos misterios.",descripcion:"La torre es alta y esbelta, con grandes ventanas que ofrecen vistas panor\xE1micas. El interior est\xE1 lleno de mapas, pergaminos y herramientas de navegaci\xF3n.",evento1:"Los mapas de la torre a veces parecen cambiar y mostrar lugares desconocidos, como si estuvieran vivos.",evento2:"Se escuchan murmullos de olas y vientos lejanos, creando una atm\xF3sfera de exploraci\xF3n y aventura.",noticia:"Marius ha descubierto un mapa antiguo que podr\xEDa llevar a un tesoro perdido, y busca compa\xF1eros de viaje.",visitante:{descripcion:"El explorador, Lyra, una mujer con ropas de viaje y una expresi\xF3n aventurera.",personalidad:"Es valiente y curiosa, siempre en busca de nuevas tierras y descubrimientos.",motivo:"Desea unirse a Marius en su b\xFAsqueda del tesoro y explorar lugares desconocidos."},habitante:{descripcion:"El cart\xF3grafo, Marius, un hombre de mediana edad con una barba desali\xF1ada y ojos brillantes de curiosidad.",personalidad:"Es detallista y apasionado por los mapas y la navegaci\xF3n.",motivo:"Desea descubrir nuevos territorios y compartir su conocimiento con el mundo."}}];var e1=[{nombre:"Bas\xEDlica del Sagrado Coraz\xF3n",historia:"Fundado tras una serie de tr\xE1gicos eventos, los monjes que lo habitan dedican sus vidas a rezar por las almas perdidas. Cada rinc\xF3n del lugar parece guardar una memoria de dolor, y los cantos f\xFAnebres resuenan en sus muros, recordando constantemente los tiempos oscuros que dieron origen a este refugio espiritual.",descripcion:"La tristeza impregna cada rinc\xF3n del lugar. Los monjes caminan en silencio por los pasillos oscuros, y el viento que sopla a trav\xE9s de las ventanas rotas parece llevar consigo lamentos de \xE9pocas pasadas",evento1:"Un monje est\xE1 sentado en un banco del jard\xEDn, mirando melanc\xF3licamente las flores marchitas. No hay m\xE1s que tristeza en su rostro",evento2:"En la lejan\xEDa, se escuchan susurros ininteligibles que parecen provenir de las paredes del monasterio, creando una atm\xF3sfera inquietante.",noticia:"Un visitante misterioso llega al monasterio, buscando refugio y revelando una peligrosa misi\xF3n que necesita la ayuda de los monjes",visitante:{descripcion:"Sir Galahad es alto y fornido, con el cabello oscuro y ojos profundos que parecen ocultar secretos antiguos. Tiene marcas de batalla en su rostro, que contrastan con su expresi\xF3n serena y determinada.",personalidad:"Adem\xE1s, es una persona reservada y contemplativa, conocida por su honor y valent\xEDa. Sin embargo, su coraz\xF3n est\xE1 cansado de tanto conflicto y busca paz y redenci\xF3n espiritual en el monasterio.",motivo:"Busca un lugar de retiro espiritual para meditar y encontrar paz interior despu\xE9s de a\xF1os de tanta hostilidad. Ha o\xEDdo hablar de la serenidad del monasterio y desea encontrar un refugio tranquilo donde pueda reflexionar sobre su pasado y buscar redenci\xF3n en su alma."},habitante:{descripcion:"Abad Tiberius, es un hombre mayor con una presencia imponente.",personalidad:"Tiene una mirada penetrante que parece leer los pensamientos de quienes lo rodean. ",motivo:"Es conocido por su sabidur\xEDa y sus sermones inspiradores, pero algunos susurran que tiene conocimientos secretos y antiguos que guarda celosamente."}},{nombre:"Monasterio de la Trinidad",historia:"Construido en un valle aislado, este santuario es un santuario de tranquilidad. Durante siglos, ha sido un lugar de retiro para aquellos que buscan paz interior y reflexi\xF3n. Sus jardines y fuentes proporcionan un entorno sereno, donde los monjes meditan y encuentran armon\xEDa, lejos del bullicio del mundo exterior.",descripcion:"Una profunda tranquilidad envuelve el monasterio. El canto suave de los monjes resuena en la capilla, mezcl\xE1ndose con el murmullo de un arroyo cercano, creando una atm\xF3sfera de paz y serenidad.",evento1:"Los monjes caminando lentamente por el claustro, parecen disfrutar de la tranquilidad del entorno mientras recitan oraciones en voz baja.",evento2:"Una vela, que est\xE1 a escasos metros de vosotros, se apaga sin explicaci\xF3n, dejando la estancia en la oscuridad total por unos momentos antes de que la luz regrese misteriosamente.",noticia:"Un manuscrito antiguo y perdido es descubierto en la biblioteca, revelando secretos olvidados y atrayendo la atenci\xF3n de estudiosos de todo el reino.",visitante:{descripcion:"Lady Isolde es delicada y de tez p\xE1lida, con cabello largo y oscuro que enmarca un rostro sereno pero siempre atento. ",personalidad:"Adem\xE1s, es una persona muy erudita conocida por su aguda mente y amor por la historia y la literatura. Muestra una personalidad decidida en sus investigaciones y no se detendr\xE1 ante ning\xFAn desaf\xEDo en su b\xFAsqueda del saber. Sin embargo, sus ojos guardan el brillo de quien ha visto m\xE1s de lo que revela.",motivo:"Su curiosidad intelectual lleva a esta persona a explorar sus pasillos y bibliotecas en busca de conocimiento perdido y secretos ancestrales, \xBFpero el qu\xE9 exactamente?."},habitante:{descripcion:"Hermano Ambrose es un monje de mediana edad y tez m\xE1s bien paliducha. ",personalidad:"Ya hab\xEDais visto antes a esta persona en los corredores del monasterio con una expresi\xF3n sombr\xEDa.",motivo:"Se rumorea que tiene un pasado misterioso del que nunca habla, y su habilidad con las hierbas medicinales y los venenos ha generado algunas sospechas entre los habitantes del monasterio."}},{nombre:"Capilla del Corpus Cristi",historia:"Este santuario tiene una historia oscura y est\xE1 rodeada de terror. Anta\xF1o, fue escenario de misteriosas desapariciones y eventos sobrenaturales. Los registros antiguos hablan de sombras que se mov\xEDan por los pasillos y susurros en la oscuridad. Hoy en d\xEDa, pocos se atreven a visitarla, m\xE1s all\xE1 de los que all\xED habitan, y aquellos que lo hacen, lo abandonan r\xE1pidamente, llev\xE1ndose consigo historias de encuentros inquietantes",descripcion:"Las sombras se alargan en los pasillos, y los susurros inaudibles parecen seguir a quienes se aventuran en su interior. La sensaci\xF3n de ser observado nunca desaparece.",evento1:"Un grupo de monjes se sobresalta por el crujido de una puerta antigua, atribuy\xE9ndolo a viejas leyendas de terror del monasterio.",evento2:"Un libro antiguo cae de una estanter\xEDa sin que nadie lo toque, abri\xE9ndose en una p\xE1gina con una advertencia cr\xEDptica escrita en un idioma que os es completamente desconocido.",noticia:"Un grupo de monjes enferma gravemente por una extra\xF1a enfermedad, y la comunidad debe buscar desesperadamente una cura antes de que sea demasiado tarde.",visitante:{descripcion:"Friar Lucas, un joven ac\xF3lito en busca de convertirse en monje, ha viajado desde lejos para experimentar la vida mon\xE1stica. ",personalidad:"Siempre lleva una expresi\xF3n serena y una postura humilde. Adem\xE1s, es una persona dedicada y piadosa, mostrando una profunda devoci\xF3n por la fe y un deseo ferviente de servir a Dios. Se comporta de manera respetuosa y servicial los monjes m\xE1s ancianos, buscando constantemente mejorar su entendimiento espiritual. Sin embargo, parece llevar consigo el peso de un secreto que lo impulsa hacia la b\xFAsqueda espiritual.",motivo:"Ha viajado desde lejos para experimentar la vida mon\xE1stica. Desea participar activamente en las pr\xE1cticas religiosas y rituales del monasterio, aprender las ense\xF1anzas espirituales de los venerables monjes y fortalecer su fe."},habitante:{descripcion:"Hermana Emilia es la encargada de los jardines del monasterio.",personalidad:"Tiene una conexi\xF3n especial con las plantas y las flores, pero pocos saben que tambi\xE9n posee un conocimiento profundo de las hierbas venenosas y sus usos. ",motivo:"Su presencia tranquila y serena oculta una determinaci\xF3n y habilidades que algunos podr\xEDan considerar peligrosas."}},{nombre:"Ermita de los ca\xEDdos",historia:"Este lugar est\xE1 marcado por la incertidumbre desde su fundaci\xF3n. Los documentos hist\xF3ricos son escasos y confusos, llenos de contradicciones. Los monjes actuales viven en un estado de constante b\xFAsqueda, intentando desentra\xF1ar los misterios de su propia existencia y la de su hogar, sin nunca llegar a una conclusi\xF3n definitiva.",descripcion:"Los corredores laber\xEDnticos y las puertas que se abren a habitaciones desconocidas crean una sensaci\xF3n de desorientaci\xF3n constante.",evento1:"Los monjes se re\xFAnen en la biblioteca, discutiendo en voz baja sobre un pasaje ambiguo en un manuscrito antiguo, creando un aire de incertidumbre.",evento2:"Las campanas del monasterio comienzan a sonar. Esto no deber\xEDa resultar extra\xF1o, salvo porque ya os pareci\xF3 haberlas escuchado hace unos minuto, y sin embargo, tanto el ritmo y el n\xFAmero de campanadas es exactamente igual. ",noticia:"Una violenta tormenta causa da\xF1os significativos al monasterio, y los monjes deben trabajar juntos para reparar las estructuras antes de que lleguen las lluvias de oto\xF1o... \xBFo es por algo m\xE1s?",visitante:{descripcion:"Lord Aldric es alto y elegante, con cabello rubio y ojos azules que reflejan su mente anal\xEDtica. ",personalidad:"Tiene una postura erguida y gestos precisos que denotan su refinamiento. Adem\xE1s, es visionario y meticuloso, conocido por su habilidad para visualizar y crear estructuras impresionantes. Es apasionado por la arquitectura y busca constantemente inspiraci\xF3n en las obras maestras del pasado. Sin embargo, su mirada a veces se pierde en pensamientos ocultos, como si estuviera persiguiendo algo m\xE1s que la perfecci\xF3n arquitect\xF3nica.",motivo:"Hay cierto aire de fascinaci\xF3n en esta persona. Cada detalle de las columnas talladas y los vitrales antiguos fascina, como si no dejase de encontrar la perfecci\xF3n en cada esquina"},habitante:{descripcion:"Padre Anselmo es el bibliotecario del monasterio, custodio de antiguos manuscritos y textos sagrados.",personalidad:"Esquiva la mirada y se mueve de manera nerviosa. Muchas de las frases que comienza ni siquiera las llega a acabar.",motivo:"Su devoci\xF3n por el conocimiento es innegable, pero su obsesi\xF3n por algunos textos prohibidos y su insistencia en mantener la biblioteca cerrada para ciertos visitantes ha despertado la curiosidad y la desconfianza de algunos."}},{nombre:"Abad\xEDa de Santa Mar\xEDa de las Flores",historia:"Fundado en un lugar poco com\xFAn, ha revelado a lo largo de los a\xF1os tesoros ocultos y conocimientos perdidos. Sus visitantes suelen encontrarse con hallazgos inesperados y maravillas arquitect\xF3nicas que desaf\xEDan la comprensi\xF3n, dejando una impresi\xF3n duradera de asombro y admiraci\xF3n.",descripcion:"Da la sensaci\xF3n de que al cruzar cada esquina, uno puede encontrarse con una magn\xEDfica biblioteca oculta o una sala secreta llena de tesoros art\xEDsticos",evento1:"Un monje encuentra una flor silvestre creciendo entre las piedras del patio, su expresi\xF3n de sorpresa al descubrir algo tan hermoso en un lugar tan austero.",evento2:"Un monje, mientras barre el patio, se detiene de repente y mira fijamente al suelo, luego susurra algo incomprensible antes de alejarse r\xE1pidamente",noticia:"Un monje joven desaparece misteriosamente durante la noche, y sus compa\xF1eros inician una b\xFAsqueda que les lleva a descubrir pasadizos secretos bajo el monasterio.",visitante:{descripcion:"Lady Elara es gr\xE1cil y de aspecto delicado, con cabello casta\xF1o claro y ojos verdes llenos de curiosidad y asombro. Siempre lleva consigo un cuaderno de poemas y una expresi\xF3n serena",personalidad:"Adem\xE1s, resulta ser una persona creativa y sensible, encontrando inspiraci\xF3n en la naturaleza y en la calma del monasterio. ",motivo:"Sus versos reflejan su conexi\xF3n con el mundo natural y su capacidad para capturar la belleza en palabras. Sin embargo, detr\xE1s de su apariencia, parece guardar la melancol\xEDa de quien ha visto la fugacidad de la vida."},habitante:{descripcion:"Hermano Gregor es el encargado de la cocina del monasterio.",personalidad:"Tiene la cara redonda y se mueve de manera torpe pero simp\xE1tica.",motivo:"Es conocido por su habilidad para preparar comidas deliciosas que reconfortan el alma, pero hay rumores de que experimenta con ingredientes inusuales y tiene conocimientos de alquimia que podr\xEDan no ser del todo ortodoxos"}},{nombre:"Monasterio de la Santa Cruzada",historia:"Nacido en tiempos de guerra y conflicto, ha sido un basti\xF3n de resistencia. Los monjes, en lugar de solo orar, se entrenaban en las artes marciales, defendiendo su hogar con ferocidad. Las cicatrices de batallas pasadas a\xFAn se ven en sus muros, testimonio de la furia y el coraje de sus habitantes.",descripcion:"Este lugar, sin embargo, est\xE1 impregnado de ira contenida. Las marcas de batalla en las paredes y los restos de objetos rotos sugieren un pasado lleno de conflictos y tensiones no resueltas.",evento1:"Un monje, visiblemente frustrado, golpea con suavidad una mesa de trabajo despu\xE9s de fallar en la transcripci\xF3n de un manuscrito, reflejando su ira contenida.",evento2:"Un grupo de monjes cantando en la capilla se detiene abruptamente y todos miran hacia la misma esquina oscura, como si hubieran visto algo aterrador.",noticia:"Un noble rico y su s\xE9quito visitan el monasterio, trayendo consigo lujo y tensi\xF3n mientras buscan negociar una donaci\xF3n significativa. ",visitante:{descripcion:"Erwin es anciano, con barba larga y blanca, y lleva un sombrero puntiagudo y una t\xFAnica azul oscuro adornada con s\xEDmbolos m\xEDsticos.",personalidad:"Sus ojos brillan con sabidur\xEDa y una chispa de magia. Adem\xE1s, se muestra como alguien sabio y enigm\xE1tico. Es paciente y tranquilo, pero siempre alerta ante las posibilidades ocultas que pueden revelarse ante \xE9l.",motivo:"Aparentemente se encuentra all\xED \xFAnicamente en b\xFAsqueda de conocimientos sobre palntas medicinales y remedios naturales. "},habitante:{descripcion:"Hermano Tobias es el encargado de mantener los altares y velas del monasterio",personalidad:"Tiene una mirada penetrante y siempre parece estar en la sombra, observando a los visitantes con una mezcla de inter\xE9s y desconfianza.",motivo:". Algunos creen que sabe m\xE1s de lo que revela y que guarda secretos oscuros en los rincones del monasterio."}},{nombre:"Iglesia de Cirilia",historia:"Fundado por un noble adinerado, el monasterio es un ejemplo de opulencia. Durante siglos, ha acumulado riquezas y artefactos invaluables. Sus salones est\xE1n adornados con obras de arte y sus bibliotecas albergan manuscritos raros. Este lugar no solo era un refugio espiritual, sino tambi\xE9n un s\xEDmbolo de poder y riqueza.",descripcion:"El monasterio refleja una opulencia pasada. Los muros est\xE1n decorados con frescos dorados, y las habitaciones est\xE1n llenas de tapices ricos y muebles de lujo, recordando la antigua gloria del lugar.",evento1:"Un monje observa con admiraci\xF3n los tapices dorados y las decoraciones del sal\xF3n principal, como si esperase encontrar all\xED algo.",evento2:"Un cuervo se posa en una ventana abierta, y al mirarlo directamente a los ojos, parece susurrar un mensaje oscuro antes de volar de repente ",noticia:"El abad del monasterio es encontrado muerto en circunstancias sospechosas, y los monjes deben resolver el misterio mientras mantienen la calma en la comunidad.",visitante:{descripcion:"Lady Elinor es audaz y de cabello dorado que brilla bajo el sol, con ojos azules llenos de curiosidad y una sonrisa brillante.",personalidad:"Es una persona amistosa y tiene un talento natural para conectar con la gente, disfrutando de cada oportunidad para aprender y experimentar algo nuevo. Sin embargo, detr\xE1s de su fachada de alegr\xEDa y curiosidad, parece llevar consigo la sombra de una experiencia pasada que la ha marcado profundamente.",motivo:"Llega al lugar justo a tiempo para participar en un festival de m\xFAsica y danza celebrado en honor a un santo patr\xF3n del monasterio. Disfruta de la atm\xF3sfera festiva, del intercambio cultural y de la oportunidad de vivir una experiencia \xFAnica en un lugar tan especial."},habitante:{descripcion:"Madre Agnes es la encargada de la enfermer\xEDa del monasterio.",personalidad:"Este miembro de la comunidad es conocido por sus habilidades curativas y su compasi\xF3n hacia los enfermos",motivo:"Su conocimiento de las hierbas medicinales y su habilidad para calmar el dolor han llevado a algunos a preguntarse si guarda secretos sobre el verdadero alcance de su poder."}},{nombre:"Catedral de El Salvador",historia:"Este santuarion evoca una profunda nostalgia. Fundado por una comunidad que buscaba preservar sus tradiciones en tiempos de cambio, se ha convertido en un guardi\xE1n del pasado. Los monjes viven siguiendo antiguas costumbres, y el lugar parece congelado en el tiempo, recordando a todos los visitantes un mundo que ya no existe, pero que vive en la memoria de sus muros.",descripcion:"Una profunda nostalgia impregna el lugar. Los ecos de tiempos mejores resuenan en los corredores vac\xEDos, y los viejos retratos de monjes fallecidos miran con tristeza desde las paredes.",evento1:"Un monje mayor ense\xF1a a los m\xE1s j\xF3venes en la sala de estudio, compartiendo su conocimiento y sabidur\xEDa mientras copian textos antiguos.",evento2:"Un monje pasa corriendo, con la cara p\xE1lida de miedo, y se esconde r\xE1pidamente en una celda, cerrando la puerta con un golpe sordo.",noticia:"Un monje experimenta una visi\xF3n divina y se convierte en objeto de reverencia y controversia, provocando debates sobre el significado de sus palabras y acciones.",visitante:{descripcion:"Sir Cedric es fuerte y de porte noble, con cicatrices de batallas pasadas que marcan su rostro curtido. Su mirada es profunda y su presencia imponente, aunque ahora su expresi\xF3n es de calma y serenidad. ",personalidad:"Adem\xE1s, es valiente y honorable, habiendo pasado por numerosas batallas y visto mucho como mercenario. ",motivo:"Ahora busca paz y redenci\xF3n en el monasterio, reconciliando su pasado con la tranquilidad del presente. Sin embargo, detr\xE1s de su apariencia de calma, parece ocultar las sombras de decisiones dif\xEDciles tomadas en tiempos de guerra."},habitante:{descripcion:"Padre Benedicto es el encargado de la administraci\xF3n del monasterio y las finanzas.",personalidad:"Su manejo eficiente de los recursos y su capacidad para resolver disputas han sido fundamentales para mantener la paz dentro de los muros del monasterio.",motivo:"Sin embargo, su habilidad para negociar acuerdos misteriosos y su influencia en decisiones importantes han generado especulaciones sobre sus verdaderas intenciones."}},{nombre:"Capilla de San Jordi",historia:"La capilla es un monumento a la antig\xFCedad. Establecido hace muchos siglos, ha sido testigo de innumerables eventos hist\xF3ricos. Sus cr\xF3nicas, preservadas en pergaminos, cuentan historias de imperios ca\xEDdos y \xE9pocas de grandeza. Cada piedra del monasterio parece susurrar historias de tiempos lejanos, conectando el presente con un pasado remoto.",descripcion:"La antig\xFCedad se percibe en cada piedra del monasterio. Las estructuras est\xE1n cubiertas de musgo y las inscripciones en lat\xEDn antiguo apenas son legibles, hablando de siglos de historia acumulada.",evento1:"Un monje se detiene frente a un retrato antiguo de un abad fallecido, su expresi\xF3n llena de nostalgia mientras recuerda historias del pasado.",evento2:"Un gato negro cruza el camino del espectador, deteni\xE9ndose moment\xE1neamente para mirarlo con ojos brillantes y luego desaparece entre las sombras.",noticia:"Una celebraci\xF3n anual en honor al santo patr\xF3n del monasterio atrae a peregrinos y visitantes, llenando el lugar de vida, m\xFAsica y alegr\xEDa.",visitante:{descripcion:"Dama Rowena es elegante y de porte regio, con cabello negro como el azabache y ojos profundos que reflejan su fuerza interior. ",personalidad:"Siempre viste con elegancia, llevando consigo una gracia natural que atrae la atenci\xF3n. Adem\xE1s, es fuerte y decidida, habiendo enfrentado muchas adversidades en su vida. Es inteligente y perspicaz, buscando constantemente crecer y aprender de las experiencias. ",motivo:"Su visita al monasterio es parte de su viaje personal hacia la paz y la comprensi\xF3n espiritual. Sin embargo, detr\xE1s de su mirada serena, parece esconder la carga de un secreto del pasado que ha moldeado su destino."},habitante:{descripcion:"Hermana Celestina es la encargada de los archivos hist\xF3ricos del monasterio.",personalidad:"Su meticulosidad al catalogar documentos antiguos y su conocimiento de eventos pasados son admirados por todos. ",motivo:"Su insistencia en mantener ciertos registros bajo llave ha provocado sospechas sobre qu\xE9 podr\xEDa estar tratando de ocultar."}},{nombre:"Templo del Redentor",historia:"Conocido como un faro de sabidur\xEDa, el templo ha sido centro de aprendizaje y conocimiento. Los monjes, dedicados a la copia y preservaci\xF3n de textos antiguos, han acumulado una vasta colecci\xF3n de saberes. El lugar atrae a eruditos de todas partes, convirti\xE9ndose en un punto de referencia para aquellos que buscan iluminar sus mentes y almas.",descripcion:"La sabidur\xEDa reina en este lugar. Las estanter\xEDas llenas de libros antiguos y los monjes dedicados a la lectura y la copia de manuscritos muestran un profundo compromiso con el conocimiento.",evento1:"Un viento fr\xEDo pasa por el claustro, llevando consigo un susurro que suena como un nombre, haciendo que los monjes se miren entre ellos con preocupaci\xF3n.",evento2:"Un monje parece estar hablando solo en el jard\xEDn, pero cuando el espectador se acerca, el monje se gira bruscamente y dice que no debe escuchar.",noticia:"Un incendio accidental estalla en la cocina del monasterio, amenazando con destruir una parte del edificio y poniendo a prueba la habilidad de los monjes para manejar emergencias.",visitante:{descripcion:"Squire Hugo es joven y de constituci\xF3n atl\xE9tica, con cabello casta\xF1o corto y ojos brillantes llenos de determinaci\xF3n. ",personalidad:"Siempre lleva una armadura ligera y tiene una postura erguida y una sonrisa amistosa. Adem\xE1s, es valiente y leal, conocido por su dedicaci\xF3n al deber y su deseo de convertirse en un caballero honorable.",motivo:"Sin embargo, bajo su apariencia juvenil y su actitud positiva, parece ocultar el peso de expectativas dif\xEDciles de cumplir y desaf\xEDos personales que a\xFAn debe superar."},habitante:{descripcion:"Hermano Marcus es el encargado de los rituales nocturnos del monasterio",personalidad:"Su voz profunda y su presencia carism\xE1tica lo convierten en un l\xEDder espiritual respetado.",motivo:"Sin embargo, sus visiones durante la meditaci\xF3n y sus advertencias cr\xEDpticas sobre el futuro han llevado a algunos a cuestionar si tiene conexiones con fuerzas m\xE1s all\xE1 de nuestro entendimiento."}}];var t1=[{nombre:"La Posada del Drag\xF3n Rojo",historia:"Construida sobre las ruinas de un antiguo castillo, esta posada es famosa por sus historias de dragones y caballeros. Fundada por un aventurero retirado, el lugar ha sido un refugio para viajeros y mercenarios que buscan descanso y escuchar las historias \xE9picas del pasado.",descripcion:"La posada est\xE1 decorada con armaduras antiguas y estandartes desgastados. El ambiente es c\xE1lido y acogedor, con un gran fuego crepitante en la chimenea central y mesas de roble robusto que invitan a la camarader\xEDa.",evento1:"Un trovador entona una balada heroica sobre la batalla entre un valiente caballero y un drag\xF3n, capturando la atenci\xF3n de todos los presentes.",evento2:"Una fuerte tormenta golpea la posada, haciendo que las ventanas tiemblen y el techo crujan, sumiendo a los hu\xE9spedes en un silencio expectante.",noticia:"Un misterioso mapa que supuestamente conduce a un tesoro escondido ha sido encontrado bajo una de las viejas tablas del suelo de la posada, despertando la codicia y la aventura entre los hu\xE9spedes.",visitante:{descripcion:"Sir Cedric, un caballero retirado con una imponente presencia y cicatrices que cuentan historias de muchas batallas.",personalidad:"Es una persona reservada y honorable, conocido por su valent\xEDa y su sentido de justicia, pero lleva consigo un aire de tristeza y melancol\xEDa.",motivo:"Busca olvidar los horrores de la guerra y encontrar paz en un entorno m\xE1s pac\xEDfico, mientras comparte sus historias y conocimientos con los m\xE1s j\xF3venes."},habitante:{descripcion:"La due\xF1a de la posada, Mirabel, es una mujer en\xE9rgica y siempre sonriente.",personalidad:"Es conocida por su hospitalidad y su habilidad para resolver conflictos entre los hu\xE9spedes con una mezcla de firmeza y encanto.",motivo:"Abri\xF3 la posada para ofrecer un refugio seguro y acogedor a todos los viajeros, y tiene un talento especial para escuchar y contar historias."}},{nombre:"El Ganso Dorado",historia:"Esta posada, situada en una encrucijada de caminos comerciales, ha sido un punto de encuentro para comerciantes y viajeros desde hace siglos. Su fama se debe en parte a las deliciosas comidas que sirven y a la amabilidad de sus propietarios.",descripcion:"El Ganso Dorado es un edificio grande y bien mantenido, con una fachada de piedra y ventanas iluminadas que emiten un brillo c\xE1lido y acogedor. En su interior, la decoraci\xF3n r\xFAstica y los aromas de platos reci\xE9n preparados crean una atm\xF3sfera hogare\xF1a.",evento1:"Un grupo de comerciantes discute animadamente sobre las rutas comerciales mientras disfrutan de una cena op\xEDpara.",evento2:"Un bardo comienza a tocar una melod\xEDa alegre en el la\xFAd, animando a los presentes a unirse en un canto com\xFAn.",noticia:"Una caravana de comerciantes ha sido atacada en el camino cercano, y los sobrevivientes buscan refugio y ayuda en la posada.",visitante:{descripcion:"Mara, una joven comerciante con ojos brillantes y una sonrisa contagiosa.",personalidad:"Es ingeniosa y persuasiva, siempre buscando nuevas oportunidades de negocio, pero tambi\xE9n muestra una empat\xEDa genuina por aquellos que encuentra en sus viajes.",motivo:"Busca alianzas comerciales y est\xE1 interesada en investigar las circunstancias del reciente ataque a la caravana."},habitante:{descripcion:"El cocinero, Bernard, es un hombre corpulento con una risa profunda y una habilidad incre\xEDble en la cocina.",personalidad:"A pesar de su apariencia intimidante, es un hombre amable y generoso, conocido por sus habilidades culinarias y su disposici\xF3n a compartir recetas.",motivo:"Se enorgullece de preparar comidas que traigan alegr\xEDa y confort a los viajeros, y disfruta de la compa\xF1\xEDa variada que frecuenta la posada."}},{nombre:"La Posada del Ciervo Blanco",historia:"Ubicada cerca de un denso bosque, esta posada es famosa por sus leyendas sobre el m\xEDtico ciervo blanco, considerado un presagio de buena fortuna. Fundada por un cazador que tuvo una visi\xF3n del ciervo, la posada se ha convertido en un lugar de historias y encuentros m\xE1gicos.",descripcion:"El edificio tiene un dise\xF1o r\xFAstico con madera tallada y decoraciones inspiradas en la naturaleza. Un gran tapiz del ciervo blanco adorna la pared principal del sal\xF3n, y el ambiente es sereno y encantador.",evento1:"Un cazador entra en la posada afirmando haber visto al ciervo blanco, causando revuelo entre los hu\xE9spedes.",evento2:"Una niebla espesa rodea la posada, sumergi\xE9ndola en un ambiente misterioso y m\xE1gico.",noticia:"Una anciana cuenta la leyenda del ciervo blanco, diciendo que aquellos que lo ven recibir\xE1n una revelaci\xF3n importante en sus vidas.",visitante:{descripcion:"Evelyn, una sabia del bosque con cabellos grises y ojos que reflejan el conocimiento antiguo.",personalidad:"Es una mujer enigm\xE1tica y reservada, con un profundo respeto por la naturaleza y una gran sabidur\xEDa que comparte con aquellos que demuestran ser dignos.",motivo:"Busca proteger al ciervo blanco y asegurar que sus secretos no caigan en manos equivocadas."},habitante:{descripcion:"El posadero, Duncan, es un hombre robusto con una barba espesa y una voz profunda.",personalidad:"Es un anfitri\xF3n generoso y protector, siempre dispuesto a escuchar las historias de sus hu\xE9spedes y ofrecerles un consejo sabio.",motivo:"Estableci\xF3 la posada para honrar la visi\xF3n que tuvo del ciervo blanco y para crear un refugio donde las historias y la magia del bosque pudieran ser compartidas."}},{nombre:"El Refugio del Viajero",historia:"Fundada por un grupo de viajeros que quer\xEDan un lugar seguro para descansar, esta posada ha sido un santuario para aquellos en camino hacia nuevos destinos. Su lema es 'Hogar lejos de casa'.",descripcion:"El Refugio del Viajero es un lugar acogedor con paredes de piedra y vigas de madera. Las habitaciones son simples pero c\xF3modas, y hay un gran sal\xF3n com\xFAn donde los viajeros pueden compartir historias y disfrutar de una bebida caliente.",evento1:"Un viajero solitario comienza a contar la historia de su largo y peligroso viaje por tierras lejanas, capturando la atenci\xF3n de todos.",evento2:"El posadero organiza un peque\xF1o torneo de juegos de mesa para entretener a los hu\xE9spedes durante la noche.",noticia:"Un grupo de viajeros trae noticias de una nueva ruta que promete ser m\xE1s segura y r\xE1pida, despertando el inter\xE9s de todos los presentes.",visitante:{descripcion:"Lorena, una exploradora con una mochila llena de mapas y un semblante decidido.",personalidad:"Es aventurera y curiosa, siempre en busca de nuevos caminos y descubrimientos, pero tambi\xE9n sabe cu\xE1ndo es el momento de descansar y compartir sus conocimientos.",motivo:"Busca trazar nuevas rutas y mapas, y espera encontrar compa\xF1eros de viaje que se unan a su pr\xF3xima expedici\xF3n."},habitante:{descripcion:"El posadero, Marcus, es un hombre amable con una gran sonrisa y una memoria prodigiosa para las caras y las historias.",personalidad:"Es sociable y encantador, conocido por hacer que todos se sientan como en casa, y disfruta enormemente de escuchar y contar historias.",motivo:"Estableci\xF3 la posada para crear un hogar lejos de casa para los viajeros y para asegurar que siempre haya un lugar seguro y acogedor en su ruta."}},{nombre:"La Posada del Lobo Plateado",historia:"Situada en un peque\xF1o pueblo cerca de un gran bosque, esta posada es conocida por sus historias de lobos y cazadores. Fundada por un antiguo cazador, la posada atrae tanto a viajeros como a locales interesados en las leyendas de la regi\xF3n.",descripcion:"La posada est\xE1 decorada con trofeos de caza y pieles de animales. El ambiente es r\xFAstico y acogedor, con una gran chimenea que mantiene a los hu\xE9spedes c\xE1lidos durante las fr\xEDas noches.",evento1:"Un aullido lejano resuena en la noche, haciendo que los hu\xE9spedes se acerquen a las ventanas para intentar ver de d\xF3nde proviene.",evento2:"Un cazador regresa de una exitosa cacer\xEDa y comparte su bot\xEDn con los hu\xE9spedes, organizando una cena festiva.",noticia:"Un lobo gigante ha sido avistado en las cercan\xEDas del pueblo, y los cazadores locales se est\xE1n organizando para capturarlo.",visitante:{descripcion:"Gregor, un cazador alto y musculoso con una barba espesa y cicatrices de batallas pasadas.",personalidad:"Es valiente y decidido, con una gran experiencia en la caza de animales salvajes, pero tambi\xE9n muestra un lado protector hacia los m\xE1s d\xE9biles.",motivo:"Busca capturar al lobo gigante que ha estado aterrorizando al pueblo y demostrar su val\xEDa como cazador."},habitante:{descripcion:"La due\xF1a de la posada, Elsa, es una mujer robusta y en\xE9rgica con un car\xE1cter fuerte.",personalidad:"Es amable y generosa, pero no tolera el mal comportamiento y sabe c\xF3mo mantener el orden en su establecimiento.",motivo:"Fund\xF3 la posada para ofrecer un refugio seguro y c\xF3modo para cazadores y viajeros, y para mantener viva la tradici\xF3n de las historias de caza."}},{nombre:"El Rinc\xF3n del Mago",historia:"Fundada por un mago retirado, esta posada es un lugar de encuentro para aquellos interesados en las artes arcanas y las historias de magia. Su fundador quiso crear un refugio donde los estudiosos y aventureros pudieran intercambiar conocimientos y experiencias.",descripcion:"La posada est\xE1 llena de libros y artefactos m\xE1gicos. El ambiente es misterioso y acogedor, con l\xE1mparas de aceite que emiten una luz suave y c\xE1lida. En el centro del sal\xF3n com\xFAn hay una gran mesa redonda donde los hu\xE9spedes pueden discutir sobre magia y aventuras.",evento1:"Un aprendiz de mago realiza un peque\xF1o espect\xE1culo de ilusiones para entretener a los hu\xE9spedes.",evento2:"Una tormenta m\xE1gica se desata fuera de la posada, iluminando el cielo con destellos de colores y creando un espect\xE1culo impresionante.",noticia:"Un antiguo grimorio ha sido descubierto en las cercan\xEDas, y muchos magos y estudiosos est\xE1n acudiendo a la posada en busca de informaci\xF3n.",visitante:{descripcion:"Meredith, una maga joven con ojos brillantes y una mente inquisitiva.",personalidad:"Es apasionada y curiosa, siempre buscando nuevos hechizos y conocimientos arcanos, pero tambi\xE9n muestra una gran empat\xEDa y disposici\xF3n para ayudar a los dem\xE1s.",motivo:"Busca desentra\xF1ar los secretos del grimorio reci\xE9n descubierto y ampliar sus conocimientos m\xE1gicos."},habitante:{descripcion:"El posadero, Alaric, es un mago retirado con una larga barba blanca y una presencia imponente.",personalidad:"Es sabio y paciente, siempre dispuesto a compartir su vasto conocimiento con aquellos que muestran verdadero inter\xE9s y respeto por las artes arcanas.",motivo:"Fund\xF3 la posada para crear un lugar de encuentro para magos y aventureros, y para preservar y compartir los conocimientos m\xE1gicos con las futuras generaciones."}},{nombre:"La Posada del Viento Norte",historia:"Situada en la cima de una colina, esta posada es conocida por sus vistas espectaculares y su ambiente sereno. Fue fundada por un explorador que se enamor\xF3 del lugar y decidi\xF3 establecer all\xED un refugio para los viajeros cansados.",descripcion:"La posada est\xE1 construida con piedra y madera, y tiene grandes ventanales que ofrecen vistas panor\xE1micas del paisaje circundante. El interior es acogedor, con muebles de madera tallada y una gran chimenea que proporciona calidez y confort.",evento1:"Un grupo de viajeros se re\xFAne alrededor de la chimenea, compartiendo historias de sus aventuras y disfrutando de la compa\xF1\xEDa.",evento2:"Un \xE1guila majestuosa sobrevuela la posada, causando admiraci\xF3n entre los hu\xE9spedes.",noticia:"Se rumorea que un tesoro escondido se encuentra en alg\xFAn lugar de las colinas, y muchos aventureros est\xE1n comenzando a buscarlo.",visitante:{descripcion:"Elara, una exploradora con una mirada aguda y una presencia decidida.",personalidad:"Es valiente y determinada, siempre en busca de nuevas aventuras y desaf\xEDos, pero tambi\xE9n tiene un lado amable y generoso.",motivo:"Busca explorar las colinas en busca del tesoro rumoreado y disfrutar de la paz y la serenidad del lugar."},habitante:{descripcion:"El posadero, Finn, es un hombre amable con una gran sonrisa y una habilidad para hacer sentir a todos bienvenidos.",personalidad:"Es hospitalario y atento, conocido por su habilidad para escuchar y hacer que todos se sientan como en casa.",motivo:"Fund\xF3 la posada para compartir la belleza del lugar con otros y ofrecer un refugio tranquilo para los viajeros."}},{nombre:"El Albergue del Reloj de Sol",historia:"Esta posada, situada junto a una antigua torre con un enorme reloj de sol, es famosa por su ambiente tranquilo y su conexi\xF3n con el tiempo. Fundada por un erudito que estudi\xF3 el tiempo y sus misterios, la posada atrae a aquellos interesados en la historia y la filosof\xEDa.",descripcion:"El albergue tiene un aire antiguo y venerable, con paredes de piedra y muebles de \xE9poca. La torre del reloj de sol se eleva majestuosa junto al edificio principal, proyectando sombras que marcan el paso del tiempo.",evento1:"Un anciano sabio narra historias sobre el paso del tiempo y los secretos del reloj de sol, capturando la atenci\xF3n de los presentes.",evento2:"Una tormenta se desata inesperadamente, y el sonido del viento y la lluvia contra las ventanas crea una atm\xF3sfera introspectiva.",noticia:"Un manuscrito antiguo ha sido encontrado en la torre del reloj de sol, revelando conocimientos perdidos sobre el tiempo y su naturaleza.",visitante:{descripcion:"Lyra, una joven historiadora con un aire pensativo y ojos llenos de curiosidad.",personalidad:"Es intelectual y reflexiva, siempre buscando respuestas a las grandes preguntas de la vida, pero tambi\xE9n muestra una profunda empat\xEDa por los dem\xE1s.",motivo:"Busca estudiar el manuscrito reci\xE9n descubierto y desentra\xF1ar los secretos del tiempo."},habitante:{descripcion:"El posadero, Eamon, es un hombre mayor con una barba gris y una presencia serena.",personalidad:"Es sabio y tranquilo, conocido por sus profundas reflexiones y su disposici\xF3n a compartir su conocimiento con los dem\xE1s.",motivo:"Fund\xF3 la posada para crear un lugar de reflexi\xF3n y aprendizaje, donde los viajeros pudieran detenerse y contemplar el paso del tiempo."}},{nombre:"La Taberna del Caballero Errante",historia:"Fundada por un caballero retirado, esta taberna es un lugar de encuentro para guerreros, mercenarios y aventureros. Conocida por su ambiente animado y sus historias de valent\xEDa, la taberna es un lugar donde los h\xE9roes del pasado y del presente se re\xFAnen.",descripcion:"La taberna tiene un aire r\xFAstico y acogedor, con paredes adornadas con escudos y espadas. El ambiente es siempre animado, con el sonido de risas, m\xFAsica y el tintineo de las jarras de cerveza.",evento1:"Un grupo de mercenarios comienza a contar historias de sus aventuras, animando a los dem\xE1s a unirse y compartir sus propias experiencias.",evento2:"Un trovador comienza a tocar una canci\xF3n \xE9pica sobre una antigua batalla, capturando la atenci\xF3n de todos los presentes.",noticia:"Un bando ha sido puesto en el tabl\xF3n de anuncios, ofreciendo una recompensa por la captura de un infame bandido que ha estado aterrorizando la regi\xF3n.",visitante:{descripcion:"Thane, un guerrero con una armadura reluciente y una mirada decidida.",personalidad:"Es valiente y leal, siempre dispuesto a defender a los inocentes y luchar por la justicia, pero tambi\xE9n lleva consigo el peso de muchas batallas.",motivo:"Busca formar un grupo de aventureros para capturar al bandido y restaurar la paz en la regi\xF3n."},habitante:{descripcion:"El tabernero, Roland, es un hombre robusto con una voz potente y una risa contagiosa.",personalidad:"Es carism\xE1tico y valiente, conocido por su hospitalidad y su habilidad para mantener el orden en la taberna.",motivo:"Fund\xF3 la taberna para ofrecer un lugar donde los guerreros y aventureros pudieran descansar y compartir sus historias."}},{nombre:"La Posada de la Rosa Negra",historia:"Situada en un antiguo edificio que alguna vez fue un convento, esta posada tiene una historia rica en misterio y romance. Fundada por una mujer noble en busca de un nuevo comienzo, la posada es conocida por su ambiente elegante y sus jardines encantadores.",descripcion:"La posada tiene una arquitectura elegante con detalles g\xF3ticos y un jard\xEDn lleno de rosas negras. El interior es lujoso, con muebles de \xE9poca, cortinas de terciopelo y candelabros de cristal.",evento1:"Un baile de m\xE1scaras se lleva a cabo en el sal\xF3n principal, creando una atm\xF3sfera de misterio y encanto.",evento2:"Una joven pareja se pasea por el jard\xEDn, intercambiando promesas de amor eterno bajo la luz de la luna.",noticia:"Se rumorea que un valioso tesoro est\xE1 escondido en alg\xFAn lugar de la posada, atrayendo a cazadores de tesoros y curiosos.",visitante:{descripcion:"Lysander, un poeta con un aire melanc\xF3lico y una presencia enigm\xE1tica.",personalidad:"Es apasionado y rom\xE1ntico, siempre buscando inspiraci\xF3n para sus poemas y mostrando una profunda sensibilidad hacia la belleza y el arte.",motivo:"Busca inspiraci\xF3n para su pr\xF3xima obra maestra y espera desentra\xF1ar los misterios de la posada."},habitante:{descripcion:"La posadera, Lady Helena, es una mujer de porte elegante y ojos llenos de sabidur\xEDa.",personalidad:"Es refinada y misteriosa, conocida por su gracia y su habilidad para mantener un aire de misterio a su alrededor.",motivo:"Fund\xF3 la posada para crear un refugio elegante y encantador, y para ofrecer un nuevo comienzo a aquellos que buscan dejar atr\xE1s su pasado."}},{nombre:"El Refugio del Errante",historia:"Ubicada en un cruce de caminos frecuentado por comerciantes y viajeros, esta posada es un lugar de descanso y recuperaci\xF3n. Fundada por un ex comerciante que vio la necesidad de un lugar seguro y c\xF3modo en esta transitada ruta, el Refugio del Errante es conocido por su hospitalidad y su ambiente acogedor.",descripcion:"La posada es espaciosa y luminosa, con grandes ventanas que dejan entrar la luz del sol. Las habitaciones son c\xF3modas y bien equipadas, y el sal\xF3n com\xFAn siempre est\xE1 lleno de vida con viajeros compartiendo sus historias.",evento1:"Un comerciante cuenta historias de sus viajes a tierras lejanas, mostrando extra\xF1os y ex\xF3ticos artefactos que ha recolectado.",evento2:"Un grupo de m\xFAsicos ambulantes entra en la posada, llenando el ambiente de m\xFAsica y alegr\xEDa.",noticia:"Una caravana de comerciantes se ha detenido en la posada, trayendo consigo noticias y rumores de tierras lejanas.",visitante:{descripcion:"Mariana, una comerciante con una mirada aguda y una sonrisa encantadora.",personalidad:"Es astuta y persuasiva, siempre buscando la mejor oportunidad de negocio, pero tambi\xE9n muestra una gran lealtad y honestidad en sus tratos.",motivo:"Busca nuevos mercados y oportunidades de negocio, as\xED como disfrutar de un merecido descanso despu\xE9s de un largo viaje."},habitante:{descripcion:"El posadero, Cedric, es un hombre amable con una sonrisa constante y una gran habilidad para hacer sentir a todos bienvenidos.",personalidad:"Es hospitalario y generoso, conocido por su habilidad para escuchar y su disposici\xF3n a ayudar a los dem\xE1s.",motivo:"Fund\xF3 la posada para ofrecer un lugar seguro y c\xF3modo para los viajeros y comerciantes, y para crear un punto de encuentro donde las historias y experiencias pudieran ser compartidas."}}];var n1=[{nombre:"La Torre de las Sombras",historia:"Erigida en el coraz\xF3n de la ciudad, esta torre ha sido durante siglos el cuartel general de la guardia urbana. Sin embargo, su historia est\xE1 te\xF1ida de oscuridad, con relatos de prisioneros que desaparecen sin dejar rastro y guardias que se ven acechados por sombras en la noche.",descripcion:"La torre se eleva imponente y siniestra, con muros de piedra negra y almenas desgastadas. En su interior, los pasillos son estrechos y oscuros, con antorchas que apenas logran disipar la penumbra.",evento1:"Un prisionero grita desesperado desde las celdas subterr\xE1neas, pero cuando los guardias llegan, encuentran la celda vac\xEDa.",evento2:"Una figura sombr\xEDa es vista desliz\xE1ndose por los pasillos, desapareciendo antes de que alguien pueda identificarla.",noticia:"Un alto funcionario de la ciudad ha sido encontrado muerto en su despacho, sin se\xF1ales de lucha pero con una expresi\xF3n de puro terror en su rostro.",visitante:{descripcion:"Sir Alaric, un caballero con cicatrices de guerra y una mirada endurecida.",personalidad:"Es severo y autoritario, con una firme determinaci\xF3n de imponer orden, pero los recientes eventos parecen haberle afectado profundamente.",motivo:"Ha sido enviado para investigar las misteriosas desapariciones y restaurar la seguridad en la torre."},habitante:{descripcion:"El capit\xE1n de la guardia, Hugo, un hombre de aspecto imponente con una barba espesa.",personalidad:"Es brusco y sin escr\xFApulos, conocido por su crueldad y su habilidad para mantener el orden a cualquier costo.",motivo:"Dirige la torre con mano de hierro, pero se rumorea que est\xE1 involucrado en los misteriosos eventos que han ocurrido."}},{nombre:"El Basti\xF3n del Dolor",historia:"Este cuartel, conocido por su brutalidad, ha sido el centro de torturas y ejecuciones durante generaciones. Los muros han sido testigos de innumerables sufrimientos, y el lugar emana un aire de desesperaci\xF3n y crueldad.",descripcion:"El basti\xF3n est\xE1 construido con piedra gris y \xE1spera, y sus calabozos subterr\xE1neos son h\xFAmedos y oscuros. Los gritos de los prisioneros pueden escucharse en la noche, resonando por los corredores.",evento1:"Un prisionero es arrastrado por los guardias hacia la c\xE1mara de torturas, sus gritos de piedad resuenan por todo el basti\xF3n.",evento2:"Una figura encapuchada se ve en los corredores, observando desde las sombras antes de desaparecer sin dejar rastro.",noticia:"Un grupo de prisioneros ha logrado escapar, y la guardia est\xE1 en alerta m\xE1xima, buscando desesperadamente a los fugitivos.",visitante:{descripcion:"Lady Selene, una inquisidora con una mirada fr\xEDa y calculadora.",personalidad:"Es despiadada y meticulosa, conocida por su habilidad para obtener confesiones sin importar los m\xE9todos necesarios.",motivo:"Ha llegado para investigar la reciente fuga de prisioneros y asegurarse de que los culpables sean capturados y castigados."},habitante:{descripcion:"El carcelero, Magnus, un hombre corpulento con cicatrices visibles y una expresi\xF3n cruel.",personalidad:"Es brutal y s\xE1dico, disfrutando del sufrimiento de los prisioneros y ejerciendo su autoridad sin piedad.",motivo:"Mantiene el orden en los calabozos, pero muchos sospechan que permite ciertas crueldades por placer personal."}},{nombre:"La Fortaleza del Silencio",historia:"Construida en los l\xEDmites de la ciudad, esta fortaleza ha sido utilizada como prisi\xF3n y cuartel durante siglos. Su nombre proviene del hecho de que aquellos que son llevados all\xED rara vez se les vuelve a escuchar.",descripcion:"La fortaleza est\xE1 rodeada de altos muros y un foso profundo. En su interior, los pasillos est\xE1n envueltos en un silencio inquietante, y las celdas est\xE1n dise\xF1adas para aislar completamente a los prisioneros.",evento1:"Un guardia encuentra un mensaje escrito con sangre en la pared de una celda vac\xEDa, pero no hay rastro del prisionero.",evento2:"Una figura espectral aparece en el patio principal, desapareciendo en la oscuridad mientras los guardias intentan perseguirla.",noticia:"Un antiguo libro de conjuros ha sido robado de la biblioteca de la fortaleza, y se teme que pueda ser utilizado para liberar fuerzas oscuras.",visitante:{descripcion:"El mago oscuro, Malakar, con una t\xFAnica negra y ojos que parecen ver a trav\xE9s de las almas.",personalidad:"Es misterioso y enigm\xE1tico, con un aura de poder que intimida a aquellos a su alrededor.",motivo:"Busca recuperar el libro de conjuros robado y evitar que caiga en las manos equivocadas."},habitante:{descripcion:"El alcaide, Lorcan, un hombre de aspecto severo con una expresi\xF3n imperturbable.",personalidad:"Es implacable y justo, manteniendo la fortaleza bajo un estricto control y asegur\xE1ndose de que el silencio se mantenga.",motivo:"Supervisa la fortaleza con una determinaci\xF3n f\xE9rrea, pero guarda secretos que podr\xEDan desentra\xF1ar el misterio del lugar."}},{nombre:"La Prisi\xF3n de los Lamentos",historia:"Este cuartel y prisi\xF3n, situado en las profundidades de la ciudad, ha sido un lugar de castigo para los criminales m\xE1s peligrosos. Los lamentos de los prisioneros se escuchan constantemente, llenando el aire con un sentimiento de desesperaci\xF3n.",descripcion:"La prisi\xF3n est\xE1 construida en una caverna subterr\xE1nea, con celdas talladas en la roca y pasillos iluminados por antorchas parpadeantes. El aire es denso y h\xFAmedo, y los lamentos de los prisioneros resuenan por todas partes.",evento1:"Un prisionero enloquecido ataca a un guardia, gritando sobre visiones de monstruos en la oscuridad.",evento2:"Una niebla espesa comienza a llenar los pasillos, y los prisioneros empiezan a susurrar sobre una maldici\xF3n que se ha desatado.",noticia:"Un antiguo artefacto m\xE1gico ha sido descubierto en una de las celdas, y se cree que puede estar relacionado con los lamentos y la desesperaci\xF3n que impregnan el lugar.",visitante:{descripcion:"El sacerdote, Father Lucian, con una mirada compasiva y una voz suave.",personalidad:"Es piadoso y comprensivo, siempre buscando aliviar el sufrimiento de los dem\xE1s, pero sus ojos revelan un conocimiento profundo de los horrores que ha presenciado.",motivo:"Busca purificar el artefacto y liberar a la prisi\xF3n de la maldici\xF3n que parece haberse desatado."},habitante:{descripcion:"El jefe de la prisi\xF3n, Garrick, un hombre robusto con una expresi\xF3n adusta.",personalidad:"Es inflexible y severo, manteniendo el orden en la prisi\xF3n con pu\xF1o de hierro y sin mostrar compasi\xF3n.",motivo:"Supervisa la prisi\xF3n con mano firme, pero guarda un oscuro secreto sobre la verdadera naturaleza de los lamentos que se escuchan en el lugar."}},{nombre:"El Basti\xF3n de los Secretos",historia:"Este cuartel, ubicado en un edificio antiguo y deteriorado, ha sido el hogar de la guardia secreta de la ciudad. Los rumores sobre interrogatorios crueles y prisioneros desaparecidos son comunes, y pocos se atreven a preguntar demasiado.",descripcion:"El basti\xF3n est\xE1 oculto entre los callejones m\xE1s oscuros de la ciudad, con una fachada discreta que esconde los horrores que ocurren en su interior. Las habitaciones est\xE1n llenas de instrumentos de tortura y los gritos de los prisioneros se escuchan constantemente.",evento1:"Un prisionero escapa de su celda y corre por los pasillos, antes de ser capturado y arrastrado de vuelta a los gritos.",evento2:"Una figura encapuchada se ve en el patio trasero, observando desde las sombras antes de desaparecer sin dejar rastro.",noticia:"Una lista de nombres ha sido encontrada en un escondite secreto, revelando los nombres de personas importantes implicadas en traiciones y cr\xEDmenes.",visitante:{descripcion:"El esp\xEDa, Alistair, con una apariencia discreta y una mirada aguda.",personalidad:"Es astuto y sigiloso, conocido por su habilidad para obtener informaci\xF3n sin ser detectado.",motivo:"Busca desenmascarar a los traidores y asegurarse de que la informaci\xF3n comprometida no caiga en las manos equivocadas."},habitante:{descripcion:"El inquisidor, Viktor, un hombre delgado con una expresi\xF3n cruel.",personalidad:"Es despiadado y meticuloso, conocido por su habilidad para obtener confesiones y su falta de compasi\xF3n.",motivo:"Supervisa los interrogatorios y las investigaciones, asegur\xE1ndose de que la guardia secreta mantenga su control sobre la ciudad."}},{nombre:"La Fortaleza de los Condenados",historia:"Construida en una isla en medio de un r\xEDo oscuro, esta fortaleza ha sido utilizada como prisi\xF3n para los criminales m\xE1s peligrosos. Se dice que el lugar est\xE1 maldito y que los prisioneros nunca encuentran paz.",descripcion:"La fortaleza est\xE1 rodeada por aguas turbulentas y brumosas. En su interior, las celdas son fr\xEDas y h\xFAmedas, y los gritos de los prisioneros se mezclan con el sonido del agua golpeando los muros.",evento1:"Una tormenta golpea la fortaleza, y los guardias luchan por mantener el control mientras los prisioneros intentan escapar.",evento2:"Una figura espectral es vista caminando por los pasillos, dejando un rastro de humedad y desesperaci\xF3n a su paso.",noticia:"Un grupo de prisioneros ha logrado escapar durante la tormenta, y se teme que puedan estar planeando un ataque para liberar a los dem\xE1s.",visitante:{descripcion:"El cazador de recompensas, Kael, con una armadura desgastada y cicatrices visibles.",personalidad:"Es implacable y determinado, conocido por su habilidad para rastrear a los fugitivos y llevarlos de vuelta con vida o muertos.",motivo:"Busca capturar a los prisioneros fugados y asegurar que la fortaleza no pierda su reputaci\xF3n de ser inexpugnable."},habitante:{descripcion:"El alcaide, Bran, un hombre de aspecto sombr\xEDo con una expresi\xF3n severa.",personalidad:"Es estricto y autoritario, manteniendo el orden en la fortaleza con mano de hierro.",motivo:"Supervisa la fortaleza y se asegura de que los prisioneros no escapen, pero tambi\xE9n guarda un oscuro secreto sobre los fantasmas que acechan el lugar."}},{nombre:"El Cuartel del Terror",historia:"Este cuartel, ubicado en una colina sobre la ciudad, ha sido el lugar de innumerables ejecuciones y torturas. Los guardias son conocidos por su brutalidad, y el lugar emana un aura de terror y desesperaci\xF3n.",descripcion:"El cuartel est\xE1 construido con piedra oscura, y sus muros est\xE1n decorados con s\xEDmbolos de advertencia. En el interior, las celdas est\xE1n llenas de instrumentos de tortura y los pasillos est\xE1n manchados de sangre.",evento1:"Un prisionero es llevado a la plaza de ejecuci\xF3n, y sus gritos de dolor llenan el aire mientras la multitud observa en silencio.",evento2:"Una figura encapuchada es vista merodeando por los pasillos, desapareciendo antes de que los guardias puedan atraparla.",noticia:"Un grupo de rebeldes ha sido capturado y llevado al cuartel, y se teme que sean sometidos a torturas brutales para obtener informaci\xF3n.",visitante:{descripcion:"El verdugo, Morian, con una capucha negra y una mirada fr\xEDa.",personalidad:"Es despiadado y sin remordimientos, conocido por su habilidad para infligir dolor sin piedad.",motivo:"Busca asegurar que los prisioneros reciban su castigo y mantener el orden mediante el miedo."},habitante:{descripcion:"El capit\xE1n de la guardia, Roderic, un hombre robusto con una expresi\xF3n dura.",personalidad:"Es cruel y autoritario, manteniendo el cuartel con mano de hierro y sin mostrar compasi\xF3n.",motivo:"Supervisa las ejecuciones y las torturas, asegur\xE1ndose de que el terror mantenga a la ciudad bajo control."}},{nombre:"El Basti\xF3n de la Noche",historia:"Este cuartel, situado en un antiguo castillo, ha sido el hogar de la guardia nocturna de la ciudad. Los rumores sobre criaturas sobrenaturales y eventos inexplicables son comunes, y pocos se atreven a desafiar la oscuridad que envuelve el lugar.",descripcion:"El castillo est\xE1 envuelto en sombras, con pasillos oscuros y ventanas que apenas dejan entrar la luz. En su interior, las antorchas parpadean d\xE9bilmente y los murmullos llenan el aire.",evento1:"Una criatura monstruosa es vista merodeando por los pasillos, dejando tras de s\xED un rastro de terror.",evento2:"Un guardia desaparece misteriosamente durante su patrulla nocturna, y solo se encuentra su arma abandonada.",noticia:"Un libro de rituales oscuros ha sido encontrado en la biblioteca del castillo, y se teme que pueda estar relacionado con los eventos sobrenaturales.",visitante:{descripcion:"El cazador de monstruos, Viktor, con una armadura ligera y una mirada decidida.",personalidad:"Es valiente y determinado, conocido por su habilidad para enfrentar criaturas sobrenaturales.",motivo:"Busca desentra\xF1ar los misterios del castillo y eliminar cualquier amenaza sobrenatural que pueda acechar en la oscuridad."},habitante:{descripcion:"El comandante de la guardia nocturna, Eirik, un hombre de aspecto severo con una capa oscura.",personalidad:"Es reservado y enigm\xE1tico, conocido por su habilidad para moverse en la oscuridad y su conocimiento de lo sobrenatural.",motivo:"Supervisa la guardia nocturna y busca proteger la ciudad de cualquier amenaza sobrenatural que pueda surgir."}},{nombre:"La Fortaleza de la Angustia",historia:"Este cuartel, situado en una colina oscura, ha sido utilizado como lugar de reclusi\xF3n y castigo para los prisioneros m\xE1s peligrosos. La angustia y la desesperaci\xF3n impregnan el aire, y se dice que el lugar est\xE1 maldito.",descripcion:"La fortaleza est\xE1 construida con piedra negra y rodeada de niebla. En su interior, las celdas son fr\xEDas y h\xFAmedas, y los gritos de los prisioneros se escuchan constantemente.",evento1:"Una figura espectral aparece en el patio de la fortaleza, llenando el aire con un fr\xEDo aterrador.",evento2:"Una niebla espesa comienza a llenar los pasillos, y los prisioneros comienzan a susurrar sobre una maldici\xF3n que se ha desatado.",noticia:"Un artefacto oscuro ha sido descubierto en una de las celdas, y se teme que pueda estar relacionado con la maldici\xF3n de la fortaleza.",visitante:{descripcion:"El exorcista, Father Damien, con una cruz de plata y una expresi\xF3n resuelta.",personalidad:"Es piadoso y valiente, conocido por su habilidad para enfrentarse a lo sobrenatural y liberar almas atormentadas.",motivo:"Busca purificar la fortaleza y liberar a los prisioneros de la maldici\xF3n que parece haber ca\xEDdo sobre el lugar."},habitante:{descripcion:"El carcelero, Thorne, un hombre de aspecto siniestro con una mirada fr\xEDa.",personalidad:"Es despiadado y cruel, conocido por su habilidad para mantener el orden mediante el miedo y el sufrimiento.",motivo:"Supervisa la fortaleza con mano de hierro, pero guarda un oscuro secreto sobre la verdadera naturaleza de la maldici\xF3n."}},{nombre:"El Basti\xF3n de la Crueldad",historia:"Este cuartel, situado en el centro de la ciudad, ha sido conocido por su brutalidad y crueldad. Los guardias son temidos por su falta de compasi\xF3n, y los prisioneros que entran raramente salen con vida.",descripcion:"El basti\xF3n est\xE1 construido con piedra gris y \xE1spera, y en su interior, los pasillos est\xE1n llenos de gritos y susurros de dolor. Las celdas son peque\xF1as y oscuras, y los instrumentos de tortura est\xE1n siempre en uso.",evento1:"Un prisionero es llevado a la c\xE1mara de torturas, y sus gritos de agon\xEDa llenan el aire.",evento2:"Una figura encapuchada es vista merodeando por los pasillos, desapareciendo antes de que los guardias puedan atraparla.",noticia:"Un complot para liberar a los prisioneros ha sido descubierto, y los guardias est\xE1n en alerta m\xE1xima.",visitante:{descripcion:"El inquisidor, Marcus, con una t\xFAnica oscura y una mirada severa.",personalidad:"Es implacable y despiadado, conocido por su habilidad para obtener confesiones y su falta de compasi\xF3n.",motivo:"Busca asegurar que los prisioneros sean castigados y mantener el orden mediante el miedo y la crueldad."},habitante:{descripcion:"El capit\xE1n de la guardia, Ulric, un hombre corpulento con una expresi\xF3n dura.",personalidad:"Es cruel y autoritario, manteniendo el basti\xF3n con mano de hierro y sin mostrar compasi\xF3n.",motivo:"Supervisa las torturas y los castigos, asegur\xE1ndose de que el terror mantenga a los prisioneros bajo control."}}];var r1=[{nombre:"La Mazmorra de los Susurros Oscuros",historia:"Esta antigua mazmorra fue construida sobre un antiguo cementerio celta, donde las sombras y los susurros de los esp\xEDritus perdidos persisten hasta el d\xEDa de hoy.",descripcion:"Los pasillos est\xE1n cubiertos de musgo y las antorchas parpadean con una luz fantasmal. El aire est\xE1 cargado de una energ\xEDa inquietante que eriza la piel.",evento1:"En una c\xE1mara oculta, se escuchan risas mal\xE9volas y el sonido de cadenas arrastr\xE1ndose, indicando la presencia de un esp\xEDritu vengativo.",evento2:"Un pasadizo secreto se revela repentinamente, revelando un antiguo altar donde se realizaban rituales oscuros en honor a un dios olvidado.",noticia:"Los guardias descubren que las cadenas de las celdas se mueven por s\xED solas durante la noche, liberando a criaturas esquel\xE9ticas que acechan en las sombras.",visitante:{descripcion:"El Esp\xEDritu de la Noche, una figura encapuchada con ojos que brillan en la oscuridad y manos fr\xEDas como el hielo.",personalidad:"Puede manipular sombras y causar pesadillas en aquellos que se atreven a entrar en su dominio.",motivo:"Busca venganza por las injusticias cometidas contra \xE9l en vida, atrapado en la mazmorra por la eternidad."},habitante:{descripcion:"El carcelero sombr\xEDo, Guardi\xE1n Darius, un hombre con ojos fr\xEDos y una llave pesada.",personalidad:"Es reservado y vigilante, comprometido a mantener el orden y la seguridad en la mazmorra secreta.",motivo:"Desea asegurarse de que los prisioneros permanezcan bajo llave y que los secretos ocultos en las profundidades de la mazmorra nunca salgan a la luz."}},{nombre:"El Laberinto de las Sombras Profundas",historia:"Este laberinto subterr\xE1neo es conocido por sus corredores que cambian constantemente y sus trampas mortales, dise\xF1adas para atrapar a los intrusos en la oscuridad eterna.",descripcion:"Las paredes est\xE1n cubiertas de inscripciones r\xFAnicas que brillan d\xE9bilmente en la penumbra, revelando advertencias y profec\xEDas de un destino sombr\xEDo para quienes se aventuran aqu\xED.",evento1:"Una niebla negra se desliza por los pasillos del laberinto, ocultando la presencia de los acechantes espectros que esperan a los desprevenidos.",evento2:"Unas estatuas antiguas cobran vida repentinamente, bloqueando los caminos de escape y obligando a los exploradores a enfrentarse a su destino en la oscuridad.",noticia:"Se descubre un cuarto secreto lleno de tesoros encantados, pero cada riqueza tiene un precio mortal que los intrusos deben pagar.",visitante:{descripcion:"El Cazador Espectral, un espectro alto y esquel\xE9tico armado con una lanza en llamas y ojos vac\xEDos que brillan con una malicia ancestral.",personalidad:"Puede atravesar paredes y proyectar ilusiones terror\xEDficas para confundir y aterrorizar a sus presas.",motivo:"Caza intrusos para alimentar su propia energ\xEDa oscura y mantener el equilibrio entre el mundo de los vivos y los muertos."},habitante:{descripcion:"El Sabio Anciano, un druida celta que ha estudiado las energ\xEDas del laberinto durante siglos.",personalidad:"Es sabio y enigm\xE1tico, guiando a los aventureros perdidos con enigmas y consejos cr\xEDpticos.",motivo:"Guarda los secretos ancestrales del laberinto y busca proteger su magia y conocimiento de los codiciosos y los imprudentes."}},{nombre:"La Cripta de los Cuervos",historia:"Una cripta ancestral dedicada a los dioses del inframundo, donde los cuervos negros guardan celosamente los secretos enterrados bajo tierra.",descripcion:"El aire est\xE1 cargado de un fr\xEDo mortal que corta los huesos, y el olor a tierra h\xFAmeda y plumas descompuestas llena los pasillos estrechos y oscuros.",evento1:"Los cuervos negros vuelan en c\xEDrculos alrededor de los intrusos, emitiendo graznidos que parecen profetizar la muerte inminente.",evento2:"Una estatua de un dios olvidado cobra vida y ataca a los invasores con una fuerza sobrenatural, protegiendo los secretos sagrados de la cripta.",noticia:"Se descubre un pasadizo secreto que conduce a un mundo subterr\xE1neo de vastos tesoros, pero tambi\xE9n a la guarida de un drag\xF3n durmiente.",visitante:{descripcion:"El Cuervo de la Oscuridad, un cuervo gigante con ojos brillantes como carbones ardientes y un pico afilado como una guada\xF1a.",personalidad:"Puede manipular las sombras para cegar a sus enemigos y convocar tormentas de plumas afiladas como cuchillas.",motivo:"Guarda la cripta como un guardi\xE1n de los dioses del inframundo, asegur\xE1ndose de que los intrusos paguen el precio por profanar su santuario."},habitante:{descripcion:"El Sacerdote de los Cuervos, un cham\xE1n celta con una capa de plumas negras y ojos que reflejan la sabidur\xEDa antigua.",personalidad:"Es misterioso y ritualista, realizando ceremonias de sacrificio y ofrenda para mantener la paz con los esp\xEDritus de la cripta.",motivo:"Guarda los secretos oscuros de los dioses del inframundo y busca mantener el equilibrio entre la vida y la muerte en el reino de los esp\xEDritus."}},{nombre:"El Laberinto de la Sombra Errante",historia:"Un laberinto de pasillos cambiantes y sombras mutantes, donde una entidad maligna llamada la Sombra Errante acecha a aquellos que buscan el camino hacia la libertad.",descripcion:"Las paredes est\xE1n cubiertas de espejos antiguos que reflejan im\xE1genes distorsionadas y susurran mentiras y verdades entrelazadas que confunden a los exploradores.",evento1:"Las sombras cobran vida y se arrastran por los pasillos, atrapando a los intrusos en ilusiones mortales que los llevan hacia callejones sin salida y trampas letales.",evento2:"Una puerta secreta se abre hacia un pasillo que conduce a un mundo paralelo de pesadillas, donde la Sombra Errante reina suprema sobre una realidad distorsionada.",noticia:"Se descubre un antiguo manuscrito encantado que revela el verdadero origen de la Sombra Errante y la forma de sellarla para siempre en el laberinto.",visitante:{descripcion:"La Sombra Errante, una entidad oscura sin forma definida pero con ojos brillantes y una risa que hiela la sangre.",personalidad:"Puede manipular las sombras para crear ilusiones y formas terror\xEDficas que atormentan a los intrusos hasta la locura.",motivo:"Busca alimentarse de la desesperaci\xF3n y el miedo de los que se pierden en el laberinto, absorbiendo su energ\xEDa vital para fortalecer su dominio."},habitante:{descripcion:"El Ermita\xF1o de los Espejos, un hechicero solitario que ha estudiado los secretos del laberinto durante siglos.",personalidad:"Es enigm\xE1tico y sabio, ofreciendo consejos y gu\xEDas en forma de acertijos y reflexiones para aquellos que buscan escapar de la Sombra Errante.",motivo:"Guarda el conocimiento ancestral sobre el laberinto y busca proteger a los inocentes de caer en las garras de la Sombra Errante."}},{nombre:"La Prisi\xF3n de las Almas Errantes",historia:"Una prisi\xF3n olvidada donde las almas de los condenados contin\xFAan vagando en busca de redenci\xF3n, pero encuentran solo oscuridad y desesperaci\xF3n en sus paredes.",descripcion:"Los pasillos est\xE1n llenos de gemidos y lamentos de los esp\xEDritus atormentados que buscan la paz eterna pero solo encuentran la angustia eterna.",evento1:"Los fantasmas de los prisioneros ejecutados aparecen repentinamente, atrapando a los intrusos en visiones de sus \xFAltimos momentos antes de la muerte.",evento2:"Una puerta sellada con s\xEDmbolos antiguos se abre de repente, revelando una celda donde un alma vengativa espera la llegada de aquellos que buscan la verdad.",noticia:"Se descubre un diario perdido de un carcelero que narra los horrores que presenci\xF3 y cometi\xF3 en la prisi\xF3n, desatando una maldici\xF3n sobre aquellos que lo leen.",visitante:{descripcion:"El Espectro del Verdugo, una figura encapuchada con una guillotina en llamas y ojos vac\xEDos que brillan con un odio eterno.",personalidad:"Puede invocar tormentas de cuchillas fantasmales y manipular las cadenas de la prisi\xF3n para atrapar a sus presas.",motivo:"Busca venganza por las injusticias cometidas contra los prisioneros durante su vida mortal, perpetuando su papel como verdugo en la muerte."},habitante:{descripcion:"El Esp\xEDritu del Carcelero, una sombra oscura con cadenas arrastrando detr\xE1s de \xE9l y una llave oxidada en la mano.",personalidad:"Es sombr\xEDo y taciturno, vigilando las almas perdidas con un pesar eterno y buscando redenci\xF3n por sus pecados pasados.",motivo:"Guarda la prisi\xF3n como un guardi\xE1n penitente, guiando a los intrusos hacia la verdad oculta detr\xE1s de los muros de la desesperaci\xF3n."}},{nombre:"El Laberinto de la Roca Negra",historia:"Un laberinto tallado en las profundidades de una monta\xF1a sagrada, donde los esp\xEDritus de los antiguos druidas celtas acechan a aquellos que buscan profanar su santuario.",descripcion:"Las paredes est\xE1n cubiertas de inscripciones r\xFAnicas que brillan d\xE9bilmente con una luz m\xE1gica, revelando advertencias y profec\xEDas de un destino oscuro para los intrusos.",evento1:"Las estatuas de los antiguos druidas cobran vida y conjuran tormentas de piedra para aplastar a los invasores que intentan desentra\xF1ar los secretos de la monta\xF1a.",evento2:"Un camino secreto se abre hacia una c\xE1mara donde un \xE1rbol antiguo, conocido como el \xC1rbol de la Roca Negra, susurra profec\xEDas de un futuro oscuro para el mundo exterior.",noticia:"Se descubre un tesoro sagrado protegido por guardianes elementales, pero cada riqueza tiene un precio mortal que los intrusos deben pagar para obtenerla.",visitante:{descripcion:"El Esp\xEDritu del Druida Vengativo, un anciano con una barba larga y ojos brillantes como esmeraldas, con el poder de controlar la tierra y las plantas.",personalidad:"Puede invocar ra\xEDces retorcidas y rocas afiladas para atrapar y aplastar a sus enemigos, defendiendo la monta\xF1a sagrada con ferocidad.",motivo:"Busca proteger los secretos ancestrales de los druidas y la magia antigua que reside en la monta\xF1a, impidiendo que los intrusos profanen su santuario."},habitante:{descripcion:"El Anciano Sabio de la Roca Negra, un druida anciano envuelto en una capa de musgo y con una vara de roble en la mano.",personalidad:"Es sabio y tranquilo, ofreciendo consejos y profec\xEDas a aquellos que buscan entender el equilibrio de la naturaleza y el cosmos.",motivo:"Guarda los secretos sagrados de la monta\xF1a y busca mantener la armon\xEDa entre los mundos natural y espiritual, guiando a los intrusos hacia el camino de la sabidur\xEDa."}},{nombre:"La Guarida de la Serpiente de Fuego",historia:"Una mazmorra subterr\xE1nea donde una antigua serpiente de fuego, nacida del aliento de los volcanes antiguos, yace dormida pero no muerta, protegiendo un tesoro inimaginable.",descripcion:"El aire est\xE1 cargado con un calor abrasador y el olor a azufre, mientras las llamas azules danzan en las paredes de piedra negra, reflejando el brillo de los ojos de la serpiente.",evento1:"Los t\xFAneles se llenan repentinamente con lava ardiente, forzando a los intrusos a correr por sus vidas mientras la serpiente de fuego despierta de su sue\xF1o centenario.",evento2:"Una cascada de oro fundido cae desde el techo de la c\xE1mara principal, revelando un tesoro resplandeciente que atrae a los codiciosos pero tambi\xE9n a la vigilancia mortal de la serpiente.",noticia:"Se descubre un portal antiguo que lleva a un reino de fuego y lava, donde las almas perdidas de los valientes se enfrentan a juicios de fuego antes de alcanzar la libertad eterna.",visitante:{descripcion:"La Serpiente de Fuego, una criatura colosal con escamas resplandecientes como el cobre y ojos que arden con fuego eterno.",personalidad:"Puede lanzar bolas de fuego y envolver a sus enemigos en llamas azules que queman incluso las almas m\xE1s valientes.",motivo:"Protege el tesoro ancestral que yace en la mazmorra, defendiendo su dominio con ferocidad y sin piedad contra los intrusos."},habitante:{descripcion:"El Forjador de las Llamas, un enano legendario conocido por su habilidad para crear armas y armaduras de fuego y magma.",personalidad:"Es testarudo y orgulloso, desafiando a los intrusos a pruebas de fuego para demostrar su val\xEDa antes de permitirles el acceso al tesoro.",motivo:"Guarda el tesoro de la serpiente de fuego como un tesoro de su arte y su legado, asegurando que solo aquellos dignos puedan reclamar las riquezas ocultas."}},{nombre:"El Laberinto de la Niebla Eterna",historia:"Un laberinto oculto en las brumas m\xEDsticas de una isla encantada, donde las almas perdidas de los marineros naufragados vagan sin rumbo, esperando encontrar paz en la niebla eterna.",descripcion:"La niebla espesa cubre los caminos estrechos y los muros altos, distorsionando la percepci\xF3n del tiempo y del espacio mientras susurra advertencias y promesas a los perdidos.",evento1:"Los fantasmas de los marineros ca\xEDdos aparecen repentinamente, guiando a los intrusos hacia trampas mortales o hacia pasajes seguros, dependiendo de su juicio caprichoso.",evento2:"Una puerta oculta se abre hacia un faro antiguo, donde una llama perpetua gu\xEDa a los perdidos hacia el descanso final o hacia la perdici\xF3n eterna en el abismo de la niebla.",noticia:"Se descubre un naufragio antiguo lleno de tesoros olvidados y reliquias malditas, atrayendo a los codiciosos y a los valientes por igual hacia el abrazo mortal de la niebla.",visitante:{descripcion:"El Capit\xE1n Fantasma, un marinero espectral con un sombrero emplumado y un sable oxidado, con ojos brillantes como faros perdidos en la niebla.",personalidad:"Puede controlar la niebla y convocar tormentas marinas para proteger la isla encantada y sus tesoros olvidados.",motivo:"Guarda el laberinto de la niebla eterna como un vigilante de las almas perdidas, ofreciendo salvaci\xF3n o condena dependiendo de la pureza del coraz\xF3n de los intrusos."},habitante:{descripcion:"El Ermita\xF1o de la Niebla, un viejo navegante con ropas harapientas y un faro encendido en su mano, siempre buscando la luz en la oscuridad de la niebla.",personalidad:"Es solitario y melanc\xF3lico, ofreciendo gu\xEDas y advertencias a aquellos que buscan comprender los misterios de la isla encantada y encontrar la verdad detr\xE1s de la niebla eterna.",motivo:"Guarda los secretos de la isla encantada y busca encontrar paz para las almas perdidas que han sido arrastradas por las olas y la maldici\xF3n de la niebla."}},{nombre:"El Laberinto de los Espejismos",historia:"Un laberinto m\xE1gico creado por un hechicero celta perdido en su propio ego, donde las ilusiones y los espejismos enga\xF1an y desorientan a los intrusos en un torbellino de confusi\xF3n.",descripcion:"Los pasillos est\xE1n llenos de espejos que reflejan im\xE1genes distorsionadas de los intrusos y sus miedos m\xE1s profundos, mientras las ilusiones cambian la realidad a su antojo.",evento1:"Los espejos cobran vida y atrapan a los intrusos en reflejos retorcidos de s\xED mismos, oblig\xE1ndolos a enfrentar sus peores temores antes de liberarlos o condenarlos a una prisi\xF3n de cristal.",evento2:"Una puerta secreta se abre hacia una dimensi\xF3n alternativa, donde las leyes de la f\xEDsica y la l\xF3gica se deshacen en el laberinto de los espejismos, dejando a los exploradores perdidos en un mar de reflejos sin fin.",noticia:"Se descubre un espejo antiguo que contiene un portal hacia el pasado y el futuro, permitiendo a los intrusos ver sus propios destinos antes de decidir si buscar la verdad o la ilusi\xF3n eterna.",visitante:{descripcion:"El Ilusionista Encantado, un hechicero con una capa de seda y ojos que brillan como diamantes, con el poder de crear ilusiones y espejismos que confunden y desorientan a sus enemigos.",personalidad:"Puede controlar los espejos y las ilusiones, cambiando la realidad a su antojo para proteger su laberinto de los intrusos y aquellos que buscan descubrir sus secretos.",motivo:"Guarda el laberinto de los espejismos como un juguete de su ego y un monumento a su poder, desafiando a los intrusos a enfrentar sus peores temores antes de permitirles escapar o perderse en la oscuridad de los reflejos."},habitante:{descripcion:"El Espejista Solitario, un reflejo distorsionado del propio hechicero, atrapado en el laberinto de los espejismos y buscando escapar de su prisi\xF3n de cristal.",personalidad:"Es enigm\xE1tico y desorientado, ofreciendo pistas y verdades ocultas a aquellos que buscan encontrar su camino hacia la libertad o la verdad en el laberinto de los espejismos.",motivo:"Guarda los secretos del laberinto de los espejismos y busca redimirse de sus pecados pasados, esperando encontrar la paz y la libertad en el reflejo de la verdad."}},{nombre:"La C\xE1mara de las Pesadillas",historia:"Una c\xE1mara subterr\xE1nea creada por un brujo celta que ha atrapado las pesadillas de los durmientes en las paredes de piedra, donde los horrores m\xE1s oscuros esperan a los intrusos.",descripcion:"El aire est\xE1 lleno de susurros inquietantes y el olor a sangre fresca, mientras las sombras se retuercen y se convierten en formas de pesadillas que persiguen a los intrusos en los pasillos oscuros.",evento1:"Las paredes de la c\xE1mara cobran vida y proyectan las pesadillas de los durmientes atrapados, arrastrando a los intrusos hacia mundos de terror donde cada paso puede ser su \xFAltimo.",evento2:"Una puerta secreta se abre hacia el reino de las sombras, donde un monstruo antiguo conocido como Devorador de Sue\xF1os acecha en la oscuridad, esperando alimentarse de las almas perdidas.",noticia:"Se descubre un antiguo libro de hechizos maldito que contiene la clave para liberar las pesadillas atrapadas y desatar un ej\xE9rcito de terrores en el mundo de los vivos.",visitante:{descripcion:"El Devorador de Sue\xF1os, una criatura con tent\xE1culos retorcidos y ojos vac\xEDos que brillan con una luz enfermiza, con el poder de devorar las almas atrapadas en las pesadillas.",personalidad:"Puede manipular las sombras y proyectar ilusiones terror\xEDficas que conducen a los intrusos a la locura antes de consumir sus almas.",motivo:"Guarda la c\xE1mara de las pesadillas como un carcelero eterno de las almas perdidas, buscando alimentarse del miedo y la desesperaci\xF3n de aquellos que se aventuran en su dominio."},habitante:{descripcion:"El Hechicero de las Sombras, un brujo celta con una capa de cuervos y ojos que brillan con una luz oscura, atrapado en la c\xE1mara de las pesadillas.",personalidad:"Es siniestro y astuto, ofreciendo tratos y enga\xF1os a aquellos que buscan controlar el poder de las pesadillas y liberar su poder sobre el mundo de los vivos.",motivo:"Guarda los secretos de las pesadillas atrapadas y busca desatar el terror en el mundo de los vivos, deseando controlar el poder oscuro de los sue\xF1os y las sombras para su propio beneficio."}},{nombre:"La Caverna de los Esp\xEDritus Perdidos",historia:"Una caverna subterr\xE1nea donde los esp\xEDritus de los guerreros ca\xEDdos en batallas antiguas a\xFAn buscan venganza contra aquellos que osaron profanar su tierra sagrada.",descripcion:"Las paredes est\xE1n cubiertas de antorchas ardientes y s\xEDmbolos de guerra, mientras el eco de las batallas pasadas resuena en los pasillos oscuros, llenos de sombras inquietantes.",evento1:"Los esp\xEDritus de los guerreros ca\xEDdos aparecen repentinamente, manifest\xE1ndose como sombras retorcidas y espectros en armaduras, atacando a los intrusos con furia eterna.",evento2:"Una estatua antigua se transforma en un guardi\xE1n de piedra, desafiando a los invasores a un duelo de espadas y habilidades antes de permitirles avanzar o condenarlos a una prisi\xF3n de huesos.",noticia:"Se descubre un arsenal antiguo lleno de armas m\xE1gicas y reliquias de batallas pasadas, atrayendo a los valientes y a los codiciosos hacia el peligro mortal de la venganza de los esp\xEDritus perdidos.",visitante:{descripcion:"El Guerrero Fantasma, un esp\xEDritu encapuchado con una espada rota y ojos vac\xEDos que brillan con la furia de mil batallas perdidas.",personalidad:"Puede convocar a sus antiguos compa\xF1eros de armas para formar un ej\xE9rcito de sombras que luchan junto a \xE9l, defendiendo la caverna de los esp\xEDritus perdidos con ferocidad.",motivo:"Busca venganza contra aquellos que profanaron su tierra sagrada y se atrevieron a desafiar el honor y la memoria de los guerreros ca\xEDdos."},habitante:{descripcion:"El Cham\xE1n de la Caverna, un anciano guerrero con una capa de piel de lobo y un bast\xF3n tallado en madera de roble, con los ojos envejecidos pero llenos de sabidur\xEDa.",personalidad:"Es valiente y orgulloso, desafiando a los intrusos a demostrar su valor y su honor antes de guiarlos hacia la salida de la caverna o condenarlos al destino de los que se atrevieron a profanar la tierra sagrada.",motivo:"Guarda la caverna de los esp\xEDritus perdidos como un protector de los esp\xEDritus de los guerreros ca\xEDdos, buscando venganza y justicia contra aquellos que osaron desafiar su honor y memoria."}},{nombre:"El Laberinto del Tiempo Perdido",historia:"Un laberinto m\xEDstico donde los pasillos cambian y se reconfiguran constantemente, atrapando a los intrusos en un torbellino de tiempo y espacio que desaf\xEDa la l\xF3gica y la percepci\xF3n.",descripcion:"Las paredes est\xE1n cubiertas de relojes antiguos que giran al rev\xE9s y susurran el tic-tac de una cuenta regresiva hacia la eternidad, mientras el tiempo se distorsiona en el laberinto sin fin.",evento1:"Las puertas de los pasillos cambian de lugar y direcci\xF3n, atrapando a los intrusos en un bucle temporal donde cada elecci\xF3n puede ser un paso hacia la libertad o la condenaci\xF3n eterna.",evento2:"Un reloj antiguo se abre como un portal hacia el pasado y el futuro, permitiendo a los intrusos ver sus propios destinos antes de enfrentar la elecci\xF3n de buscar la verdad o perderse en el torbellino del tiempo perdido.",noticia:"Se descubre un artefacto m\xEDstico que puede alterar el flujo del tiempo, atrayendo a los intr\xE9pidos y a los locos por igual hacia el abrazo mortal de un destino incierto.",visitante:{descripcion:"El Guardi\xE1n del Tiempo, un ser encapuchado con una guada\xF1a de reloj y ojos vac\xEDos que brillan con la eternidad, con el poder de manipular el tiempo y el espacio dentro del laberinto.",personalidad:"Puede cambiar la direcci\xF3n de los pasillos y alterar el flujo del tiempo, condenando a los intrusos a una prisi\xF3n temporal donde cada segundo es una eternidad.",motivo:"Guarda el laberinto del tiempo perdido como un carcelero eterno, atrapando a los intrusos en un bucle de tiempo y espacio para proteger los secretos de la percepci\xF3n y el destino."},habitante:{descripcion:"El Cronista del Tiempo, una figura encapuchada con una pluma de cuervo y ojos brillantes como estrellas, escribiendo los eventos del pasado, presente y futuro en los muros del laberinto.",personalidad:"Es misterioso y contemplativo, ofreciendo profec\xEDas y advertencias a aquellos que buscan desentra\xF1ar los secretos de la percepci\xF3n y el destino.",motivo:"Guarda los secretos m\xEDsticos del tiempo perdido y busca mantener el equilibrio entre el pasado, el presente y el futuro, guiando a los intrusos hacia la verdad o la perdici\xF3n del laberinto."}}];var i1=(()=>{let e=class e{constructor(){this.mercadoList=XR,this.posadaList=t1,this.torreList=ZR,this.monasterioList=e1,this.cuartelesList=n1,this.mazeList=r1}seleccionarEscenario(r){let i,s=[];switch(r){case"church":this.scenarioSelected=this.monasterioList[Math.floor(Math.random()*this.monasterioList.length)],i=this.monasterioList;break;case"maze":this.scenarioSelected=this.mazeList[Math.floor(Math.random()*this.mazeList.length)],i=this.mazeList;break;case"town":this.scenarioSelected=this.cuartelesList[Math.floor(Math.random()*this.cuartelesList.length)],i=this.cuartelesList;break;case"tower":this.scenarioSelected=this.torreList[Math.floor(Math.random()*this.torreList.length)],i=this.torreList;break;case"market":this.scenarioSelected=this.mercadoList[Math.floor(Math.random()*this.mercadoList.length)],i=this.mercadoList;break;case"inn":i=this.posadaList,this.scenarioSelected=this.posadaList[Math.floor(Math.random()*this.posadaList.length)];break;default:i=this.mazeList,this.scenarioSelected=this.mazeList[Math.floor(Math.random()*this.mazeList.length)]}this.randomize(i)}randomize(r){this.scenarioSelected={nombre:r[Math.floor(Math.random()*r.length)].nombre,historia:r[Math.floor(Math.random()*r.length)].historia,descripcion:r[Math.floor(Math.random()*r.length)].descripcion,evento1:r[Math.floor(Math.random()*r.length)].evento1,evento2:r[Math.floor(Math.random()*r.length)].evento2,noticia:r[Math.floor(Math.random()*r.length)].noticia,visitante:{descripcion:r[Math.floor(Math.random()*r.length)].visitante.descripcion,personalidad:r[Math.floor(Math.random()*r.length)].visitante.personalidad,motivo:r[Math.floor(Math.random()*r.length)].visitante.motivo},habitante:{descripcion:r[Math.floor(Math.random()*r.length)].habitante.descripcion,personalidad:r[Math.floor(Math.random()*r.length)].habitante.personalidad,motivo:r[Math.floor(Math.random()*r.length)].habitante.motivo}}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var s1=(()=>{let e=class e{constructor(r){this.escenarioService=r,this.randint=(Math.floor(Math.random()*3)+1).toString()}ngOnChanges(r){this.randint=(Math.floor(Math.random()*3)+1).toString(),r.escenario?(this.escenarioService.seleccionarEscenario(this.escenario),this.place=this.escenarioService.scenarioSelected):console.log("No hay selecci\xF3n"),console.log(this.randint)}};e.\u0275fac=function(i){return new(i||e)(Q(i1))},e.\u0275cmp=ke({type:e,selectors:[["app-scenario-detail"]],hostAttrs:[1,"details"],inputs:{escenario:"escenario"},standalone:!0,features:[Fn,Oe],decls:44,vars:15,consts:[["appHideDetails",""],[1,"item-info"],[1,"img-details",3,"src"],[1,"ocultar"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"div",1),Ee(2,"img",2),x(3,"h3"),N(4),M(),x(5,"p"),N(6),M(),x(7,"p"),N(8),M(),x(9,"button"),N(10," Ampliar detalles "),M()(),x(11,"div",3)(12,"div",1)(13,"h4"),N(14," Evento 1 "),M(),x(15,"p"),N(16),M(),x(17,"h4"),N(18," Evento 2 "),M(),x(19,"p"),N(20),M()(),x(21,"div",1)(22,"h4"),N(23," Una noticia inesperada "),M(),x(24,"p"),N(25),M()(),x(26,"div",1)(27,"h4"),N(28,"El visitante"),M(),x(29,"p"),N(30),M(),x(31,"p"),N(32),M(),x(33,"p"),N(34),M()(),x(35,"div",1)(36,"h4"),N(37,"Una persona peculiar..."),M(),x(38,"p"),N(39),M(),x(40,"p"),N(41),M(),x(42,"p"),N(43),M()()()()),i&2&&(L(2),oy("src","img/gallery-images/medieval/medieval-",s.escenario,"-",s.randint,".png",lc),L(2),de("",s.place==null?null:s.place.nombre," "),L(2),de("",s.place==null?null:s.place.historia," "),L(2),de("",s.place==null?null:s.place.descripcion," "),L(8),de("",s.place==null?null:s.place.evento1," "),L(4),de("",s.place==null?null:s.place.evento2," "),L(5),de("",s.place==null?null:s.place.noticia," "),L(5),de("",s.place==null||s.place.visitante==null?null:s.place.visitante.descripcion," "),L(2),de("",s.place==null||s.place.visitante==null?null:s.place.visitante.personalidad," "),L(2),de("",s.place==null||s.place.visitante==null?null:s.place.visitante.motivo," "),L(5),de("",s.place==null||s.place.habitante==null?null:s.place.habitante.descripcion," "),L(2),de("",s.place==null||s.place.habitante==null?null:s.place.habitante.personalidad," "),L(2),de("",s.place==null||s.place.habitante==null?null:s.place.habitante.motivo," "))},dependencies:[va],styles:['[_nghost-%COMP%]{padding-top:30px;display:block}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:#333;line-height:1.2}h3[_ngcontent-%COMP%]{margin-bottom:20px}h4[_ngcontent-%COMP%]{margin:20px 0;text-transform:uppercase;color:#666}p[_ngcontent-%COMP%]{color:#666;margin-bottom:10px}h3[_ngcontent-%COMP%]:after, h4[_ngcontent-%COMP%]:after{content:"";display:block;width:50px;height:2px;background:#333;margin:10px 0}h4[_ngcontent-%COMP%]:hover{color:#333;cursor:pointer}.img-details[_ngcontent-%COMP%]{display:inline;float:right;max-width:50%;border:5px groove rgb(101,99,99);border-radius:10px;margin:30px}.item-info[_ngcontent-%COMP%]{background-color:#dbd8cd;font-weight:100;border:2px inset rgb(122,117,102);font-style:italic;color:#000;padding:10px 10%;align-items:center;gap:10px;border-radius:5px;margin:10px;display:block}.ocultar[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .5s ease-in-out}.mostrar[_ngcontent-%COMP%]{max-height:5000px}p[_ngcontent-%COMP%]:hover{color:#333;cursor:pointer}@media (max-width: 600px){.img-details[_ngcontent-%COMP%]{display:block;float:none;max-width:100%}}']});let t=e;return t})();var o1=(()=>{let e=class e{transform(r){return r.charAt(0).toLowerCase()+r.slice(1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=wg({name:"lowercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var a1=[{nombre:"Eldoria",descripcion:"Eldoria es una majestuosa ciudad amurallada, situada en la cima de una colina y rodeada por densos bosques. Sus altas torres y castillos destacan en el horizonte.",historia:"Fundada hace m\xE1s de mil a\xF1os por el rey Eldor el Grande, Eldoria ha sido un basti\xF3n de poder y cultura. La ciudad ha resistido numerosas invasiones gracias a sus murallas impenetrables.",economia:"Actualmente, Eldoria prospera gracias al comercio de joyas y especias. Sus mercados son famosos en toda la regi\xF3n, atrayendo mercaderes de tierras lejanas.",antiguedad:"Mil a\xF1os",clases_sociales:"La nobleza vive en el distrito del castillo, mientras que los comerciantes y artesanos ocupan la ciudad baja. Los campesinos y sirvientes residen en las afueras."},{nombre:"Drakenford",descripcion:"Drakenford es una ciudad portuaria, conocida por sus canales y puentes de piedra. Las gaviotas y los barcos pesqueros son una vista com\xFAn en sus muelles.",historia:"Originalmente un peque\xF1o asentamiento de pescadores, Drakenford creci\xF3 hasta convertirse en un importante puerto comercial durante la Edad Media.",economia:"La ciudad depende del comercio mar\xEDtimo y la pesca. Las exportaciones principales son pescado salado y mariscos.",antiguedad:"Quinientos a\xF1os",clases_sociales:"La \xE9lite mercante vive en mansiones junto a los canales, mientras que los pescadores y obreros portuarios residen en barrios m\xE1s modestos cerca del puerto."},{nombre:"Ravenhold",descripcion:"Ravenhold es una ciudad fortaleza enclavada en un valle rocoso. Sus murallas y torres de vigilancia la protegen de invasores.",historia:"Construida como una fortaleza militar hace siglos, Ravenhold ha sido el centro de numerosas batallas y conflictos.",economia:"Principalmente militar, con una econom\xEDa basada en la fabricaci\xF3n de armas y armaduras. Tambi\xE9n tiene granjas y pastizales que proporcionan alimentos a la guarnici\xF3n.",antiguedad:"Ochocientos a\xF1os",clases_sociales:"La guarnici\xF3n militar y los nobles guerreros dominan la ciudad, mientras que los herreros y campesinos forman la base de la sociedad."},{nombre:"Valkoria",descripcion:"Valkoria se asienta en una llanura f\xE9rtil, con amplias calles adoquinadas y edificios de piedra blanca. La ciudad es famosa por sus jardines y fuentes.",historia:"Fundada por una reina visionaria, Valkoria se desarroll\xF3 r\xE1pidamente gracias a su ubicaci\xF3n estrat\xE9gica en rutas comerciales.",economia:"Agricultura y comercio. Los campos circundantes producen abundantes cosechas que son exportadas a otras regiones.",antiguedad:"Setecientos a\xF1os",clases_sociales:"La realeza y la nobleza viven en palacios, los comerciantes en casas c\xF3modas, y los agricultores en aldeas cercanas."},{nombre:"Stormhaven",descripcion:"Stormhaven es una ciudad costera conocida por sus tormentas frecuentes y su robusta flota de barcos de guerra.",historia:"Fundada como un puerto militar, Stormhaven ha defendido la costa de numerosos ataques piratas y enemigos.",economia:"La construcci\xF3n naval y el comercio mar\xEDtimo son las principales fuentes de ingreso. La ciudad tambi\xE9n se beneficia de la pesca.",antiguedad:"Seiscientos a\xF1os",clases_sociales:"Los almirantes y oficiales navales viven en casas se\xF1oriales, los marineros y pescadores en caba\xF1as m\xE1s humildes."},{nombre:"Silverwood",descripcion:"Silverwood es una ciudad enclavada en un denso bosque de \xE1rboles plateados, conocida por su magia y sus escuelas de hechicer\xEDa.",historia:"Fundada por magos exiliados, Silverwood se ha convertido en un refugio para aquellos que practican las artes arcanas.",economia:"La econom\xEDa se basa en la venta de artefactos m\xE1gicos y pociones, as\xED como en el turismo de aquellos que buscan conocimiento arcano.",antiguedad:"Quinientos cincuenta a\xF1os",clases_sociales:"Los magos y hechiceros forman la clase alta, mientras que los artesanos y comerciantes ocupan la clase media. Los sirvientes y campesinos son la clase baja."},{nombre:"Ironpeak",descripcion:"Ironpeak es una ciudad minera situada en las monta\xF1as. Sus minas de hierro y oro son conocidas en toda la regi\xF3n.",historia:"Fundada por mineros y herreros, Ironpeak ha sido una fuente constante de metales preciosos y minerales.",economia:"Miner\xEDa y forja. La ciudad produce armas, armaduras y joyas de alta calidad.",antiguedad:"Setecientos cincuenta a\xF1os",clases_sociales:"Los propietarios de minas y los maestros herreros forman la \xE9lite, mientras que los mineros y artesanos constituyen la mayor parte de la poblaci\xF3n."},{nombre:"Greenshire",descripcion:"Greenshire es una ciudad agr\xEDcola rodeada de vastos campos de trigo y cebada. Sus molinos de viento son un s\xEDmbolo distintivo.",historia:"Establecida como un asentamiento agr\xEDcola, Greenshire ha crecido lentamente pero de manera constante, convirti\xE9ndose en el granero de la regi\xF3n.",economia:"Agricultura y ganader\xEDa. Produce gran cantidad de cereales y ganado.",antiguedad:"Cuatrocientos a\xF1os",clases_sociales:"Los terratenientes viven en grandes casas de campo, mientras que los granjeros y pastores residen en caba\xF1as esparcidas por los campos."},{nombre:"Shadowfell",descripcion:"Shadowfell es una ciudad oscura y misteriosa, ubicada en una regi\xF3n sombr\xEDa y cubierta de niebla. Sus torres g\xF3ticas y calles estrechas crean una atm\xF3sfera inquietante.",historia:"Originalmente un refugio para aquellos rechazados por la sociedad, Shadowfell ha evolucionado en una ciudad independiente con su propia cultura y leyes.",economia:"La econom\xEDa es clandestina, basada en el comercio de bienes robados y el contrabando. Tambi\xE9n hay una floreciente industria de magia oscura.",antiguedad:"Seiscientos a\xF1os",clases_sociales:"Los l\xEDderes de gremios oscuros y hechiceros ocupan la \xE9lite, mientras que los ladrones y mercenarios forman la clase trabajadora."},{nombre:"Whitecastle",descripcion:"Whitecastle es una ciudad construida alrededor de un impresionante castillo de m\xE1rmol blanco. Sus calles son amplias y limpias, y la ciudad es conocida por su orden y justicia.",historia:"Fundada por un rey justo y sabio, Whitecastle se ha mantenido como un centro de justicia y gobierno durante siglos.",economia:"Gobierno y administraci\xF3n, as\xED como turismo debido a su castillo y su historia.",antiguedad:"Ochocientos cincuenta a\xF1os",clases_sociales:"La realeza y los nobles viven en el castillo y sus alrededores, mientras que los bur\xF3cratas y comerciantes residen en la ciudad baja. Los campesinos y sirvientes viven en los suburbios."}];var c1=[{detonante:"Alguien grita una noticia impactante.",descripcion:"Un mensajero corre gritando sobre un ataque reciente a una aldea cercana. La gente se arremolina a su alrededor, tratando de escuchar m\xE1s detalles mientras el p\xE1nico comienza a propagarse. El mensajero, visiblemente agotado, contin\xFAa describiendo la devastaci\xF3n y las llamas que a\xFAn arden."},{detonante:"Encontr\xE1is un cartel clavado.",descripcion:"Un cartel anuncia una recompensa para quien recupere una reliquia sagrada robada del templo. El cartel describe la reliquia como un antiguo artefacto de inmenso valor hist\xF3rico y espiritual. Se sospecha que los ladrones son miembros de una banda infame que se esconde en las colinas cercanas."},{detonante:"Una figura encapuchada entrega un mensaje encriptado.",descripcion:"Un desconocido encapuchado entrega un mensaje cifrado que debe ser descifrado para entender su importancia. La figura se desvanece en la multitud antes de que se pueda hacer alguna pregunta. El mensaje parece estar escrito en un c\xF3digo antiguo que solo unos pocos pueden interpretar."},{detonante:"Un extra\xF1o evento celestial ocurre.",descripcion:"Un cometa cruza el cielo y los ancianos del pueblo insisten en que es una se\xF1al de un gran cambio. El cometa brilla con una intensidad inusual, llenando el cielo nocturno de colores vibrantes. Las historias antiguas hablan de un evento similar que precedi\xF3 grandes cat\xE1strofes y cambios monumentales."},{detonante:"Un noble llega al pueblo buscando ayuda.",descripcion:"Un noble herido llega al pueblo, pidiendo ayuda para rescatar a su familia de una banda de bandidos. El noble, vestido con ropas finas pero desgarradas, cuenta c\xF3mo fue emboscado en el camino. Su voz est\xE1 cargada de desesperaci\xF3n mientras describe el peligro en el que se encuentra su familia."},{detonante:"Se descubre un cad\xE1ver con una extra\xF1a marca.",descripcion:"El cuerpo de una persona desconocida, marcado con un s\xEDmbolo extra\xF1o, es encontrado en la plaza del pueblo. El s\xEDmbolo parece ser de origen arcano, y nadie en el pueblo puede identificarlo. La aparici\xF3n del cad\xE1ver ha generado miedo y especulaci\xF3n entre los habitantes, quienes temen que sea un mal presagio."},{detonante:"Un comerciante ofrece una recompensa por una mercanc\xEDa perdida.",descripcion:"Un comerciante desesperado ofrece una generosa recompensa a quien encuentre su caravana perdida. El comerciante explica que la caravana contiene mercanc\xEDas valiosas y personales de gran importancia. La \xFAltima vez que fue vista, la caravana estaba atravesando un bosque denso conocido por sus peligros."},{detonante:"Un ni\xF1o corre pidiendo ayuda.",descripcion:"Un ni\xF1o llega pidiendo ayuda porque su aldea est\xE1 siendo atacada por monstruos. Entre sollozos, el ni\xF1o describe criaturas horribles que surgieron de la oscuridad, causando estragos y destrucci\xF3n. La angustia en su voz deja claro que el peligro es real y urgente."},{detonante:"Una carta urgente llega de un viejo amigo.",descripcion:"Una carta de un viejo amigo llega, pidiendo ayuda urgente y mencionando un gran peligro inminente. La carta, escrita con mano temblorosa, detalla una serie de eventos preocupantes que han estado ocurriendo. El amigo implora que se acuda a su lado lo m\xE1s r\xE1pido posible, temiendo por su vida."},{detonante:"Un anciano cuenta una profec\xEDa en la taberna.",descripcion:"Un anciano misterioso en la taberna recita una profec\xEDa que sugiere que los personajes tienen un papel crucial en los eventos por venir. La profec\xEDa, aunque vaga, menciona signos y presagios que coinciden con eventos recientes. Los parroquianos escuchan con atenci\xF3n, algunos esc\xE9pticos y otros visiblemente perturbados."}];var u1=[{punto_de_inicio:"Taberna del Drag\xF3n Dorado.",descripcion_del_lugar:"Una taberna bulliciosa y acogedora, con mesas de madera desgastadas y una gran chimenea que ilumina la estancia con un c\xE1lido resplandor.",eventos_anteriores:"Est\xE1is disfrutando de una cena y bebida, escuchando las historias de un viejo trovador que narraba leyendas locales.",otros_personajes:"Adem\xE1s del trovador, hay varios aldeanos, comerciantes y aventureros compartiendo historias y risas alrededor de las mesas."},{punto_de_inicio:"Plaza del Mercado.",descripcion_del_lugar:"Una plaza llena de vida, con puestos de venta de frutas, verduras, tejidos y art\xEDculos artesanales. El aroma de especias y comida reci\xE9n hecha flota en el aire.",eventos_anteriores:"Os encontr\xE1is comprando provisiones y admirando las exhibiciones de varios comerciantes locales.",otros_personajes:"A vuestro alrededor, la plaza est\xE1 llena de gente: mercaderes vendiendo sus productos, ni\xF1os corriendo y jugando, y clientes regateando precios."},{punto_de_inicio:"Puertas de la Ciudad.",descripcion_del_lugar:"Una entrada imponente con grandes puertas de madera reforzadas con hierro, flanqueadas por torres de vigilancia y guardias atentos.",eventos_anteriores:"Acab\xE1is de llegar a la ciudad, mostrando sus permisos de entrada a los guardias y escuchando las \xFAltimas noticias sobre la regi\xF3n.",otros_personajes:"Pod\xE9is ver guardias de la ciudad, viajeros y comerciantes entrando y saliendo, algunos mendigos pidiendo limosna cerca de la entrada."},{punto_de_inicio:"Templo de la Luz.",descripcion_del_lugar:"Un templo majestuoso con altos vitrales que filtran la luz, creando un ambiente sereno y sagrado. El olor a incienso llena el aire.",eventos_anteriores:"Tras un largo viaje, os encontr\xE1is en el santuraio buscando recibir bendiciones y consejo de los sacerdotes. O por lo menos esa era la idea original, porque ahora qu\xE9 hab\xE9is llegado, os pregunt\xE1is si  de verdad merec\xEDa la pena el viaje.",otros_personajes:"En el templo hay sacerdotes realizando rituales, fieles rezando en silencio, y algunos peregrinos descansando en los bancos del templo."},{punto_de_inicio:"Biblioteca Arcana.",descripcion_del_lugar:"Una gran sala con estanter\xEDas llenas de libros y pergaminos antiguos. El silencio es casi total, roto solo por el suave paso de los estudiosos.",eventos_anteriores:"Os encontr\xE1is all\xED investigando en los libros antiguos, buscando informaci\xF3n sobre una leyenda que lleg\xF3 a vuestros o\xEDdos y que aviv\xF3 vuestra curiosidad.",otros_personajes:"A vuestro alrededor hay eruditos y magos consultando manuscritos, el bibliotecario organizando libros y algunos aprendices estudiando en mesas cercanas."},{punto_de_inicio:"Casa del Alcalde.",descripcion_del_lugar:"Una gran mansi\xF3n con jardines bien cuidados y guardias en la entrada. Dentro, las salas est\xE1n decoradas con tapices y mobiliario lujoso.",eventos_anteriores:"Llegasteis a la alcald\xEDa esperando una audiencia con el alcalde para discutir un asunto urgente... aunque cabr\xEDa discutir qu\xE9 tan urgente se trataba el asunto cuando llev\xE1is horas y a\xFAn no ha aparecido.",otros_personajes:"Hay guardias vigilando la entrada, sirvientes movi\xE9ndose discretamente por las salas, y otros ciudadanos esperando su turno para ser atendidos."},{punto_de_inicio:"Gremio de Aventureros.",descripcion_del_lugar:"Un edificio robusto con una gran sala com\xFAn llena de trofeos y mapas. El ambiente es animado, con aventureros compartiendo historias y planes.",eventos_anteriores:"En estos momentos os encontr\xE1bais revisando el tabl\xF3n de misiones, discutiendo posibles trabajos y escuchando las haza\xF1as de otros aventureros.",otros_personajes:"Con vosotros, tambi\xE9n hay varios aventureros de diferentes razas y profesiones, el maestro del gremio dando instrucciones y algunos mercaderes ofreciendo suministros."},{punto_de_inicio:"Torre del Mago.",descripcion_del_lugar:"Una torre alta y misteriosa, con laboratorios llenos de frascos, libros y artefactos m\xE1gicos. La atm\xF3sfera est\xE1 cargada de energ\xEDa arcana.",eventos_anteriores:"Decid\xEDsteis acudir a la torre para consutlar al mago sobre un objeto m\xE1gico que encontr\xE1steis hace unas semanas y cuya naturaleza a\xFAn no hab\xE9is conseguido desentra\xF1ar.",otros_personajes:"All\xED est\xE1n el mago residente, algunos aprendices trabajando en experimentos y un familiar m\xE1gico observando desde una esquina."},{punto_de_inicio:"Cuartel de la Guardia.",descripcion_del_lugar:"Un edificio fortificado con patios de entrenamiento y barracones. El lugar est\xE1 siempre en actividad con guardias entrenando y patrullando.",eventos_anteriores:"Llegasteis al cuartel ya hace un rato como sospechosos de una situaci\xF3n un tanto inc\xF3moda y est\xE1is a la espera de la vista del general.",otros_personajes:"Pod\xE9is ver guardias en entrenamiento, oficiales discutiendo t\xE1cticas y algunos prisioneros bajo custodia."},{punto_de_inicio:"El Jard\xEDn.",descripcion_del_lugar:"Un jard\xEDn denso y oscuro, lleno de \xE1rboles antiguos y senderos ocultos. La sensaci\xF3n de ser observados es constante.",eventos_anteriores:"Los personajes se encontraban en los jardines de una de las familias nobles de la ciudad, a la espera de ser atendidos.",otros_personajes:"A pesar de que est\xE1bais citados, el jard\xEDn parece desierto, pero se siente la presencia de 'alguien' oculto y la posible vigilancia por parte de quien os ha llamado."}];var l1=[{objetivo:"Resolver el Misterio del Monasterio Abandonado",descripcion:"Los personajes deben investigar los extra\xF1os sucesos en un antiguo monasterio que ha sido abandonado por d\xE9cadas.",detalles:"Rumores de apariciones espectrales y desapariciones de personas han llegado a la ciudad. Los personajes deben explorar el monasterio, descubrir la verdad detr\xE1s de las apariciones y liberar a las almas atrapadas por un hechizo oscuro.",rumores:["Se dice que un monje traidor fue maldecido y su esp\xEDritu a\xFAn vaga por los pasillos del monasterio.","Algunos afirman que un libro de hechizos prohibidos est\xE1 escondido en la biblioteca del monasterio.","Un antiguo guardi\xE1n de la orden dej\xF3 un mapa que revela una entrada secreta a los s\xF3tanos."]},{objetivo:"Asesinato en la Corte Real",descripcion:"El rey ha sido asesinado en su propia c\xE1mara, y los personajes son contratados para descubrir al culpable.",detalles:"Los personajes deben investigar la escena del crimen, interrogar a los sospechosos, y descubrir pistas escondidas entre los cortesanos. El asesino podr\xEDa ser cualquiera, desde un miembro de la nobleza hasta un sirviente descontento, y puede haber conspiraciones mayores en juego.",rumores:["Alguien vio a la reina discutiendo con el rey la noche antes del asesinato.","Un guardia afirma haber visto una figura encapuchada salir del castillo a medianoche.","Se dice que un documento secreto que incrimina a un noble fue robado de los archivos reales."]},{objetivo:"Venganza por la Aldea Arrasada",descripcion:"La aldea natal de uno de los personajes ha sido destruida por bandidos, y el objetivo es buscar venganza.",detalles:"Los personajes deben rastrear a los bandidos a trav\xE9s de bosques y monta\xF1as, enfrentarse a ellos en su guarida y traer justicia a las v\xEDctimas. Durante su misi\xF3n, pueden descubrir que los bandidos est\xE1n siendo manipulados por un se\xF1or feudal corrupto.",rumores:["Se dice que el l\xEDder de los bandidos lleva una cicatriz distintiva en la cara.","Algunos aldeanos susurran que vieron a un caballero del feudo reuni\xE9ndose con los bandidos.","Una anciana asegura que hay un t\xFAnel secreto en las monta\xF1as que lleva directo a la guarida de los bandidos."]},{objetivo:"El Gran Robo de la Reliquia Sagrada",descripcion:"Una reliquia sagrada ha sido robada del templo principal de la ciudad, y los personajes deben recuperarla.",detalles:"Siguiendo pistas y rumores, los personajes descubren que la reliquia ha sido robada por una banda de ladrones profesionales que planean venderla al mejor postor. La misi\xF3n requiere infiltrarse en su base de operaciones, recuperar la reliquia y escapar sin ser detectados.",rumores:["Alguien vio a un ladr\xF3n enmascarado escondiendo algo en una casa abandonada cerca del r\xEDo.","Un ni\xF1o afirma haber escuchado a unos hombres hablando de una 'gran venta' en la taberna.","Un comerciante menciona que un comprador misterioso ha estado buscando objetos sagrados en el mercado negro."]},{objetivo:"Desmantelar la Secta Oscura",descripcion:"Una secta oscura est\xE1 ganando poder en la regi\xF3n, realizando rituales prohibidos y sacrificios humanos.",detalles:"Los personajes deben infiltrarse en la secta, descubrir la identidad de su l\xEDder y desmantelar la organizaci\xF3n desde dentro. Esto implica descubrir los lugares de sus rituales, salvar a los cautivos y enfrentarse a los ac\xF3litos fan\xE1ticos en combates mortales.",rumores:["Se rumorea que el l\xEDder de la secta es un noble ca\xEDdo en desgracia que busca venganza.","Un hombre asegura que vio a la secta realizando un ritual en el claro del bosque durante la luna nueva.","Una anciana curandera menciona que un s\xEDmbolo particular encontrado en los lugares de los rituales puede ser clave para descubrir su guarida."]},{objetivo:"Rescate de la Princesa Secuestrada",descripcion:"La princesa ha sido secuestrada por un se\xF1or oscuro y llevada a una fortaleza en las monta\xF1as.",detalles:"Los personajes deben viajar a trav\xE9s de terrenos peligrosos, superar trampas y guardias para llegar a la fortaleza, y rescatar a la princesa antes de que sea usada como sacrificio en un ritual maligno. En el proceso, pueden descubrir secretos sobre la verdadera identidad del secuestrador.",rumores:["Un antiguo soldado menciona que la fortaleza tiene una entrada secreta utilizada por los contrabandistas.","Un esp\xEDa asegura haber visto a la princesa con vida, custodiada por criaturas oscuras.","Un mapa antiguo encontrado en la biblioteca del castillo podr\xEDa contener pistas sobre el dise\xF1o de la fortaleza."]},{objetivo:"Descubrir la Traici\xF3n en el Gremio",descripcion:"Alguien en el gremio de mercaderes est\xE1 saboteando los negocios y planes del gremio desde dentro.",detalles:"Los personajes deben ganarse la confianza de los miembros del gremio, investigar documentos y conversaciones secretas, y descubrir al traidor. El objetivo final es prevenir un complot para desestabilizar la econom\xEDa de la ciudad.",rumores:["Un mercader afirma haber visto a un miembro del gremio reuni\xE9ndose con un conocido ladr\xF3n.","Un documento cifrado encontrado en la oficina del gremio podr\xEDa contener pistas sobre el traidor.","Un guardia menciona que un miembro del gremio ha estado actuando de manera sospechosa \xFAltimamente."]},{objetivo:"Cazar al Hombre Lobo",descripcion:"Un hombre lobo est\xE1 aterrorizando las aldeas cercanas, y los personajes deben detenerlo.",detalles:"Los personajes deben rastrear al hombre lobo a trav\xE9s de pistas y relatos de testigos, enfrentarse a la bestia en combate, y descubrir una cura para el lic\xE1ntropo, si es posible. La misi\xF3n puede revelar una maldici\xF3n que afecta a toda una familia noble.",rumores:["Un cazador afirma que el hombre lobo solo aparece durante la luna llena.","Una anciana dice que la bestia fue vista cerca de una cueva en el bosque profundo.","Un herbolario menciona que una planta rara podr\xEDa tener el poder de revertir la maldici\xF3n."]},{objetivo:"La Maldici\xF3n de la Torre del Mago",descripcion:"Una torre de mago abandonada emite una extra\xF1a energ\xEDa que afecta a los pueblos cercanos.",detalles:"Los personajes deben explorar la torre, enfrentarse a trampas m\xE1gicas y criaturas conjuradas, y descubrir el origen de la maldici\xF3n. La misi\xF3n puede llevar a descubrir los secretos oscuros del mago que una vez habit\xF3 la torre.",rumores:["Un ex aprendiz del mago asegura que una gema poderosa est\xE1 en el coraz\xF3n de la torre.","Un aldeano menciona haber visto luces extra\xF1as y sombras movi\xE9ndose dentro de la torre durante la noche.","Un libro antiguo habla de un ritual que puede purificar la torre y romper la maldici\xF3n."]},{objetivo:"Proteger la Caravana del Rey",descripcion:"Una caravana transportando bienes valiosos y documentos importantes para el reino necesita protecci\xF3n durante su viaje.",detalles:"Los personajes deben escoltar la caravana a trav\xE9s de caminos peligrosos, enfrentarse a bandidos y posibles traidores dentro del grupo, y asegurar que la caravana llegue a su destino intacta. Pueden descubrir que hay m\xE1s en juego que simplemente proteger bienes, como un complot contra el rey.",rumores:["Un esp\xEDa informa que un grupo de bandidos ha sido contratado para atacar la caravana.","Un guardia menciona que alguien dentro de la caravana podr\xEDa estar pasando informaci\xF3n a los enemigos.","Un mapa encontrado en un campamento bandido sugiere una emboscada planeada en un estrecho paso de monta\xF1a."]}];var d1=[{nombre:"Sir Alden",descripcion_fisica:"Un hombre alto y robusto, con cabello canoso y ojos azules penetrantes. Lleva una armadura de placas brillante y una capa roja.",personalidad:"Valiente, leal y honorable. Siempre dispuesto a defender a los inocentes y luchar por la justicia.",ultimo_visto:"En el sal\xF3n del castillo, discutiendo con el capit\xE1n de la guardia, hace dos d\xEDas."},{nombre:"Lady Elara",descripcion_fisica:"Mujer de complexi\xF3n delgada, con cabello largo y negro como la noche, y ojos verdes esmeralda. Viste elegantes t\xFAnicas de seda.",personalidad:"Misteriosa, inteligente y manipuladora. Siempre parece saber m\xE1s de lo que revela.",ultimo_visto:"En la biblioteca del templo, leyendo antiguos manuscritos, la noche pasada."},{nombre:"Maestro Theren",descripcion_fisica:"Hombre de edad avanzada, con barba blanca y cabello despeinado. Lleva ropas simples de mago y un amuleto antiguo.",personalidad:"Sabio, reservado y a veces cr\xEDptico. Siempre est\xE1 dispuesto a compartir su conocimiento, pero rara vez toda la verdad.",ultimo_visto:"En su torre en el bosque, trabajando en un experimento alqu\xEDmico, hace tres d\xEDas."},{nombre:"Capit\xE1n Roderick",descripcion_fisica:"Hombre fornido y de mediana edad, con cabello corto y barba recortada. Viste una armadura de cuero endurecido y una capa verde.",personalidad:"Estricto, disciplinado y leal. Tiene un fuerte sentido del deber y siempre sigue las reglas.",ultimo_visto:"En los barracones de la ciudad, entrenando a los nuevos reclutas, ayer por la tarde."},{nombre:"Greta la Posadera",descripcion_fisica:"Mujer corpulenta con cabello rizado y pelirrojo, y ojos marrones. Siempre lleva un delantal manchado de harina.",personalidad:"Amable, acogedora y con una risa contagiosa. Siempre dispuesta a escuchar y ayudar a los viajeros.",ultimo_visto:"En la cocina de su posada, preparando la cena para los hu\xE9spedes, anoche."},{nombre:"El Joven Liam",descripcion_fisica:"Joven delgado y \xE1gil, con cabello rubio y ojos claros. Lleva ropas sencillas y una capa gastada.",personalidad:"Curioso, ingenioso y valiente. Siempre en busca de aventuras y nuevos conocimientos.",ultimo_visto:"En el mercado, observando a los mercaderes y sus productos, esta ma\xF1ana."},{nombre:"Madame Isolde",descripcion_fisica:"Mujer de mediana edad con cabello oscuro y ojos intensos. Viste con elegancia y lleva siempre un abanico decorativo.",personalidad:"Astuta, encantadora y calculadora. Conoce los secretos de muchos y sabe c\xF3mo utilizarlos a su favor.",ultimo_visto:"En el sal\xF3n de baile de la mansi\xF3n del duque, conversando con la nobleza, hace dos noches."},{nombre:"Baldric el Herrero",descripcion_fisica:"Hombre musculoso y robusto, con barba espesa y cabello corto. Siempre cubierto de holl\xEDn y lleva un delantal de cuero.",personalidad:"Trabajador, directo y de buen coraz\xF3n. Prefiere la acci\xF3n a las palabras y siempre est\xE1 dispuesto a ayudar a sus vecinos.",ultimo_visto:"En su herrer\xEDa, forjando nuevas espadas, ayer al mediod\xEDa."},{nombre:"Hermana Agnes",descripcion_fisica:"Mujer de aspecto severo, con cabello gris recogido bajo un velo y ojos oscuros. Viste el h\xE1bito de una monja.",personalidad:"Devota, estricta y compasiva. Dedica su vida a la fe y a cuidar de los enfermos y necesitados.",ultimo_visto:"En el hospital del convento, atendiendo a los enfermos, esta ma\xF1ana."},{nombre:"Gareth el Mercader",descripcion_fisica:"Hombre de mediana edad, con una figura robusta y barba bien cuidada. Viste ropas finas y lleva varios anillos en los dedos.",personalidad:"Avaro, astuto y con un don para los negocios. Siempre en busca de la pr\xF3xima gran oportunidad comercial.",ultimo_visto:"En su tienda en la plaza del mercado, negociando con un cliente, ayer por la tarde."}];var h1=(()=>{let e=class e{constructor(){this.descripciones=a1,this.detonantes=c1,this.inicios=u1,this.objetivos=l1,this.involucrados=d1,this.randIndex=(Math.floor(Math.random()*17)+1).toString(),this.tramaConstruida=this.randomize()}randInt(r){return Math.floor(Math.random()*r.length)}randomize(){return this.randIndex=(Math.floor(Math.random()*17)+1).toString(),{descripcion:this.descripciones[this.randInt(this.descripciones)],detonante:this.detonantes[this.randInt(this.detonantes)],inicio:this.inicios[this.randInt(this.inicios)],objetivo:this.objetivos[this.randInt(this.objetivos)],involucrado:this.involucrados[this.randInt(this.involucrados)]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var f1=(()=>{let e=class e{constructor(r){this.tramaService=r,this.trama=r.tramaConstruida,console.log(this.trama)}randomize(r){this.trama=this.tramaService.randomize(),document.querySelector(".ocultar")?.classList.toggle("mostrar"),console.log(this.tramaService.randIndex)}};e.\u0275fac=function(i){return new(i||e)(Q(h1))},e.\u0275cmp=ke({type:e,selectors:[["app-trama"]],hostAttrs:[1,"row"],standalone:!0,features:[Oe],decls:37,vars:20,consts:[["appHideDetails",""],[3,"click"],[1,"item-info"],[1,"img-details",3,"src"],[1,"ocultar"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"button",1),J("click",function(a){return s.randomize(a)}),N(2," Randominzar"),M(),x(3,"button"),N(4),M(),x(5,"div",2),Ee(6,"img",3),x(7,"h4"),N(8),M(),x(9,"p"),N(10),M(),x(11,"p"),N(12),M(),x(13,"h4"),N(14,"Sociedad"),M(),x(15,"p"),N(16),NT(17,"lowercase"),M()(),x(18,"div",4)(19,"div",2)(20,"h3"),N(21,"Inicio"),M(),N(22),x(23,"p"),N(24),M()(),x(25,"div",2)(26,"h3"),N(27,"... y entonces sucede algo ..."),M(),x(28,"p"),N(29),M()(),x(30,"div",2)(31,"h3"),N(32,"Personajes involucrados"),M(),N(33),Ee(34,"br")(35,"br"),N(36),M()()()),i&2&&(L(4),de(" ","Ampliar detalles"," "),L(2),pc("src","img/gallery-images/medieval/city/medieval-city-",s.tramaService.randIndex,".png",lc),L(2),Dt(s.trama.descripcion.nombre),L(2),Dt(s.trama.descripcion.descripcion),L(2),_o(" ",s.trama.descripcion.historia," ",s.trama.descripcion.economia," "),L(4),Dt(RT(17,18,s.trama.descripcion.clases_sociales)),L(6),Wd(" Os encontr\xE1is en ",s.trama.inicio.punto_de_inicio," ",s.trama.inicio.descripcion_del_lugar," ",s.trama.inicio.eventos_anteriores," "),L(2),de(" ",s.trama.inicio.otros_personajes," "),L(5),_o("",s.trama.detonante.detonante," ",s.trama.detonante.descripcion,""),L(4),Wd(" ",s.trama.involucrado.nombre," ",s.trama.involucrado.descripcion_fisica," ",s.trama.involucrado.personalidad," "),L(3),de(" Fue visto por \xFAltima vez: ",s.trama.involucrado.ultimo_visto," "))},dependencies:[va,o1],styles:['button[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]{padding-top:30px;display:block}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:#333;line-height:1.2}h3[_ngcontent-%COMP%]{margin-bottom:20px}h4[_ngcontent-%COMP%]{margin:20px 0;text-transform:uppercase;color:#666}p[_ngcontent-%COMP%]{color:#363636;margin-bottom:10px}h3[_ngcontent-%COMP%]:after, h4[_ngcontent-%COMP%]:after{content:"";display:block;width:50px;height:2px;background:#333;margin:10px 0}h4[_ngcontent-%COMP%]:hover{color:#333;cursor:pointer}.img-details[_ngcontent-%COMP%]{display:inline;float:right;max-width:50%;border:5px groove rgb(101,99,99);border-radius:10px;margin:30px}.item-info[_ngcontent-%COMP%]{background-color:#dbd8cd;font-weight:100;border:2px inset rgb(122,117,102);font-style:italic;color:#000;padding:10px 10%;align-items:center;gap:10px;border-radius:5px;margin:10px;display:block}.ocultar[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .5s ease-in-out}.mostrar[_ngcontent-%COMP%]{max-height:5000px}@media (max-width: 600px){.img-details[_ngcontent-%COMP%]{display:block;float:none;max-width:100%}}']});let t=e;return t})();var p1=[{token:"",habitacion:"Sala del Trono Abandonada",descripcion:"La sala que ten\xE9is ante vosotros parece un antiguo sal\xF3n del trono, con paredes cubiertas de tapices rasgados y estatuas de reyes olvidados. El trono en el centro est\xE1 cubierto de polvo y telara\xF1as, y el aire huele a moho y decadencia. En las esquinas, las sombras parecen moverse, como si antiguos fantasmas a\xFAn recorrieran el lugar. Un eco distante de pasos resonando en el pasillo os hace dudar si est\xE1is realmente solos.",nodoCentral:"El punto central de esta habitaci\xF3n es el trono abandonado. Activar el trono puede revelar un nodo principal de la aventura y permitir su avance.",objeto1:{elemento:"Tapices rasgados",relacion:"Los tapices, cuando se examinan de cerca, contienen s\xEDmbolos y runas que, cuando se interpretan correctamente, pueden desbloquear el poder oculto del trono y activar su conexi\xF3n con los antiguos esp\xEDritus."},objeto2:{elemento:"Estatuas de reyes olvidados",relacion:"Las estatuas est\xE1n dispuestas en torno al trono de una manera espec\xEDfica. Moviendo las estatuas a ciertas posiciones, se puede canalizar la energ\xEDa de la sala hacia el trono, despertando su antiguo poder o volviendo hostiles a las estatuas."},objeto3:{elemento:"Sombras en las esquinas",relacion:"Las sombras en las esquinas de la sala son en realidad guardianes. Las sombras pueden ayudar (ayudando a traducir los tapicer o indicando c\xF3mo hay que mover las estatuas), o puedes volverse hostiles (por ejemplo, vincul\xE1ndose a las estatuas)."}},{token:"",habitacion:"Biblioteca Encantada",descripcion:"La sala que ten\xE9is ante vosotros es una biblioteca con estanter\xEDas que se extienden hasta el techo, llenas de libros antiguos. Algunos libros flotan en el aire, movidos por una fuerza m\xE1gica invisible. El lugar est\xE1 iluminado por candelabros que nunca se apagan. El aire est\xE1 impregnado con el olor a pergamino viejo y tinta, y se pueden escuchar susurros de conocimiento perdido flotando en el ambiente. Un gato negro con ojos resplandecientes os observa desde una repisa alta.",nodoCentral:"El punto central de esta habitaci\xF3n es un libro m\xE1gico flotante. Activar el libro puede revelar secretos ocultos y permitir el avance en la aventura.",objeto1:{elemento:"Libros flotantes",relacion:"Algunos de estos libros contienen hechizos que pueden ser utilizados para desbloquear el libro m\xE1gico central, activando su conocimiento oculto."},objeto2:{elemento:"Candelabros que nunca se apagan",relacion:"Estos candelabros iluminan s\xEDmbolos ocultos en las paredes que, cuando se descifran, revelan pistas sobre c\xF3mo activar el libro m\xE1gico."},objeto3:{elemento:"Gato negro con ojos resplandecientes",relacion:"El gato es un guardi\xE1n del conocimiento y puede guiar a los aventureros hacia el libro m\xE1gico si se gana su confianza, quiz\xE1s mediante un objeto o una acci\xF3n espec\xEDfica."}},{token:"",habitacion:"C\xE1mara de Torturas",descripcion:"La sala que ten\xE9is ante vosotros es una c\xE1mara de torturas, con paredes de piedra oscura y manchadas de sangre seca. En el centro hay un potro de tortura, grilletes y otros instrumentos de dolor. Un eco inquietante resuena por la habitaci\xF3n. La atm\xF3sfera est\xE1 cargada de sufrimiento y desesperaci\xF3n, y pod\xE9is sentir un fr\xEDo que se os mete en los huesos. Cada rinc\xF3n parece contar una historia de agon\xEDa y resistencia.",nodoCentral:"El punto central de esta habitaci\xF3n es el potro de tortura. Activar el potro puede revelar informaci\xF3n crucial sobre los enemigos o liberar un esp\xEDritu vengativo.",objeto1:{elemento:"Grilletes",relacion:"Los grilletes tienen grabados antiguos que, si se descifran, pueden activar el potro de tortura, revelando sus secretos oscuros."},objeto2:{elemento:"Instrumentos de dolor",relacion:"Estos instrumentos pueden ser utilizados en un ritual macabro para desatar la energ\xEDa del potro de tortura, liberando as\xED el esp\xEDritu atrapado."},objeto3:{elemento:"Manchas de sangre seca",relacion:"Analizando la sangre, quiz\xE1s a trav\xE9s de un hechizo o un objeto, se pueden obtener visiones de los prisioneros pasados, ofreciendo pistas sobre c\xF3mo activar el potro de tortura."}},{token:"",habitacion:"Jard\xEDn Subterr\xE1neo",descripcion:"La sala que ten\xE9is ante vosotros es un jard\xEDn subterr\xE1neo, lleno de plantas ex\xF3ticas y bioluminiscentes que iluminan el espacio con un resplandor suave. Una peque\xF1a cascada cae desde una roca en la esquina, llenando la sala con el sonido relajante del agua. La fragancia de flores nocturnas perfuma el aire, y mariposas con alas transl\xFAcidas revolotean en la penumbra. La sensaci\xF3n de paz es casi palpable, como un refugio oculto del mundo exterior.",nodoCentral:"El punto central de esta habitaci\xF3n es la peque\xF1a cascada. Activar la cascada puede desbloquear un portal oculto o revelar un camino secreto.",objeto1:{elemento:"Plantas ex\xF3ticas y bioluminiscentes",relacion:"Estas plantas emiten una luz que puede ser utilizada para iluminar inscripciones ocultas cerca de la cascada, activando as\xED su poder secreto."},objeto2:{elemento:"Mariposas transl\xFAcidas",relacion:"Las mariposas pueden guiar a los aventureros hacia la cascada si se les sigue con atenci\xF3n, revelando as\xED el camino oculto."},objeto3:{elemento:"Fragancia de flores nocturnas",relacion:"La fragancia tiene propiedades m\xE1gicas que, cuando se inhala, permite a los aventureros ver ilusiones o pistas sobre c\xF3mo activar la cascada."}},{token:"",habitacion:"Santuario Secreto",descripcion:"La sala que ten\xE9is ante vosotros es un santuario secreto, con altares dedicados a deidades olvidadas. La luz de velas negras parpadea, proyectando sombras danzantes en las paredes. El aire est\xE1 cargado con el aroma de incienso y magia antigua. Una sensaci\xF3n de reverencia y misterio envuelve el lugar, y pod\xE9is escuchar c\xE1nticos lejanos, como si los esp\xEDritus de antiguos adoradores a\xFAn rondaran este espacio sagrado.",nodoCentral:"El punto central de esta habitaci\xF3n es el altar principal. Activar el altar puede invocar a una deidad olvidada o abrir un portal hacia otro plano.",objeto1:{elemento:"Velas negras",relacion:"Estas velas, cuando se colocan en una configuraci\xF3n espec\xEDfica, pueden activar el altar principal, permitiendo la comunicaci\xF3n con la deidad olvidada."},objeto2:{elemento:"Aroma de incienso",relacion:"El incienso, cuando se quema en el altar, puede invocar visiones o esp\xEDritus que ofrecen gu\xEDa sobre c\xF3mo activar el altar principal."},objeto3:{elemento:"C\xE1nticos lejanos",relacion:"Repitiendo los c\xE1nticos en un determinado ritmo, los aventureros pueden resonar con la magia del altar, activando su poder y revelando el portal oculto."}},{token:"",habitacion:"Sala del Tesoro",descripcion:"La sala que ten\xE9is ante vosotros es una sala del tesoro, con montones de oro y joyas esparcidos por el suelo. Cofres llenos de riquezas y artefactos m\xE1gicos est\xE1n apilados en las esquinas. El resplandor del tesoro ilumina la sala con una luz dorada. Los ojos de las estatuas de guardianes brillan con avaricia, y el eco del tintineo de las monedas al caer es casi hipn\xF3tico. Pod\xE9is sentir la tentaci\xF3n y el peligro en cada paso.",nodoCentral:"El punto central de esta habitaci\xF3n es un cofre antiguo y ornamentado. Activar el cofre puede desatar la maldici\xF3n del tesoro o revelar un artefacto de gran poder.",objeto1:{elemento:"Montones de oro y joyas",relacion:"Recoger ciertas combinaciones de joyas y ofrecerlas al cofre puede activar su mecanismo secreto, revelando su contenido."},objeto2:{elemento:"Estatuas de guardianes",relacion:"Las estatuas reaccionan a la apertura del cofre. Si no se desactiva la trampa en el cofre, las estatuas cobrar\xE1n vida para defender el tesoro."},objeto3:{elemento:"Artefactos m\xE1gicos",relacion:"Usar los artefactos m\xE1gicos encontrados en la sala puede proporcionar pistas o protecci\xF3n contra las trampas del cofre, facilitando su apertura segura."}},{habitacion:"Laboratorio Alqu\xEDmico",descripcion:"La sala que ten\xE9is ante vosotros es un laboratorio alqu\xEDmico, con mesas llenas de frascos, retortas y ingredientes ex\xF3ticos. Un caldero burbujea en el centro, emanando un vapor de colores brillantes. El aire est\xE1 lleno de olores extra\xF1os y potentes. Frascos etiquetados con caligraf\xEDa antigua contienen sustancias que parecen cambiar de color al ser observadas, y manuscritos con f\xF3rmulas complejas est\xE1n esparcidos por todas partes. La sensaci\xF3n de descubrimiento y peligro es constante.",nodoCentral:"El punto central de esta habitaci\xF3n es el caldero burbujeante. Activar el caldero puede revelar una f\xF3rmula m\xE1gica crucial o desatar una reacci\xF3n alqu\xEDmica poderosa.",objeto1:{elemento:"Frascos etiquetados",relacion:"Los frascos contienen ingredientes esenciales para activar el caldero. Mezclarlos correctamente seg\xFAn las f\xF3rmulas antiguas puede desencadenar su verdadero poder."},objeto2:{elemento:"Manuscritos con f\xF3rmulas complejas",relacion:"Los manuscritos detallan el proceso para activar el caldero. Descifrar y seguir las instrucciones es clave para desvelar los secretos del laboratorio."},objeto3:{elemento:"Vapor de colores brillantes",relacion:"El vapor puede contener pistas visuales sobre la combinaci\xF3n correcta de ingredientes, ayudando a activar el caldero de manera segura."},token:""},{habitacion:"Gran Comedor",descripcion:"La sala que ten\xE9is ante vosotros es un gran comedor, con una larga mesa de madera rodeada de sillas talladas. Platos y copas de oro est\xE1n dispuestos en la mesa, como si una gran cena estuviera a punto de comenzar. La habitaci\xF3n est\xE1 iluminada por un gran candelabro. Los restos de una comida reciente, migas y manchas de vino, indican que este lugar fue usado no hace mucho. El aire est\xE1 lleno de una mezcla de aromas festivos y el leve murmullo de conversaciones pasadas parece resonar en el ambiente.",nodoCentral:"El punto central de esta habitaci\xF3n es la mesa del banquete. Activar la mesa puede desvelar un banquete encantado o liberar esp\xEDritus de los comensales pasados.",objeto1:{elemento:"Platos y copas de oro",relacion:"Colocar correctamente los platos y copas puede activar la magia de la mesa, revelando un banquete oculto o desencadenando una visi\xF3n del pasado."},objeto2:{elemento:"Restos de una comida reciente",relacion:"Analizar los restos puede proporcionar pistas sobre qui\xE9n estuvo aqu\xED antes y c\xF3mo activar la mesa del banquete."},objeto3:{elemento:"Candelabro",relacion:"El candelabro puede iluminar s\xEDmbolos secretos en la mesa que son necesarios para activar su magia."},token:""},{habitacion:"Sala del Guardi\xE1n",descripcion:"La sala que ten\xE9is ante vosotros es la sala del guardi\xE1n, con armaduras antiguas y armas colgadas en las paredes. Un gran escudo con el emblema del guardi\xE1n est\xE1 colgado sobre una chimenea apagada. El ambiente es solemne y lleno de historia. Pod\xE9is sentir el peso de los juramentos y las batallas libradas en el pasado. Un retrato del guardi\xE1n, con ojos que parecen seguir vuestros movimientos, a\xF1ade una sensaci\xF3n de vigilancia y respeto.",nodoCentral:"El punto central de esta habitaci\xF3n es el escudo con el emblema del guardi\xE1n. Activar el escudo puede revelar secretos del guardi\xE1n o invocar su esp\xEDritu protector.",objeto1:{elemento:"Armaduras antiguas",relacion:"Mover o interactuar con las armaduras de manera espec\xEDfica puede activar el escudo, revelando su poder oculto."},objeto2:{elemento:"Chimenea apagada",relacion:"Encender la chimenea puede iluminar s\xEDmbolos en el escudo, necesarios para activarlo."},objeto3:{elemento:"Retrato del guardi\xE1n",relacion:"El retrato puede dar pistas sobre c\xF3mo activar el escudo, quiz\xE1s a trav\xE9s de un mensaje oculto o una expresi\xF3n cambiante."},token:""},{habitacion:"Galer\xEDa de Retratos",descripcion:"La sala que ten\xE9is ante vosotros es una galer\xEDa de retratos, con cuadros de personajes antiguos colgando en las paredes. Los ojos de los retratos parecen seguir vuestros movimientos. La sala est\xE1 en silencio, con un aire de misterio y reverencia. Los personajes en los retratos est\xE1n representados en poses majestuosas, con ropas y objetos que sugieren historias de poder, traici\xF3n y legado. La atm\xF3sfera es tan densa que parece que en cualquier momento, los retratos podr\xEDan empezar a hablar.",nodoCentral:"El punto central de esta habitaci\xF3n es un retrato particular que destaca. Activar este retrato puede liberar un esp\xEDritu o revelar un pasaje secreto.",objeto1:{elemento:"Cuadros de personajes antiguos",relacion:"Examinar los cuadros y descubrir patrones entre ellos puede proporcionar pistas sobre c\xF3mo activar el retrato central."},objeto2:{elemento:"Objetos en los retratos",relacion:"Los objetos en los retratos pueden ser claves o herramientas que, si se encuentran en la sala, pueden activar el retrato destacado."},objeto3:{elemento:"Silencio de la sala",relacion:"Romper el silencio con un canto o una melod\xEDa espec\xEDfica puede activar el retrato y liberar sus secretos."},token:""},{habitacion:"C\xE1mara del Guardi\xE1n de las Sombras",descripcion:"La sala que ten\xE9is ante vosotros est\xE1 envuelta en sombras. Una figura encapuchada se encuentra en el centro, guardando un cofre misterioso. Las paredes est\xE1n decoradas con runas antiguas que brillan d\xE9bilmente. El silencio es casi palpable, roto solo por el susurro ocasional del guardi\xE1n de las sombras. Una sensaci\xF3n de peligro y secretos inminentes os envuelve, como si al abrir el cofre, desencadenarais un poder antiguo y temible.",nodoCentral:"El punto central de esta habitaci\xF3n es el cofre misterioso. Activar el cofre puede liberar un poder antiguo o revelar un artefacto crucial para la aventura.",objeto1:{elemento:"Runas antiguas",relacion:"Descifrar las runas puede proporcionar el hechizo o combinaci\xF3n necesaria para abrir el cofre sin desatar su maldici\xF3n."},objeto2:{elemento:"Figura encapuchada",relacion:"La figura puede ser un guardi\xE1n o un gu\xEDa. Interactuar con ella correctamente puede revelar c\xF3mo abrir el cofre de manera segura."},objeto3:{elemento:"Sombras",relacion:"Manipular las sombras, quiz\xE1s con una fuente de luz, puede activar mecanismos ocultos en el cofre."},token:""},{habitacion:"Sala del Espejo M\xE1gico",descripcion:"La sala que ten\xE9is ante vosotros contiene un enorme espejo en la pared opuesta. La superficie del espejo es l\xEDquida y parece ondular suavemente. Refleja im\xE1genes que no coinciden con la realidad, mostrando posibles futuros o pasados alternativos. Al miraros en el espejo, veis versiones de vosotros mismos que os resultan extra\xF1amente familiares y aterradoramente diferentes. El espejo parece susurrar secretos y tentaciones, invit\xE1ndoos a descubrir los misterios de su superficie.",nodoCentral:"El punto central de esta habitaci\xF3n es el enorme espejo m\xE1gico. Mirar en el espejo puede revelar pistas sobre futuros posibles o reflejar pasados alternativos, quiz\xE1s mostrando caminos que podr\xEDan tomarse o peligros que podr\xEDan evitarse.",objeto1:{elemento:"Superficie l\xEDquida del espejo",relacion:"La superficie l\xEDquida puede ser manipulada para revelar im\xE1genes ocultas o desbloquear accesos a otras dimensiones reflejadas en el espejo."},objeto2:{elemento:"Im\xE1genes reflejadas",relacion:"Las im\xE1genes reflejadas pueden contener pistas sobre eventos futuros o pasados alternativos, proporcionando informaci\xF3n crucial para la aventura."},objeto3:{elemento:"Susurros del espejo",relacion:"Los susurros del espejo pueden ser mensajes ocultos o advertencias sobre decisiones importantes que podr\xEDan cambiar el curso de la aventura."},token:""},{habitacion:"Sala del Golem de Piedra",descripcion:"La sala que ten\xE9is ante vosotros est\xE1 presidida por un golem de piedra inmenso, aparentemente inerte. Las paredes est\xE1n marcadas con ara\xF1azos y golpes, como testimonio de antiguas batallas. El suelo est\xE1 cubierto de polvo y fragmentos de roca. La presencia del golem es abrumadora, y aunque est\xE1 inm\xF3vil, pod\xE9is sentir una energ\xEDa latente en su interior. La atm\xF3sfera est\xE1 cargada de tensi\xF3n, como si en cualquier momento el golem pudiera despertar y retomar su eterna guardia.",nodoCentral:"El punto central de esta habitaci\xF3n es el imponente golem de piedra. Despertar al golem podr\xEDa ser necesario para avanzar en la aventura, aunque tambi\xE9n podr\xEDa presentar un grave peligro.",objeto1:{elemento:"Golem de piedra",relacion:"El golem de piedra puede ser activado para proteger o para destruir, dependiendo de c\xF3mo se le enfoque o se le controle."},objeto2:{elemento:"Ara\xF1azos en las paredes",relacion:"Los ara\xF1azos pueden indicar batallas anteriores con el golem o con otros intrusos, proporcionando pistas sobre c\xF3mo proceder sin provocar una reacci\xF3n violenta."},objeto3:{elemento:"Energ\xEDa latente del golem",relacion:"La energ\xEDa latente podr\xEDa ser utilizada para activar mecanismos ocultos o para reforzar hechizos, dependiendo de c\xF3mo se canalice o controle."},token:""},{habitacion:"C\xE1mara del Sacrificio",descripcion:"La sala que ten\xE9is ante vosotros est\xE1 llena de altares ensangrentados y s\xEDmbolos oscuros pintados en las paredes. En el centro, un altar mayor de piedra est\xE1 cubierto de manchas de sangre seca. La atm\xF3sfera es opresiva y llena de horror. Ecos de gritos y plegarias desesperadas parecen resonar en el aire. Cada rinc\xF3n de la c\xE1mara cuenta una historia de sacrificio y desesperaci\xF3n, y pod\xE9is sentir la presencia de fuerzas oscuras observando cada uno de vuestros movimientos.",nodoCentral:"El punto central de esta habitaci\xF3n es el altar mayor de piedra cubierto de sangre seca. Interactuar con el altar podr\xEDa desencadenar un evento crucial o revelar secretos ocultos.",objeto1:{elemento:"Altar mayor de piedra",relacion:"El altar puede ser el lugar de rituales oscuros o de ofrendas. Interactuar con \xE9l podr\xEDa desbloquear accesos ocultos o activar poderes antiguos."},objeto2:{elemento:"S\xEDmbolos oscuros en las paredes",relacion:"Los s\xEDmbolos oscuros podr\xEDan contener claves para desactivar maldiciones o para comunicarse con entidades oscuras que moran en la c\xE1mara."},objeto3:{elemento:"Ecos de gritos y plegarias",relacion:"Los ecos podr\xEDan ser respuestas a antiguos sacrificios o advertencias sobre los peligros de interactuar con las fuerzas oscuras presentes en la habitaci\xF3n."},token:""},{habitacion:"Sala de los Ecos Perdidos",descripcion:"La sala que ten\xE9is ante vosotros tiene paredes de cristal que reflejan y amplifican cada sonido. El menor susurro resuena como un trueno. Unos extra\xF1os artefactos est\xE1n dispuestos alrededor de la sala, resonando con energ\xEDa m\xE1gica. La sensaci\xF3n de estar atrapado en un espacio donde el sonido nunca se desvanece es inquietante. Pod\xE9is escuchar fragmentos de conversaciones pasadas y ecos de eventos antiguos, como si el tiempo mismo se hubiera quedado atrapado en esta sala.",nodoCentral:"El punto central de esta habitaci\xF3n son los extra\xF1os artefactos que resonan con energ\xEDa m\xE1gica. Activar o desactivar estos artefactos podr\xEDa alterar la percepci\xF3n temporal de la sala.",objeto1:{elemento:"Paredes de cristal",relacion:"Las paredes de cristal pueden amplificar sonidos o revelar pistas ocultas a trav\xE9s de ecos y reflejos."},objeto2:{elemento:"Artefactos resonantes",relacion:"Los artefactos podr\xEDan contener magia que afecta el tiempo o la percepci\xF3n, proporcionando ventajas o desventajas dependiendo de c\xF3mo se interact\xFAe con ellos."},objeto3:{elemento:"Ecos de eventos antiguos",relacion:"Los ecos podr\xEDan ser pistas sobre eventos pasados o advertencias sobre peligros futuros, dependiendo de c\xF3mo se interpreten o utilicen."},token:""},{habitacion:"Habitaci\xF3n de las Estrellas",descripcion:"La sala que ten\xE9is ante vosotros parece un cielo estrellado. El techo y las paredes est\xE1n decorados con constelaciones que brillan con una luz propia. El suelo es de m\xE1rmol negro pulido, reflejando las estrellas como un espejo. La ilusi\xF3n de estar flotando en el espacio es casi perfecta, y pod\xE9is ver meteoros cruzando el cielo y nebulosas en la distancia. La sensaci\xF3n de inmensidad y calma os envuelve, como si estuvierais contemplando el universo desde un lugar privilegiado.",nodoCentral:"El punto central de esta habitaci\xF3n son las constelaciones brillantes que decoran el techo y las paredes. Observarlas podr\xEDa revelar patrones ocultos o guiar el siguiente paso en la aventura.",objeto1:{elemento:"Constelaciones en el techo y paredes",relacion:"Las constelaciones podr\xEDan contener pistas sobre ubicaciones ocultas o sobre el origen de poderes m\xEDsticos presentes en la habitaci\xF3n."},objeto2:{elemento:"Meteoros y nebulosas",relacion:"Los meteoros y nebulosas podr\xEDan representar eventos pasados o futuros que podr\xEDan afectar el curso de la aventura, dependiendo de c\xF3mo se interpreten o utilicen."},objeto3:{elemento:"Sensaci\xF3n de inmensidad y calma",relacion:"La sensaci\xF3n podr\xEDa ser una se\xF1al de paz o de advertencia, dependiendo de c\xF3mo se interprete en relaci\xF3n con los elementos celestiales de la sala."},token:""},{habitacion:"Santuario del Drag\xF3n",descripcion:"La sala que ten\xE9is ante vosotros es un santuario dedicado a un drag\xF3n antiguo. En el centro, una estatua imponente del drag\xF3n se eleva hacia el techo. El suelo est\xE1 cubierto de monedas de oro y joyas esparcidas. El aire est\xE1 cargado de magia antigua. Las paredes est\xE1n adornadas con frescos que narran las haza\xF1as del drag\xF3n y sus encuentros con h\xE9roes y dioses. La atm\xF3sfera est\xE1 llena de una mezcla de reverencia y peligro, como si el esp\xEDritu del drag\xF3n a\xFAn vigilara este lugar sagrado.",nodoCentral:"El punto central de esta habitaci\xF3n es la estatua imponente del drag\xF3n antiguo. Interactuar con la estatua podr\xEDa revelar secretos de la historia del drag\xF3n o desencadenar un evento crucial para la aventura.",objeto1:{elemento:"Estatua imponente del drag\xF3n",relacion:"La estatua podr\xEDa contener poderes m\xE1gicos o secretos de la historia del drag\xF3n, dependiendo de c\xF3mo se interact\xFAe con ella."},objeto2:{elemento:"Frescos que narran las haza\xF1as del drag\xF3n",relacion:"Los frescos podr\xEDan proporcionar pistas sobre la identidad del drag\xF3n o sobre su relaci\xF3n con eventos pasados que podr\xEDan ser relevantes para la aventura."},objeto3:{elemento:"Monedas de oro y joyas esparcidas",relacion:"Las monedas y joyas podr\xEDan ser ofrendas al drag\xF3n o pueden ocultar artefactos antiguos que podr\xEDan ser de utilidad para avanzar en la aventura."},token:""},{habitacion:"Sala de los Portales",descripcion:"La sala que ten\xE9is ante vosotros contiene varios portales arcanos, cada uno resplandeciendo con un color diferente. Las paredes est\xE1n cubiertas de inscripciones m\xE1gicas que describen destinos lejanos y misteriosos. Pod\xE9is sentir la vibraci\xF3n de la energ\xEDa m\xE1gica en el aire, y cada portal parece susurrar promesas de aventuras y peligros en tierras desconocidas. La tentaci\xF3n de atravesar uno de los portales es casi irresistible, pero tambi\xE9n pod\xE9is sentir el riesgo inherente en cada elecci\xF3n.",nodoCentral:"El punto central de esta habitaci\xF3n son los portales arcanos brillando con diferentes colores. Elegir el portal correcto podr\xEDa llevar a un destino deseado, mientras que una elecci\xF3n incorrecta podr\xEDa llevar a peligros inesperados.",objeto1:{elemento:"Portales arcanos",relacion:"Los portales pueden ser puertas a dimensiones alternativas o a lugares lejanos. Elegir el portal correcto podr\xEDa ser crucial para el \xE9xito de la aventura."},objeto2:{elemento:"Inscripciones m\xE1gicas en las paredes",relacion:"Las inscripciones podr\xEDan contener claves para activar o desactivar los portales, o podr\xEDan revelar informaci\xF3n sobre los destinos que cada portal conduce."},objeto3:{elemento:"Vibraci\xF3n de la energ\xEDa m\xE1gica en el aire",relacion:"La energ\xEDa m\xE1gica podr\xEDa ser canalizada para fortalecer hechizos o para alterar las propiedades de los portales, dependiendo de c\xF3mo se maneje o controle."},token:""},{habitacion:"C\xE1mara del Tiempo Detenido",descripcion:"La sala que ten\xE9is ante vosotros est\xE1 llena de relojes antiguos, todos detenidos a la misma hora. Un reloj de arena gigante en el centro parece congelado, con granos de arena suspendidos en el aire. El lugar emana una sensaci\xF3n de quietud y eternidad. Pod\xE9is sentir c\xF3mo el flujo del tiempo ha sido alterado aqu\xED, y cada paso que dais resuena con una calma inquietante. Los relojes parecen observaros, sus manecillas detenidas como testigos de un poder temporal inmenso.",nodoCentral:"El punto central de esta habitaci\xF3n es el reloj de arena gigante congelado en el centro. Activar el reloj podr\xEDa desencadenar la restauraci\xF3n del tiempo o podr\xEDa permitir la manipulaci\xF3n temporal en la habitaci\xF3n.",objeto1:{elemento:"Relojes antiguos detenidos",relacion:"Los relojes detenidos pueden indicar una ruptura temporal o pueden ser pistas sobre c\xF3mo se alter\xF3 el tiempo en la habitaci\xF3n."},objeto2:{elemento:"Reloj de arena gigante con granos suspendidos",relacion:"El reloj de arena podr\xEDa contener arena m\xE1gica que permita la manipulaci\xF3n temporal o que revele eventos futuros o pasados importantes."},objeto3:{elemento:"Calma inquietante del lugar",relacion:"La calma podr\xEDa ser una ilusi\xF3n o podr\xEDa ser la clave para restaurar el flujo del tiempo en la habitaci\xF3n, dependiendo de c\xF3mo se interprete o maneje."},token:""},{habitacion:"Sala del Bosque Encantado",descripcion:"La sala que ten\xE9is ante vosotros es un peque\xF1o bosque encantado, con \xE1rboles altos y un suelo cubierto de musgo. La luz del sol parece filtrarse desde un cielo inexistente, y el canto de los p\xE1jaros llena el aire. Un riachuelo atraviesa la habitaci\xF3n, burbujeando suavemente. La brisa lleva consigo el aroma de flores silvestres, y pod\xE9is ver peque\xF1os seres m\xE1gicos movi\xE9ndose entre las hojas. La sensaci\xF3n de estar en un mundo aparte, lleno de vida y magia, es abrumadora.",nodoCentral:"El punto central de esta habitaci\xF3n es el peque\xF1o bosque encantado. Interactuar con los seres m\xE1gicos o con la naturaleza podr\xEDa revelar secretos ocultos o guiar el pr\xF3ximo paso en la aventura.",objeto1:{elemento:"\xC1rboles altos y suelo de musgo",relacion:"La vegetaci\xF3n podr\xEDa contener ingredientes m\xE1gicos o ser el hogar de criaturas que pueden ayudar o obstaculizar el progreso en la aventura."},objeto2:{elemento:"Peque\xF1os seres m\xE1gicos movi\xE9ndose entre las hojas",relacion:"Los seres m\xE1gicos pueden tener conocimientos sobre el bosque encantado o sobre eventos pasados que podr\xEDan afectar el curso de la aventura."},objeto3:{elemento:"Aroma de flores silvestres y canto de p\xE1jaros",relacion:"El aroma y el canto podr\xEDan ser se\xF1ales de bienvenida o de advertencia, dependiendo de c\xF3mo se interpreten en relaci\xF3n con la magia del bosque encantado."},token:""},{habitacion:"C\xE1mara del Trono de Cristal",descripcion:"La sala que ten\xE9is ante vosotros es impresionante, con un trono de cristal en el centro que refleja la luz en un caleidoscopio de colores. Las paredes est\xE1n hechas de cristal tallado, y el suelo de m\xE1rmol blanco brillante. El ambiente es fr\xEDo y silencioso. Cada paso que dais resuena con un eco cristalino, y pod\xE9is sentir una mezcla de majestad y fragilidad en el aire. El trono parece esperar a un gobernante digno, mientras los reflejos de luz juegan en las paredes y el suelo.",nodoCentral:"El punto central de esta habitaci\xF3n es el trono de cristal que refleja la luz en colores brillantes. Sentarse en el trono podr\xEDa otorgar poderes o desbloquear conocimientos ancestrales.",objeto1:{elemento:"Trono de cristal",relacion:"El trono podr\xEDa contener poderes m\xE1gicos o ser un enlace con antiguos gobernantes. Sentarse en el trono podr\xEDa revelar la verdadera identidad del regente."},objeto2:{elemento:"Paredes de cristal tallado",relacion:"Las paredes de cristal podr\xEDan contener secretos ocultos o pistas sobre la historia de la habitaci\xF3n y su conexi\xF3n con poderes antiguos."},objeto3:{elemento:"Eco cristalino de cada paso",relacion:"El eco podr\xEDa ser una se\xF1al de presencia o de advertencia, dependiendo de c\xF3mo se interprete en relaci\xF3n con el trono y su conexi\xF3n con la habitaci\xF3n."},token:""},{habitacion:"C\xE1mara del Guardi\xE1n de las Sombras",descripcion:"La sala que ten\xE9is ante vosotros est\xE1 envuelta en sombras. Una figura encapuchada se encuentra en el centro, guardando un cofre misterioso. Las paredes est\xE1n decoradas con runas antiguas que brillan d\xE9bilmente. El silencio es casi palpable, roto solo por el susurro ocasional del guardi\xE1n de las sombras. Una sensaci\xF3n de peligro y secretos inminentes os envuelve, como si al abrir el cofre, desencadenarais un poder antiguo y temible.",nodoCentral:"El punto central de esta habitaci\xF3n es el cofre misterioso. Activar el cofre puede liberar un poder antiguo o revelar un artefacto crucial para la aventura.",objeto1:{elemento:"Runas antiguas",relacion:"Descifrar las runas puede proporcionar el hechizo o combinaci\xF3n necesaria para abrir el cofre sin desatar su maldici\xF3n."},objeto2:{elemento:"Figura encapuchada",relacion:"La figura puede ser un guardi\xE1n o un gu\xEDa. Interactuar con ella correctamente puede revelar c\xF3mo abrir el cofre de manera segura."},objeto3:{elemento:"Sombras",relacion:"Manipular las sombras, quiz\xE1s con una fuente de luz, puede activar mecanismos ocultos en el cofre."},token:""}];var m1=[{name:"Entrada del Templo",description:"Os encontr\xE1is ante una bifurcaci\xF3n de dos pasillos estrechos, cuyas paredes de piedra erosionada muestran siglos de abandono. Las antorchas, ya apagadas, sugieren que este lugar fue una vez frecuentado. Unas escaleras descendentes, parcialmente cubiertas por telara\xF1as, prometen acceso a una sala subterr\xE1nea, pero algo en el aire os advierte que no ser\xE1 un camino f\xE1cil.",events:[{cause:"Al avanzar, vuestros pies rozan unas placas de piedra ligeramente elevadas en el suelo. Su dise\xF1o geom\xE9trico no parece natural en este entorno. \xBFSer\xE1 una trampa preparada para intrusos?",effects:["Si activan la placa: Las paredes de ambos pasillos emiten un brillo azulado al encenderse runas dru\xEDdicas ocultas. Las inscripciones muestran claras advertencias sobre una 'maldici\xF3n verde' que devora lo impuro.","Si evitan la placa o la desactivan: La oscuridad permanece, aumentando un 20% la probabilidad de sufrir 1d6 de da\xF1o por ca\xEDdas o trampas ocultas en los siguientes 10 minutos."]},{cause:"Al descender hacia la sala subterr\xE1nea, unas ra\xEDces anormalmente gruesas -casi como tent\xE1culos- bloquean completamente el acceso. Parecen latir levemente, y al tocarlas, not\xE1is que su superficie est\xE1 c\xE1lida y h\xFAmeda.",effects:["Si cortan las ra\xEDces violentamente: Estas sangran un l\xEDquido \xE1mbar que huele a miel fermentada. El sonido gutural que emiten atrae a 1d4 insectos gigantes en 2 turnos. Adem\xE1s, todas las plantas en 50 metros se vuelven hostiles durante 1 hora.","Si las atraviesan con cuidado: Acceden a la sala subterr\xE1nea."]}]},{name:"Sala subterr\xE1nea",description:"Os adentr\xE1is en una sala tan oscura que vuestras fuentes de luz apenas iluminan unos cent\xEDmetros alrededor vuestro, como si la negrura absorbiera activamente cualquier resplandor. El aire huele a tierra h\xFAmeda y musgo, pero not\xE1is una corriente fr\xEDa que os rodea, sugiriendo que la sala est\xE1 ventilada por alg\xFAn conducto invisible. De repente, unos ojos brillantes se abren en la penumbra, y una figura se mueve con un crujido inquietante de patas contra la piedra. Un ser mitad hombre, mitad ara\xF1a emerge, alzando una mano arrugada en se\xF1al de advertencia. Su voz, \xE1spera pero no amenazante, rompe el silencio: 'Este no es lugar para los vivos...'",events:[{cause:"Manteniendo la calma, alguno de vosotros alza las manos en se\xF1al de paz o intenta hablar con la criatura.",effects:["El druida ar\xE1cnido os cuenta entre susurros que fue convertido en esto por la maldici\xF3n del templo. Si los jugadores insisten en entrar, se volver\xE1 hostil (combate con ventaja para \xE9l por conocimiento del terreno).","Con un chequeo de Persuasi\xF3n DC 14, revela el origen de la maldici\xF3n en un objeto que est\xE1 en lo m\xE1s profundo del templo: 'Destruidlo... y libradme'. Este objeto es el mismo que deben encontrar en la misi\xF3n principal."]},{cause:"Uno de vosotros desenvaina un arma, lanza un hechizo o la situaci\xF3n escala por acciones previas (ej: haber cortado ra\xEDces violentamente).",effects:["Combate inmediato. Estad\xEDsticas del Druida Ar\xE1cnido: 12 HP, Armadura Natural 14, Ataque 'Mordisco Venenoso' (1d6 + efecto: Con DC 12 Constituci\xF3n o desventaja en la siguiente acci\xF3n).","Cada 2 rondas, invoca 1d3 ara\xF1as gigantes (4 HP, agarre con telara\xF1a en impacto). Si los jugadores huyen, el druida no persigue m\xE1s all\xE1 de la sala."]}]},{name:"Sala del Consejo",description:"El pasillo os deposita en una c\xE1mara que parece contener la esencia misma de lo primigenio. Cuatro pilares desnudos, marcados por runas que se retuercen como serpientes al d\xE9bil resplandor azul de las antorchas, custodian una mesa de m\xE1rmol tan negra que devora la luz. En la penumbra del fondo, la estatua del Hombre Desnudo os observa con ojos de esmeralda cuyo brillo palpita al ritmo de vuestros propios latidos. El aire espeso sabe a ra\xEDces reci\xE9n arrancadas y a promesas olvidadas.",events:[{cause:"Las esmeraldas de la estatua os llaman con un magnetismo casi doloroso. Su pulsar se acelera cuando os acerc\xE1is, y una voz susurra en el l\xEDmite de vuestra conciencia: 'T\xF3malas... son tuyas'. Vuestros dedos se tensan con un deseo ajeno.",effects:["Si ced\xE9is al impulso: Las gemas se funden con vuestra carne, y de pronto el mundo se llena de susurros vegetales. Las sombras se retuercen en formas de ramas sedientas, y vuestros aliados adquieren rostros de corteza y savia. La locura os abraza con ra\xEDces mentales.","Si resist\xEDs: La estatua exhala un verso en lengua antigua. Las antorchas estallan en llamas blancas, iluminando inscripciones que narran una verdad olvidada: solo quien se vac\xEDe de miedo ver\xE1 lo que el velo oculta.","Si escuch\xE1is con el coraz\xF3n: El latir de las esmeraldas os hipnotiza. Una sabidur\xEDa ancestral os habla de los cuatro pilares de la vida, de c\xF3mo toda existencia nace, arde, fluye y asciende."]},{cause:"La mesa de m\xE1rmol os atrae como un espejo de aguas profundas. Vuestros reflejos se deforman al acercaros, mostrando figuras que se agitan bajo la superficie, como ahogados intentando romper el cristal l\xEDquido de la piedra.",effects:["Al tocar su frialdad: Las sombras se api\xF1an bajo vuestras palmas, sus bocas mudas gritando advertencias que no pod\xE9is o\xEDr. Sab\xE9is, sin saber c\xF3mo, que fueron druidas que ofrendaron demasiado.","Si invoc\xE1is magia: La mesa canta. El sonido os perfora los huesos, llenando vuestras mentes de visiones de bosques que crecen demasiado r\xE1pido, devorando ciudades y dioses. Las antorchas bailan al un\xEDsono, hipn\xF3ticas."]},{cause:"La mesa parece sedienta. Cuando la sangre o el agua caen sobre ella, el m\xE1rmol bebe con avidez, dejando tras de s\xED patrones geom\xE9tricos que os producen n\xE1useas al mirarlos fijamente.",effects:["Con metal o piedra: Vuestras herramientas son engullidas lentamente, como si la mesa las saboreara. Un dolor punzante os advierte que lo perdido no volver\xE1.","Con l\xEDquidos sagrados: Las llamas azules envejecen en un instante, volvi\xE9ndose doradas y sabias. Por un momento, cre\xE9is ver una puerta donde antes solo hab\xEDa piedra... pero \xBFera real?"]}]},{name:"Sala del Cofre Secreto",description:"El aire espeso y rancio os golpea al entrar, mezclando el hedor a carne podrida con el moho de siglos. En el centro yace el cad\xE1ver de un aventurero, su armadura oxidada y su expresi\xF3n congelada en un \xFAltimo grito silencioso. Tres cofres macizos, adornados con runas desgastadas, se alinean contra la pared como tumbas verticales. Una puerta con engranajes oxidados rechina levemente, como si respirara. Cada paso hace crujir cristales bajo vuestras botas: esporas secas que brillan d\xE9bilmente en la penumbra.",events:[{cause:"El cad\xE1ver parece contener algo en su mano cerrada con fuerza. Sus dedos agarrotados sugieren que muri\xF3 protegiendo algo... o quiz\xE1s siendo v\xEDctima de ello.",effects:["Si revis\xE1is el cuerpo: Entre sus dedos encontr\xE1is un pergamino medio quemado con s\xEDmbolos dru\xEDdicos. Las marcas de garras en el papel indican que alguien m\xE1s lo busc\xF3 desesperadamente. Quien lo estudie sentir\xE1 que las runas parecen moverse, prometiendo un secreto que duele recordar.","Si lo dej\xE1is intacto: Las esporas bajo vuestros pies brillan m\xE1s intensamente, revelando que el cuerpo est\xE1 cubierto por una red de hongos luminiscentes. Sab\xE9is, por instinto, que perturbar este ecosistema ser\xEDa un error."]},{cause:"Los cofres os observan. Sus cerraduras, aunque oxidadas, muestran marcas de intentos recientes de ser forzadas. El tercero tiene una mancha oscura que parece latir levemente al acercaros.",effects:["Si logr\xE1is abrirlos: Solo contienen piedras talladas con rostros agonizantes. Pero al moverlas, descubr\xEDs que el fondo del tercer cofre es falsa. Una llave de hueso yace all\xED, todav\xEDa caliente al tacto.","Si fall\xE1is o forz\xE1is las cerraduras: Un crujido met\xE1lico retumba bajo vuestros pies. El suelo se inclina peligrosamente, revelando que los cofres est\xE1n encadenados a algo mucho m\xE1s grande bajo las piedras..."]},{cause:"La puerta con engranajes parece ser vuestra \xFAnica salida. Pero cada vez que alguien se acerca, los mecanismos gimen como si estuvieran a punto de activarse.",effects:["Si os precipit\xE1is: La puerta se cierra de golpe. Un silbido agudo llena la sala mientras un vapor verdoso comienza a filtrarse por las juntas de las paredes. El cad\xE1ver del aventurero se disuelve ante vuestros ojos, convertido en una masa burbujeante.","Si actu\xE1is con precauci\xF3n: Not\xE1is que los engranajes est\xE1n conectados a tubos que recorren el techo. Con paciencia, pod\xE9is hacer que el mecanismo trabaje a vuestro favor, purgando el veneno hacia otras partes del templo donde quiz\xE1... sea \xFAtil."]}]},{name:"La C\xE1mara del Relicario Perdido",description:"La estancia es amplia y h\xFAmeda, iluminada por un resplandor verdoso que emana de tres fuentes dispuestas en un cuadrado. Sus aguas cristalinas caen en un gran manantial ante vosotros... . Al fondo de la sala, un colosal lagarto de piedra \u2014sus escamas convertidas en roca\u2014 vigila con ojos \xE1mbar que siguen vuestros movimientos. Bajo sus garras petrificadas, una puerta de bronce oxidado muestra una cerradura en forma de hoja. El aire huele a salitre y electricidad est\xE1tica.",events:[{cause:"Las tres fuentes funcionan, pero el manantial central permanece seco. En cada una pod\xE9is ver una runa distinta grabada: una monta\xF1a (Tierra), una llama (Fuego) y una ola (Agua). Record\xE1is las palabras del Hombre Desnudo: 'La vida comienza en la Tierra, se nutre del Fuego, fluye como el Agua...' Os falta el Aire. Al buscar por la sala, encontr\xE1is la cuarta fuente \u2014con un remolino tallado\u2014 tirada cerca del lagarto, cubierta de musgo.",effects:["Si coloc\xE1is la fuente faltante y activ\xE1is las runas en el orden correcto (Tierra, Fuego, Agua, Aire): El manantial emite un sonido arm\xF3nico. La puerta bajo el lagarto se abre con un chasquido, revelando escaleras descendentes. Los ojos del guardi\xE1n parpadean, pero no se mueve.","Si fall\xE1is el orden o ignor\xE1is el ritual: Un trueno retumba en la sala. Las grietas comienzan a extenderse por el cuerpo p\xE9treo del lagarto. Ten\xE9is aproximadamente el tiempo que tarda en quemarse una antorcha (10 minutos) antes de que despierte por completo."]},{cause:"La puerta entreabierta revela un relicario oculto. All\xED, sobre un coj\xEDn de terciopelo carcomido, descansa la reliquia: una corona de espinas de \xE9bano con una gema negra que absorbe la luz. Al tocarla, sent\xEDs un escalofr\xEDo que os recorre la columna vertebral.",effects:["Si tom\xE1is la reliquia con sigilo (usando la llave de hueso para evitar ruidos): Un crujido lejano os alerta \u2014el lagarto mueve una garra\u2014 pero a\xFAn est\xE1 medio petrificado. Pod\xE9is huir ahora o buscar m\xE1s tesoros... con riesgo.","Si la cog\xE9is bruscamente: El guardi\xE1n ruge al romper su petrificaci\xF3n. La puerta comienza a cerrarse. Para escapar, deber\xE9is esquivar sus garras (que rompen el suelo a cada embestida) y atravesar la puerta antes de que se selle (3 rondas)."]},{cause:"El lagarto despierto es ahora una tormenta de escamas y furia. Su cola derriba pilares y sus ojos brillan con la misma luz negra que la gema de la corona.",effects:["Si intent\xE1is combatirlo: Sus escamas reflejan hechizos como un espejo. Solo las armas f\xEDsicas parecen da\xF1arlo, pero cada golpe que recibe hace que la gema en la corona emita un pulso de energ\xEDa oscura (da\xF1o en \xE1rea).","Si hu\xEDs: El guardi\xE1n os perseguir\xE1 hasta los l\xEDmites del templo. Encuentros futuros ocurrir\xE1n en terrenos m\xE1s favorables para \xE9l \u2014como pasajes inundados o puentes colgantes\u2014 donde su tama\xF1o sea una ventaja."]}]}];var g1=(()=>{let e=class e{constructor(){this.roomList=p1,this.roomSelected=this.roomList[Math.floor(Math.random()*this.roomList.length)],this.adventures=m1}randomize(){this.roomSelected=this.roomList[Math.floor(Math.random()*this.roomList.length)]}getScene(r){try{return this.adventures[r]}catch(i){return console.error(i),this.adventures[0]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function i3(t,e){if(t&1&&(x(0,"li")(1,"p",22),N(2),M()()),t&2){let n=e.$implicit;L(2),de("\u2192 ",n,"")}}function s3(t,e){if(t&1&&(x(0,"tr")(1,"td",20),N(2),M(),x(3,"td")(4,"ul",21),Lt(5,i3,3,1,"li",17),M()()()),t&2){let n=e.$implicit;L(2),de(" \u{1F4D6} ",n.cause," "),L(3),at("ngForOf",n.effects)}}function o3(t,e){if(t&1&&(x(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),N(4),M(),x(5,"h5",12),N(6),M(),Ee(7,"br")(8,"br"),x(9,"div",13)(10,"table",14)(11,"thead",15)(12,"tr")(13,"th",16),N(14,"\u2694 Evento"),M(),x(15,"th",16),N(16,"\u{1F52E} Consecuencias"),M()()(),x(17,"tbody"),Lt(18,s3,6,2,"tr",17),x(19,"tr")(20,"td",18),Ee(21,"hr",19),M()()()()()()()()),t&2){let n=e.$implicit;L(4),Dt(n.name),L(2),Dt(n.description),L(12),at("ngForOf",n.events)}}var y1=(()=>{let e=class e{constructor(r){this.roomService=r}randomize(r){this.roomService.randomize(),document.querySelector(".ocultar")?.classList.toggle("mostrar")}getScene(r){return this.roomService.getScene(r)}};e.\u0275fac=function(i){return new(i||e)(Q(g1))},e.\u0275cmp=ke({type:e,selectors:[["app-mazmorreo"]],standalone:!0,features:[Oe],decls:33,vars:10,consts:[["appHideDetails",""],[1,"container","my-4"],[1,"text-center","text-brown","fw-bold","mb-4",2,"font-family","serif"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"item-info"],[3,"click"],[1,"ocultar"],[1,"col-12"],[1,"card","mb-4","shadow-lg","border-warning","bg-light",2,"border-radius","10px"],[1,"card-body"],[1,"card-title","text-dark","fw-bold","fst-italic"],[1,"card-text","text-brown"],[1,"table-responsive"],[1,"table","table-bordered","bg-secondary-subtle"],[1,"table-dark"],["scope","col",1,"text-brown"],[4,"ngFor","ngForOf"],["colspan","2"],[1,"my-3","border","border-secondary","border-3"],[1,"text-brown","fw-bold"],[1,"list-unstyled"],[1,"text-muted","fst-italic"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"div",1)(2,"h1",2),N(3,"\u{1F4DC} Las colinas de la mano \u{1F4DC}"),M(),x(4,"div",3),Lt(5,o3,22,3,"div",4),M()(),x(6,"div",5)(7,"h3"),N(8),M(),x(9,"p"),N(10),M(),x(11,"button",6),J("click",function(a){return s.randomize(a)}),N(12," Generar Habitaci\xF3n "),M(),x(13,"button"),N(14," Ampliar detalles "),M()(),x(15,"div",7)(16,"div",5)(17,"h3"),N(18," Nodo central de la habitaci\xF3n "),M(),x(19,"p"),N(20),M(),x(21,"h4"),N(22),M(),x(23,"p"),N(24),M(),x(25,"h4"),N(26),M(),x(27,"p"),N(28),M(),x(29,"h4"),N(30),M(),x(31,"p"),N(32),M()()()()),i&2&&(L(5),at("ngForOf",s.roomService.adventures),L(3),de("",s.roomService.roomSelected.habitacion," "),L(2),de("",s.roomService.roomSelected.descripcion," "),L(10),de(" ",s.roomService.roomSelected.nodoCentral," "),L(2),de(" Pista: ",s.roomService.roomSelected.objeto1.elemento," "),L(2),de(" ",s.roomService.roomSelected.objeto1.relacion," "),L(2),de(" Pista: ",s.roomService.roomSelected.objeto2.elemento," "),L(2),de(" ",s.roomService.roomSelected.objeto2.relacion," "),L(2),de(" Pista: ",s.roomService.roomSelected.objeto3.elemento," "),L(2),de(" ",s.roomService.roomSelected.objeto3.relacion," "))},dependencies:[va,Ji,Jd],styles:['[_nghost-%COMP%]{padding-top:30px;display:block}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:#333;line-height:1.2}h3[_ngcontent-%COMP%]{margin-bottom:20px}h4[_ngcontent-%COMP%]{margin:20px 0;text-transform:uppercase;color:#666}p[_ngcontent-%COMP%]{color:#666;margin-bottom:10px}h3[_ngcontent-%COMP%]:after, h4[_ngcontent-%COMP%]:after{content:"";display:block;width:50px;height:2px;background:#333;margin:10px 0}h4[_ngcontent-%COMP%]:hover{color:#333;cursor:pointer}.img-details[_ngcontent-%COMP%]{display:inline;float:right;max-width:50%;border:5px groove rgb(101,99,99);border-radius:10px;margin:30px}.item-info[_ngcontent-%COMP%]{background-color:#dbd8cd;font-weight:100;border:2px inset rgb(122,117,102);font-style:italic;color:#000;padding:10px 10%;align-items:center;gap:10px;border-radius:5px;margin:10px;display:block}.ocultar[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .5s ease-in-out}.mostrar[_ngcontent-%COMP%]{max-height:5000px}p[_ngcontent-%COMP%]:hover{color:#333;cursor:pointer}@media (max-width: 600px){.img-details[_ngcontent-%COMP%]{display:block;float:none;max-width:100%}}']});let t=e;return t})();var v1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-banner"]],standalone:!0,features:[Oe],decls:1,vars:0,consts:[[1,"row"]],template:function(i,s){i&1&&Ee(0,"div",0)},styles:[".row[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;width:100%;max-width:100%;overflow:hidden}#poster[_ngcontent-%COMP%]{max-width:40vw;height:auto;flex-shrink:0}#banner-description[_ngcontent-%COMP%]{margin-left:0;flex:1;display:flex;flex-direction:column;justify-content:center}.button[_ngcontent-%COMP%]{font-size:16px;margin:35px 0;padding:11px 16px;-webkit-transition:all .3s linear;-moz-transition:all .3s linear;transition:all .3s linear;display:inline-block;border-width:3px;border-style:solid}@media (max-width: 768px){#poster[_ngcontent-%COMP%]{display:none}#banner-description[_ngcontent-%COMP%]{margin-left:0;width:100%}}"]});let t=e;return t})();function a3(t,e){t&1&&Ee(0,"app-mazmorreo")}function c3(t,e){if(t&1&&Ee(0,"app-scenario-detail",12),t&2){let n=Gt();at("escenario",n.selectedScenario())}}var b1=(()=>{let e=class e{constructor(){this.selectedScenario=wT("city"),this.isDungeon=!1}onSelectScenario(r){let s=r.currentTarget.querySelector("img");this.selectedScenario.update(o=>"0"),setTimeout(()=>{this.selectedScenario.update(o=>s.alt),console.log("Esto se ejecuta despu\xE9s de 0.1 segundos")},100),this.isDungeon=s.alt==="maze"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-scenario"]],standalone:!0,features:[Oe],decls:35,vars:1,consts:[[1,"row"],["id","npc-gen",1,"section-heading"],[1,"section-title"],[1,"section-subtitle"],[1,"gallery"],[3,"click"],["src","img/gallery-images/medieval/medieval-church-2.png","alt","church"],["src","img/gallery-images/medieval/medieval-maze-2.png","alt","maze"],["src","img/gallery-images/medieval/medieval-city-2.png","alt","town"],["src","img/gallery-images/medieval/medieval-tower-1.png","alt","tower"],["src","img/gallery-images/medieval/medieval-market-2.png","alt","market"],["src","img/gallery-images/medieval/medieval-inn-1.png","alt","inn"],[3,"escenario"]],template:function(i,s){i&1&&(Ee(0,"app-banner"),x(1,"div",0)(2,"div",1)(3,"h2",2),N(4,"Generador de Escenarios"),M(),x(5,"p",3),N(6,"Genera de forma aleatoria un escenario. "),M()(),Ee(7,"app-trama"),x(8,"div",4)(9,"figure",5),J("click",function(a){return s.onSelectScenario(a)}),Ee(10,"img",6),x(11,"figcaption"),N(12," La Iglesia "),M()(),x(13,"figure",5),J("click",function(a){return s.onSelectScenario(a)}),Ee(14,"img",7),x(15,"figcaption"),N(16," Las mazmorras "),M()(),x(17,"figure",5),J("click",function(a){return s.onSelectScenario(a)}),Ee(18,"img",8),x(19,"figcaption"),N(20," Cuarteles "),M()(),x(21,"figure",5),J("click",function(a){return s.onSelectScenario(a)}),Ee(22,"img",9),x(23,"figcaption"),N(24," La Torre "),M()(),x(25,"figure",5),J("click",function(a){return s.onSelectScenario(a)}),Ee(26,"img",10),x(27,"figcaption"),N(28," El Mercado "),M()(),x(29,"figure",5),J("click",function(a){return s.onSelectScenario(a)}),Ee(30,"img",11),x(31,"figcaption"),N(32," La Posada "),M()()(),Lt(33,a3,1,0,"app-mazmorreo")(34,c3,1,1,"app-scenario-detail",12),M()),i&2&&(L(33),Gd(s.isDungeon?33:34))},dependencies:[s1,f1,y1,v1],styles:[".gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-template-rows:repeat(1,1fr);gap:0px;margin-bottom:60px}.gallery[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%], .gallery[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.gallery[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin:10px}.gallery[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{display:block;margin:0 5px;padding:10px;font-size:14px;color:#333;background-color:#e0dcd2e6;border:1px solid #ddd;border-radius:5px;max-width:calc(100% - 20px);left:50%;top:20px;box-shadow:0 2px 4px #0000001a}.gallery[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]:hover{cursor:pointer}.mostrar[_ngcontent-%COMP%]{max-height:500px}"]});let t=e;return t})();var A1=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Q(zi),Q(Vn))},e.\u0275dir=Ue({type:e});let t=e;return t})(),x1=(()=>{let e=class e extends A1{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Kr(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,features:[_n]});let t=e;return t})(),zE=new K("");var u3={provide:zE,useExisting:lr(()=>yi),multi:!0};function l3(){let t=mr()?mr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var d3=new K(""),yi=(()=>{let e=class e extends A1{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!l3())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Q(zi),Q(Vn),Q(d3,8))},e.\u0275dir=Ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&J("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Wi([u3]),_n]});let t=e;return t})();function fp(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var wp=new K(""),M1=new K("");function h3(t){return e=>{if(fp(e.value)||fp(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function f3(t){return e=>{if(fp(e.value)||fp(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function w1(t){return null}function N1(t){return t!=null}function R1(t){return Ki(t)?Ke(t):t}function P1(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function k1(t,e){return e.map(n=>n(t))}function p3(t){return!t.validate}function O1(t){return t.map(e=>p3(e)?e:n=>e.validate(n))}function m3(t){if(!t)return null;let e=t.filter(N1);return e.length==0?null:function(n){return P1(k1(n,e))}}function $E(t){return t!=null?m3(O1(t)):null}function g3(t){if(!t)return null;let e=t.filter(N1);return e.length==0?null:function(n){let r=k1(n,e).map(R1);return hm(r).pipe(he(P1))}}function HE(t){return t!=null?g3(O1(t)):null}function _1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function y3(t){return t._rawValidators}function v3(t){return t._rawAsyncValidators}function BE(t){return t?Array.isArray(t)?t:[t]:[]}function pp(t,e){return Array.isArray(t)?t.includes(e):t===e}function E1(t,e){let n=BE(e);return BE(t).forEach(i=>{pp(n,i)||n.push(i)}),n}function I1(t,e){return BE(e).filter(n=>!pp(t,n))}var mp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$E(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},_a=class extends mp{get formDirective(){return null}get path(){return null}},Zu=class extends mp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},gp=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},b3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ene=ge(j({},b3),{"[class.ng-submitted]":"isSubmitted"}),Ia=(()=>{let e=class e extends gp{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Q(Zu,2))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&jn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[_n]});let t=e;return t})(),L1=(()=>{let e=class e extends gp{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Q(_a,10))},e.\u0275dir=Ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&jn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[_n]});let t=e;return t})();var Ku="VALID",hp="INVALID",ba="PENDING",Qu="DISABLED",Ea=class{},yp=class extends Ea{constructor(e,n){super(),this.value=e,this.source=n}},Ju=class extends Ea{constructor(e,n){super(),this.pristine=e,this.source=n}},Xu=class extends Ea{constructor(e,n){super(),this.touched=e,this.source=n}},wa=class extends Ea{constructor(e,n){super(),this.status=e,this.source=n}};function F1(t){return(_p(t)?t.validators:t)||null}function w3(t){return Array.isArray(t)?$E(t):t||null}function V1(t,e){return(_p(e)?e.asyncValidators:t)||null}function _3(t){return Array.isArray(t)?HE(t):t||null}function _p(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function E3(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[n])throw new H(1001,"")}function I3(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new H(1002,"")})}var vp=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new ot,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ku}get invalid(){return this.status===hp}get pending(){return this.status==ba}get disabled(){return this.status===Qu}get enabled(){return this.status!==Qu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(E1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(E1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(I1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(I1(e,this._rawAsyncValidators))}hasValidator(e){return pp(this._rawValidators,e)}hasAsyncValidator(e){return pp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Xu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Xu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ju(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ju(!0,r))}markAsPending(e={}){this.status=ba;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wa(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qu,this.errors=null,this._forEachChild(i=>{i.disable(ge(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yp(this.value,r)),this._events.next(new wa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ku,this._forEachChild(r=>{r.enable(ge(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ku||this.status===ba)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yp(this.value,n)),this._events.next(new wa(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qu:Ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ba,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=R1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new wa(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Qu:this.errors?hp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ba)?ba:this._anyControlsHaveStatus(hp)?hp:Ku}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ju(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Xu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_p(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=w3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_3(this._rawAsyncValidators)}},bp=class extends vp{constructor(e,n,r){super(F1(n),V1(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){I3(this,!0,e),Object.keys(e).forEach(r=>{E3(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var GE=new K("CallSetDisabledState",{providedIn:"root",factory:()=>WE}),WE="always";function D3(t,e){return[...e.path,t]}function j1(t,e,n=WE){q1(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),T3(t,e),A3(t,e),S3(t,e),C3(t,e)}function D1(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function C3(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function q1(t,e){let n=y3(t);e.validator!==null?t.setValidators(_1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=v3(t);e.asyncValidator!==null?t.setAsyncValidators(_1(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();D1(e._rawValidators,i),D1(e._rawAsyncValidators,i)}function T3(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&U1(t,e)})}function S3(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&U1(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function U1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function A3(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function x3(t,e){t==null,q1(t,e)}function M3(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function N3(t){return Object.getPrototypeOf(t.constructor)===x1}function R3(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function P3(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===yi?n=s:N3(s)?r=s:i=s}),i||r||n||null}var k3={provide:_a,useExisting:lr(()=>KE)},Yu=Promise.resolve(),KE=(()=>{let e=class e extends _a{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ye,this.form=new bp({},$E(r),HE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Yu.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),j1(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Yu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Yu.then(()=>{let i=this._findContainer(r.path),s=new bp({});x3(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Yu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Yu.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,R3(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Q(wp,10),Q(M1,10),Q(GE,8))},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&J("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wi([k3]),_n]});let t=e;return t})();function C1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function T1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var O3=class extends vp{constructor(e=null,n,r){super(F1(n),V1(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_p(n)&&(n.nonNullable||n.initialValueIsDefault)&&(T1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){C1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){C1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){T1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var L3={provide:Zu,useExisting:lr(()=>ks)},S1=Promise.resolve(),ks=(()=>{let e=class e extends Zu{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new O3,this._registered=!1,this.name="",this.update=new Ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=P3(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),M3(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){j1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){S1.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Yi(i);S1.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?D3(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Q(_a,9),Q(wp,10),Q(M1,10),Q(zE,10),Q(Qi,8),Q(GE,8))},e.\u0275dir=Ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wi([L3]),_n,Fn]});let t=e;return t})(),B1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),F3={provide:zE,useExisting:lr(()=>el),multi:!0},el=(()=>{let e=class e extends x1{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Kr(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&J("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Wi([F3]),_n]});let t=e;return t})();function z1(t){return typeof t=="number"?t:parseFloat(t)}var $1=(()=>{let e=class e{constructor(){this._validator=w1}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):w1,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,features:[Fn]});let t=e;return t})(),V3={provide:wp,useExisting:lr(()=>QE),multi:!0},QE=(()=>{let e=class e extends $1{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>z1(r),this.createValidator=r=>f3(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Kr(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&wo("max",s._enabled?s.max:null)},inputs:{max:"max"},features:[Wi([V3]),_n]});let t=e;return t})(),j3={provide:wp,useExisting:lr(()=>tl),multi:!0},tl=(()=>{let e=class e extends $1{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>z1(r),this.createValidator=r=>h3(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Kr(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&wo("min",s._enabled?s.min:null)},inputs:{min:"min"},features:[Wi([j3]),_n]});let t=e;return t})();var q3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ji({type:e}),e.\u0275inj=Vi({});let t=e;return t})();var vi=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:GE,useValue:r.callSetDisabledState??WE}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ji({type:e}),e.\u0275inj=Vi({imports:[q3]});let t=e;return t})();var H1=[{id:"1",nombre:"Espada celestial",material:"Acero celestial",descripcion:"Una espada forjada por los dioses con la capacidad de cortar a trav\xE9s de la oscuridad.",propiedades:"Inflige da\xF1o de luz, puede cegar a los enemigos."},{id:"2",nombre:"Escudo del Drag\xF3n",material:"Escamas de drag\xF3n",descripcion:"Un escudo resistente creado a partir de las escamas de un drag\xF3n legendario.",propiedades:"Altamente resistente al fuego, aumenta la defensa m\xE1gica."},{id:"3",nombre:"Anillo de la Invisibilidad",material:"Oro \xE9lfico",descripcion:"Un anillo encantado que permite a su portador volverse invisible a voluntad.",propiedades:"Otorga invisibilidad, mejora la agilidad y el sigilo."},{id:"4",nombre:"Varita del Mago",material:"Madera de roble antiguo",descripcion:"Una varita poderosa que amplifica las habilidades m\xE1gicas de su due\xF1o.",propiedades:"Aumenta el poder de los hechizos, recarga la energ\xEDa m\xE1gica."},{id:"5",nombre:"Armadura de la Fortaleza",material:"Hierro encantado",descripcion:"Una armadura indestructible que proporciona una defensa impenetrable.",propiedades:"Incrementa significativamente la defensa f\xEDsica, reduce el da\xF1o recibido."},{id:"6",nombre:"Amuleto de la Vida",material:"Plata pura",descripcion:"Un amuleto bendecido que protege a su portador de la muerte inminente.",propiedades:"Regenera salud, puede resucitar una vez al d\xEDa."},{id:"7",nombre:"Botas del Viento",material:"Cuero de grifo",descripcion:"Unas botas ligeras que permiten moverse con la rapidez del viento.",propiedades:"Aumenta la velocidad de movimiento, reduce el ruido al caminar."},{id:"8",nombre:"Capa de las Sombras",material:"Tela oscura",descripcion:"Una capa que envuelve a su portador en sombras, haci\xE9ndolo dif\xEDcil de detectar.",propiedades:"Mejora la furtividad, reduce la detecci\xF3n por enemigos."},{id:"9",nombre:"Poci\xF3n de la Fuerza",material:"L\xEDquido m\xE1gico",descripcion:"Una poci\xF3n que otorga una fuerza sobrehumana durante un corto per\xEDodo.",propiedades:"Aumenta la fuerza f\xEDsica, mejora el rendimiento en combate."},{id:"10",nombre:"B\xE1culo de la Sabidur\xEDa",material:"Cristal encantado",descripcion:"Un b\xE1culo que contiene el conocimiento de antiguos magos y sabios.",propiedades:"Aumenta la inteligencia y sabidur\xEDa, mejora la capacidad de aprendizaje."}];var G1=[{id:"1",descripcion:"Un objeto com\xFAn y corriente, no parece tener nada en especial... \xBFo tal vez s\xED?"},{id:"2",descripcion:"Un artilugio algo peculiar. Emite un leve destello azulado al trasluz, como si estuviera diciendo algo."},{id:"3",descripcion:"Parece un objeto algo viejo y desgastado... quiz\xE1s todav\xEDa sirva, aunque lo m\xE1s probable es que no."},{id:"4",descripcion:"Inusualmente ligero para su tama\xF1o, casi como si flotase al tomarlo el objeto con las manos."},{id:"5",descripcion:"Un extra\xF1o halo misterioso recubre al artilugio, es como si tuviese vida."},{id:"6",descripcion:"Este objeto emite un sonido casi imperceptible, como un susurro en una lengua olvidada."},{id:"7",descripcion:"El objeto parece tener una textura \xFAnica, a veces suave como la seda, otras veces \xE1spera como la roca."},{id:"8",descripcion:"Hay algo en este objeto que atrae la mirada, aunque no se puede decir exactamente qu\xE9 es."},{id:"9",descripcion:"Un objeto que siempre parece estar a una temperatura diferente a la del entorno, fr\xEDo o caliente sin raz\xF3n aparente."},{id:"10",descripcion:"Este artilugio tiene un equilibrio inusual, parece moverse ligeramente cuando no lo est\xE1s mirando."},{id:"11",descripcion:"Un objeto que deja una ligera fragancia en el aire, algo familiar pero dif\xEDcil de identificar."},{id:"12",descripcion:"El objeto parece resonar con una energ\xEDa invisible, a veces vibrando levemente sin motivo aparente."},{id:"13",descripcion:"Aunque parece s\xF3lido, al tocarlo da la impresi\xF3n de ser parcialmente et\xE9reo, como si no estuviera del todo en este mundo."},{id:"14",descripcion:"Este objeto tiene una forma indefinida, cambiando ligeramente seg\xFAn el \xE1ngulo desde el que se mire."},{id:"15",descripcion:"Un artilugio con patrones que parecen moverse y cambiar, aunque cuando te fijas mejor, permanecen est\xE1ticos."},{id:"16",descripcion:"El objeto emite una leve vibraci\xF3n, como si estuviera respirando suavemente."},{id:"17",descripcion:"Un artilugio que parece cambiar de color seg\xFAn la luz que lo ilumina, nunca es el mismo dos veces."},{id:"18",descripcion:"Parece tener una peque\xF1a inscripci\xF3n en un idioma desconocido, apenas visible a simple vista."},{id:"19",descripcion:"Al tocarlo, sientes una extra\xF1a sensaci\xF3n de d\xE9j\xE0 vu, como si ya lo hubieras tenido antes."},{id:"20",descripcion:"Un objeto que parece atraer o repeler polvo sin ninguna explicaci\xF3n l\xF3gica."},{id:"21",descripcion:"Al sostenerlo, el objeto parece tener un peso que var\xEDa sin raz\xF3n aparente, a veces ligero, a veces pesado."},{id:"22",descripcion:"Un objeto con una superficie que parece reflejar m\xE1s de lo que realmente deber\xEDa, mostrando destellos de lugares lejanos."},{id:"23",descripcion:"Emite un ligero zumbido que apenas se percibe, y s\xF3lo cuando est\xE1 en completa oscuridad."},{id:"24",descripcion:"Un artilugio que parece estar caliente al tacto, pero no emite ning\xFAn calor visible."},{id:"25",descripcion:"Tiene una forma curiosa, que no parece seguir ninguna geometr\xEDa conocida, y es dif\xEDcil de describir."},{id:"26",descripcion:"Al mirarlo de cerca, el objeto parece contener diminutos puntos de luz, como estrellas en miniatura."},{id:"27",descripcion:"Este objeto parece emitir una ligera brisa, aunque no se puede discernir su origen."},{id:"28",descripcion:"Tiene un peque\xF1o sonido met\xE1lico cuando se mueve, como si tuviera partes m\xF3viles internas que no se pueden ver."},{id:"29",descripcion:"Un artilugio que parece absorber la luz a su alrededor, volvi\xE9ndose m\xE1s oscuro cuanto m\xE1s se observa."},{id:"30",descripcion:"Parece tener un aroma cambiante, a veces dulce y otras veces acre, sin raz\xF3n aparente."},{id:"31",descripcion:"Un objeto que parece emitir un leve susurro cuando te acercas lo suficiente."},{id:"32",descripcion:"Tiene una textura extra\xF1a, que parece cambiar entre suave y rugosa sin previo aviso."},{id:"33",descripcion:"Un artilugio que parece pulsar con una luz tenue que parpadea intermitentemente."},{id:"34",descripcion:"Al mirarlo fijamente, parece que el tiempo a su alrededor se ralentiza por un instante."},{id:"35",descripcion:"Parece estar hecho de un material desconocido, ni metal ni madera, algo intermedio."},{id:"36",descripcion:"Este objeto tiene un leve aroma a tierra h\xFAmeda, como despu\xE9s de la lluvia."},{id:"37",descripcion:"Parece tener peque\xF1as marcas, como si hubiera sido manipulado muchas veces antes."},{id:"38",descripcion:"El objeto parece tener una ligera carga est\xE1tica, haciendo que los pelos se ericen al tocarlo."},{id:"39",descripcion:"Emite un reflejo inusual, como si estuviera recubierto de una capa de agua invisible."},{id:"40",descripcion:"Tiene un patr\xF3n que cambia ligeramente cada vez que lo observas desde un \xE1ngulo diferente."},{id:"41",descripcion:"Un artilugio que parece resonar con una frecuencia muy baja, apenas perceptible al o\xEDdo humano."},{id:"42",descripcion:"Parece que su superficie absorbe la luz, volvi\xE9ndose m\xE1s oscuro cuando se ilumina directamente."},{id:"43",descripcion:"Este objeto tiene un equilibrio perfecto, como si fuera imposible hacerlo caer."},{id:"44",descripcion:"Un objeto con una ligera capa de polvo, aunque parece repelerlo activamente."},{id:"45",descripcion:"Al sostenerlo, sientes un leve zumbido que parece provenir del interior del objeto."},{id:"46",descripcion:"Tiene un ligero resplandor que s\xF3lo es visible en completa oscuridad."},{id:"47",descripcion:"Un artilugio que parece m\xE1s pesado de lo que su tama\xF1o sugiere."},{id:"48",descripcion:"Al acercarlo al o\xEDdo, se escucha un murmullo muy bajo, como voces lejanas."},{id:"49",descripcion:"Parece estar ligeramente tibio al tacto, independientemente de la temperatura ambiente."},{id:"50",descripcion:"El objeto emite una suave fragancia floral que cambia ligeramente con el tiempo."},{id:"51",descripcion:"Tiene una superficie que parece moverse como olas en el agua, aunque es s\xF3lida."},{id:"52",descripcion:"Un objeto que parece estar cubierto de una fina capa de escarcha, incluso en calor."},{id:"53",descripcion:"Emite un suave brillo que parece provenir de su interior, sin fuente visible."},{id:"54",descripcion:"Parece vibrar ligeramente cuando lo sostienes, como si tuviera un peque\xF1o motor interno."},{id:"55",descripcion:"Al tocarlo, sientes una leve corriente el\xE9ctrica que no causa dolor pero es perceptible."},{id:"56",descripcion:"Tiene una inscripci\xF3n que parece cambiar cada vez que intentas leerla."},{id:"57",descripcion:"Un artilugio que emite un suave tintineo al moverse, como campanillas en miniatura."},{id:"58",descripcion:"Su superficie parece reflejar im\xE1genes de lugares que no est\xE1n presentes."},{id:"59",descripcion:"El objeto parece hacerse m\xE1s ligero o pesado dependiendo de qui\xE9n lo sostenga."},{id:"60",descripcion:"Tiene un color que parece cambiar ligeramente dependiendo del estado de \xE1nimo del observador."},{id:"61",descripcion:"Al sostenerlo, se siente una ligera vibraci\xF3n, como si estuviera pidiendo atenci\xF3n."},{id:"62",descripcion:"Un objeto que parece emitir una suave melod\xEDa que cambia con el viento."},{id:"63",descripcion:"Tiene una textura suave que se siente casi l\xEDquida al tacto, aunque es s\xF3lido."},{id:"64",descripcion:"Parece ser m\xE1s fr\xEDo al tocarlo, sin importar la temperatura del entorno."},{id:"65",descripcion:"Un artilugio que emite un suave resplandor cuando se encuentra en la oscuridad."},{id:"66",descripcion:"El objeto parece absorber los sonidos, haciendo que el entorno sea m\xE1s silencioso."},{id:"67",descripcion:"Tiene una forma indefinida que parece cambiar ligeramente cada vez que lo miras."},{id:"68",descripcion:"Emite un suave zumbido que s\xF3lo es audible en silencio absoluto."},{id:"69",descripcion:"Un objeto que parece generar una ligera corriente de aire a su alrededor."},{id:"70",descripcion:"Parece tener un leve campo magn\xE9tico que atrae peque\xF1os objetos met\xE1licos."},{id:"71",descripcion:"El objeto tiene una textura que parece cambiar entre \xE1spera y suave al tacto."},{id:"72",descripcion:"Emite una luz pulsante que parece seguir el ritmo de un latido invisible."},{id:"73",descripcion:"Un artilugio que parece cambiar de peso dependiendo de la posici\xF3n en la que se sostenga."},{id:"74",descripcion:"Tiene un color iridiscente que cambia seg\xFAn el \xE1ngulo de la luz."},{id:"75",descripcion:"Parece emitir una leve fragancia que recuerda a un bosque despu\xE9s de la lluvia."},{id:"76",descripcion:"El objeto tiene una superficie que parece reflejar m\xE1s de lo que deber\xEDa."},{id:"77",descripcion:"Un artilugio que parece estar ligeramente h\xFAmedo al tacto, aunque no lo est\xE1."},{id:"78",descripcion:"Tiene una leve emisi\xF3n de luz que parece provenir de su interior."},{id:"79",descripcion:"Parece emitir un sonido muy bajo, como un zumbido constante y lejano."},{id:"80",descripcion:"El objeto tiene un patr\xF3n de lo m\xE1s aburrido... casi te hace tener ganas de dejarlo tirado en cualquier lugar."}];var W1=(()=>{let e=class e{constructor(){this.itemDescription=G1,this.itemList=H1;this.tiposDeObjetos=z3,this.sobrenombres=$3,this.materiales=H3,this.efectosMagicos=K1;let r=localStorage.getItem("itemList");r&&(this.itemList=JSON.parse(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z3=["Espada","Escudo","Poci\xF3n","Armadura","Anillo","Mandoble","Cimitarra","Lanza","Daga","Arco","Flecha","Ballesta","Hacha","Maza","Martillo de guerra","Casco","Grebas","Guantelete","Cota de malla","Yelmo","Espada corta","Espada larga","Alabarda","Pica","Hacha de batalla","Espada bastarda","Cuchillo","B\xE1culo","Varita","Bast\xF3n","Cruz","Talisman","Amuleto","Collar","Brazalete","Cintur\xF3n","Botas","Sandalias","Manto","T\xFAnica","Ropaje","Chaleco de cuero","Gorro","Faja","Capa","Capucha","Camis\xF3n","Escarcela","Calzas","Zapatos","Zapatillas","Pantuflas","Espuelas","Faj\xEDn","Hombreras","Escarcelas","Rodilleras","Tobilleras","Musleras","Brazales","Antorcha","Linterna","Candelabro","Cuerda","Grillete","Llave","Mapa","Br\xFAjula","Frasco","Botella","Cantimplora","Bolsa de monedas","Saco","Mochila","Pergamino","Libro","Manuscrito","Estilete","Cinco","Dardo","Carcaj","Rodela","Rodel\xEDn","Targe","Kite","Rodela","Pav\xE9s","Targa","Escudo pavesino","Tablilla","Escudo de bronce","Escudo de hierro","Escudo de acero","Escudo de plata","Escudo de oro","Espada de bronce","Espada de hierro","Espada de acero","Espada de plata","Espada de oro"],$3=["(com\xFAn)","(com\xFAn)","(com\xFAn)","(com\xFAn)","(com\xFAn)","(com\xFAn)","(com\xFAn)","(objeto desgastado)","(objeto desgastado)","(objeto desgastado)","(objeto desgastado)","(vulgar)","(vulgar)","(vulgar)","(vulgar)","(vulgar)","(vulgar)","(peculiar)","(peculiar)","(peculiar)","(peculiar)","(peculiar)","costumbrista","costumbrista","costumbrista","(especial)","(especial)","(especial)","(especial)","(especial)","(especial)","(inusual)","(inusual)","(inusual)","(inusual)","(inusual)","(inusual)","con recubrimiento mohoso","con recubrimiento mohoso","con recubrimiento mohoso","con moho","con moho","con moho","en desuso","en desuso","en desuso","en desuso","en desuso","con \xF3xido","con \xF3xido","con \xF3xido","con \xF3xido","con \xF3xido","con \xF3xido","normal","habitual","al uso","de uso frecuente","vulgar","de uso t\xEDpico","costumbrista","del Olvido","Celestial","del Alquimista","de los Druidas","Infernal","de la Luna","de la Tormenta","del Drag\xF3n","de las Sombras","del Viento","del Mar","del Bosque","de los Titanes","de la Monta\xF1a","del Sol","de la Noche","de la Luz","de la Oscuridad","del Fuego","del Hielo","del Trueno","del Destino","de la Eternidad","de la Magia","del Guerrero","del Mago","del Rey","de la Reina","del Caos","de la Paz","de la Guerra","del Enigma","de la Ilusi\xF3n","de la Realidad","del Esp\xEDritu","del Tiempo","del Espacio","del Infinito","de la Vida","de la Muerte","del Renacimiento","del Horizonte","del Abismo","de la Verdad","de la Mentira","del Silencio","de la Canci\xF3n","del Coraz\xF3n","de la Mente","del Alma","del Esp\xEDritu","del Universo","del Cosmos","universal","de la Estrella","del Cometa","del F\xE9nix","de la Hidra","del Grifo","del Unicornio","del Basilisco","del Centauro","del Minotauro","del Pegaso","del Kraken","del Leviat\xE1n","del Vampiro","del Hombre Lobo","del Fantasma","del Zombi","de la Calavera","de la G\xE1rgola","del Espectro","del Demonio","del \xC1ngel","del Hechicero","del Sabio","del Protector","del Conquistador","del Explorador","del Viajero","del Navegante","del Arquero","del Caballero","del Mercenario","del B\xE1rbaro","del Monje","del Asesino","del P\xEDcaro","del Palad\xEDn","del Druida","del Cham\xE1n","del Sumo Sacerdote","del Or\xE1culo","del Guardi\xE1n","del Custodio","del Vigilante","del Centinela","del Exiliado","del Cazador","del Templario"],H3=["Madera com\xFAn","Madera tallada","Tela","Cuero","Piel","Seda","Piedra","Hierro","Acero","Madera antigua","Bronce","Plata","Oro","Cobre","Marfil","Hierro refinado","Acero templado","Madera encantada","Oro puro","Plata celestial","Hierro oscuro","Acero m\xE1gico","Oro maldito","Plata lunar","Madera de abedul","Cristales extra\xF1os","Gemas variopintas","Telas de ara\xF1a","Cuero de drag\xF3n","Piel de basilisco","Seda lunar","Piedra volc\xE1nica","Hierro forjado en fuego eterno","Acero de los ancestros","Madera del \xE1rbol del mundo","Bronce antiguo","Plata de las estrellas","Oro celestial","Cobre ennegrecido","Marfil sagrado","Hierro negro azabache","Acero de la forja olvidada","Madera bendecida por los dioses","Cristales de la aurora boreal","Gemas de los reyes perdidos","Telas del reino de las sombras","Cuero de la bestia primigenia","Piel de la serpiente c\xF3smica","Seda de los sue\xF1os","Piedra de la monta\xF1a divina","Hierro del drag\xF3n ancestral","Acero encantado por la luna","Madera del bosque encantado","Bronce de la era dorada","Plata de la luna llena","Oro bendito por los arc\xE1ngeles","Cobre de las profundidades","Marfil de la criatura primordial","Hierro sagrado de los santuarios","Acero de los titanes","Madera del esp\xEDritu antiguo","Cristales de la tormenta celestial","Gemas del oc\xE9ano profundo","Telas del viento veloz","Cuero de la bestia devoradora de mundos","Piel de la criatura de las sombras","Seda del rey fantasma","Piedra de la monta\xF1a sagrada","Hierro de la estrella fugaz","Acero de la forja del tiempo perdido","Madera de los \xE1rboles eternos","Bronce de la era de los dioses","Plata de la galaxia lejana","Oro de los cielos et\xE9reos","Cobre de las ruinas olvidadas","Marfil de la bestia c\xF3smica","Hierro fundido en el coraz\xF3n del volc\xE1n","Acero templado por los dioses antiguos","Madera imbuida de magia arcana","Cristales de la fuente de la vida eterna","Gemas de la corona de los reyes perdidos","Telas de la noche eterna","Cuero de la bestia del abismo","Piel de la criatura de la oscuridad","Seda del r\xEDo de los sue\xF1os eternos","Piedra del monte celestial","Hierro del drag\xF3n c\xF3smico","Acero forjado por la estrella fugaz","Madera de los \xE1rboles ancestrales","Bronce del rey ca\xEDdo","Plata de la galaxia escondida","Oro de la luz eterna","Cobre de las minas de las almas perdidas","Marfil de la bestia primigenia","Hierro de los santuarios olvidados","Acero de los titanes dormidos","Madera del bosque de los esp\xEDritus antiguos","Cristales del mar profundo","Gemas de la estrella fugaz","Telas del viento del norte","Cuero de la bestia de la noche eterna","Piel de la sombra de la luna","Seda de los sue\xF1os olvidados"],K1=["Aumenta la debilidad del portador","Reduce la resistencia del portador","Aumenta la fatiga del portador","Reduce la velocidad del portador","Provoca mareos en el portador","Causa dolor en el portador","Aumenta la vulnerabilidad a los ataques","Disminuye la capacidad de concentraci\xF3n del portador","Aumenta la irritabilidad del portador","Causa confusi\xF3n al portador","Reduce la precisi\xF3n en el combate","Disminuye la resistencia m\xE1gica del portador","Aumenta la susceptibilidad a enfermedades","Produce insomnio en el portador","Causa alergias en el portador","Disminuye la capacidad de sanaci\xF3n natural","Aumenta el hambre del portador","Provoca pesadillas en el portador","Aumenta la probabilidad de accidentes","Disminuye la esperanza de vida del portador","Aumenta el nivel de ansiedad","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Ninguno","Potencia el Veneno","Potencia el fuego","Potencia el Hielo","Reducir tristeza","Reducir miedo","Reducir ansiedad","El personaje equipado se siente saciado","Ofrece cierta comodidad","Da suerte","Curar heridas leves","Curar heridas graves","Curar enfermedades","Curar envenenamiento","Cura","Aumenta la Fuerza","Regeneraci\xF3n","Agilidad","Velocidad","Invisibilidad","Protecci\xF3n","Resistencia al fuego","Resistencia al hielo","Resistencia al veneno","Resistencia a la electricidad","Resistencia a la magia","Inmunidad a enfermedades","Inmunidad al veneno","Inmunidad al fuego","Inmunidad al hielo","Inmunidad a la electricidad","Absorci\xF3n de magia","Reflejar da\xF1o","Absorci\xF3n de vida","Absorci\xF3n de mana","Reflejar hechizos","Clarividencia","Telequinesis","Levitar","Teletransportaci\xF3n","Visi\xF3n nocturna","Aumentar inteligencia","Aumentar sabidur\xEDa","Aumentar carisma","Aumentar destreza","Aumentar constituci\xF3n","Aumentar percepci\xF3n","Aumentar suerte","Aumentar creatividad","Aumentar concentraci\xF3n","Aumentar energ\xEDa","Aumentar moral","Aumentar valent\xEDa","Aumentar serenidad","Aumentar felicidad","Aumentar amor","Aumentar compasi\xF3n","Aumentar empat\xEDa","Aumentar paciencia","Aumentar autocontrol","Aumentar autodisciplina","Aumentar equilibrio","Aumentar paz interior","Aumentar espiritualidad","Aumentar conocimiento","Aumentar sabidur\xEDa antigua","Aumentar intuici\xF3n","Aumentar sexto sentido","Aumentar percepci\xF3n del tiempo","Aumentar percepci\xF3n del espacio","Aumentar percepci\xF3n de la realidad","Aumentar percepci\xF3n de la verdad","Aumentar percepci\xF3n de las mentiras","Aumentar percepci\xF3n de las intenciones","Aumentar percepci\xF3n de los sentimientos","Aumentar percepci\xF3n de los pensamientos","Aumentar percepci\xF3n de la naturaleza","Aumentar percepci\xF3n de los esp\xEDritus","Aumentar percepci\xF3n de los elementos","Aumentar percepci\xF3n de la magia","Aumentar percepci\xF3n del cosmos","Aumentar percepci\xF3n del universo","Aumentar percepci\xF3n del tiempo y espacio","Aumentar percepci\xF3n de la vida y la muerte","Aumentar percepci\xF3n de los sue\xF1os","Aumentar percepci\xF3n de las pesadillas","Aumentar percepci\xF3n de las ilusiones","Aumentar percepci\xF3n de las realidades alternativas","Aumentar percepci\xF3n de las dimensiones paralelas","Aumentar percepci\xF3n de los planos astrales","Aumentar percepci\xF3n de los planos et\xE9reos","Aumentar percepci\xF3n de los planos infernales","Aumentar percepci\xF3n de los planos celestiales"];console.log(K1);var Q1=(()=>{let e=class e{constructor(r){this.dataList=r,this.nivel=1}allRandom(){this.buscar(),this.inspeccionar(),this.detectar()}buscar(){let r=this.calcularPorcentaje();this.tipoDeOjbeto=this.dataList.tiposDeObjetos[r[0]],this.sobrenombre=this.dataList.sobrenombres[r[1]],this.itemDescription=this.dataList.itemDescription[r[4]].descripcion,console.log(this.itemDescription)}inspeccionar(){let r=this.calcularPorcentaje();this.material=this.dataList.materiales[r[2]],console.log(this.sobrenombre)}detectar(){let r=this.calcularPorcentaje();this.efectoMagico=this.dataList.efectosMagicos[r[3]],console.log(this.efectoMagico)}calcularPorcentaje(){let r=this.nivel*5,i=Math.floor(r/100*this.dataList.efectosMagicos.length),s=Math.floor(r/100*this.dataList.materiales.length),o=Math.floor(r/100*this.dataList.efectosMagicos.length);return[Math.floor(Math.random()*this.dataList.tiposDeObjetos.length),Math.floor(Math.random()*i),Math.floor(Math.random()*s),Math.floor(Math.random()*o),Math.floor(Math.random()*this.dataList.itemDescription.length)]}};e.\u0275fac=function(i){return new(i||e)(Q(W1))},e.\u0275cmp=ke({type:e,selectors:[["app-items"]],standalone:!0,features:[Oe],decls:35,vars:6,consts:[[1,"row"],[1,"section-heading"],["type","number","id","nivel","name","nivel","min","1","max","20",3,"ngModelChange","ngModel"],[3,"click"],[1,"section-subtitle"],[1,"item-container"],[1,"item-field"],["src","img/company-images/inventory.png","alt","icon",1,"icon",3,"click"],[1,"client-overlay"],[1,"item-info"],["src","img/company-images/map.png","alt","icon",1,"icon",3,"click"],["src","img/company-images/investigar.png","alt","icon",1,"icon",3,"click"],[1,"descripcion"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"div",1)(2,"h2",1),N(3,"Generador de objetos"),M(),x(4,"form")(5,"input",2),Gi("ngModelChange",function(a){return Eo(s.nivel,a)||(s.nivel=a),a}),M(),Ee(6,"br"),x(7,"button",3),J("click",function(){return s.allRandom()}),N(8," Todo aleatorio "),M()(),x(9,"p",4),N(10," Genera de forma aleatoria un objeto. A mayor puntuaci\xF3n / nivel, mejores oportunidades de encontrar objetos especiales (m\xE1ximo D20) "),M()(),x(11,"div",5)(12,"div",6)(13,"img",7),J("click",function(){return s.buscar()}),M(),x(14,"button",3),J("click",function(){return s.buscar()}),N(15," Buscar un objeto "),M(),x(16,"div",8)(17,"span",9),N(18),M()()(),x(19,"div",6)(20,"img",10),J("click",function(){return s.inspeccionar()}),M(),x(21,"button",3),J("click",function(){return s.inspeccionar()}),N(22," Inspeccionar material "),M(),x(23,"div",8)(24,"span",9),N(25),M()()(),x(26,"div",6)(27,"img",11),J("click",function(){return s.detectar()}),M(),x(28,"button",3),J("click",function(){return s.detectar()}),N(29," Escrutar propiedades "),M(),x(30,"div",8)(31,"span",9),N(32),M()()()(),x(33,"span",12),N(34),M()()),i&2&&(L(5),Hi("ngModel",s.nivel),L(13),_o(" ",s.tipoDeOjbeto," ",s.sobrenombre," "),L(7),de(" ",s.material," "),L(7),de(" ",s.efectoMagico," "),L(2),de(' " ',s.itemDescription,' " '))},dependencies:[vi,B1,yi,el,Ia,L1,tl,QE,ks,KE],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.item-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.item-field[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #ddd;border-radius:8px;padding:20px;text-align:center;width:300px;box-shadow:0 2px 4px #0000001a;transition:transform .2s ease-in-out;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.item-field[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.icon[_ngcontent-%COMP%]{width:60px;margin-bottom:10px;cursor:pointer;transition:transform .2s ease-in-out}.icon[_ngcontent-%COMP%]:hover{transform:scale(1.2)}button[_ngcontent-%COMP%]{margin:10px 0;font-weight:400;color:#212529;text-align:center;cursor:pointer;background-color:#e4e09f;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#c2a048;border-color:#423c22}button[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #52501080}button[_ngcontent-%COMP%]:active{background-color:#8f7531;border-color:#e4e09f;box-shadow:inset 0 3px 5px #00000020}.client-overlay[_ngcontent-%COMP%]{margin-top:10px}.item-info[_ngcontent-%COMP%]{background-color:#dbd8cd;font-weight:100;border:2px inset rgb(122,117,102);padding:10px;display:block;text-transform:uppercase;color:#000}.descripcion[_ngcontent-%COMP%]{display:block;padding:20px;max-width:80vw;background-color:#dbd8cd;font-weight:100;text-align:center;font-size:1.2em;font-style:italic;margin:20px auto;border-radius:8px;box-shadow:0 2px 4px #0000001a}@media (max-width: 1000px){.item-field[_ngcontent-%COMP%]{width:100%;max-width:90vw;margin:10px}.descripcion[_ngcontent-%COMP%]{text-align:left;padding:10px;font-size:1em}.icon[_ngcontent-%COMP%]{margin:auto}}"]});let t=e;return t})();var Y1=[{nombre:"Uriel",fisico:"Joven atl\xE9tico de rostro afable y lleno de energ\xEDa",personalidad:"A pesar de su edad, parece alguien ing\xE9nuo y sin muchas expectativas.",presente:"Actualmente trabaja en una florister\xEDa a un par de calles, suele tener un trato cercano con los clientes.",pasado:"En su infancia vivi\xF3 un evento traum\xE1tico del que no le gusta hablar, aunque se sabe que perdi\xF3 a toda su familia.",motivacion:"Tras una larga conversaci\xF3n, te das cuenta de que su mirada oculta las cicatrices de un pasado remoto."},{nombre:"Rubi",fisico:"Se\xF1ora de mediana edad de melena enmara\xF1ada y rostro cansado",personalidad:"Su forma de expresarse tiende a ser m\xE1s bien cortante, aunque transmite cierta honestenidad.",presente:"Regenta una posada de las posadas m\xE1s caras del lugar, aunque su ropa no parece acorde a su posici\xF3n.",pasado:"Hace a\xF1os era una persona influyente, presume de haberse codeado con la alta sociedad.",motivacion:"No sabes por qu\xE9, pero hay algo dentro de ti que te est\xE1 diciendo a gritos que todo lo que te ha contado se trata de pura fachada."},{nombre:"Caty",fisico:"Mujer de unos treinta a\xF1os, rubia y de constituci\xF3n m\xE1s bien robusta.",personalidad:"Habla con tono pausado y voz amable, como si quisiera tranquilizar siempre a todos los dem\xE1s.",presente:"Se dedica a cuidar a todo el mundo a su alrededor, aunque no sabes si por oficio o por vocaci\xF3n.",pasado:"Tras un incidente que no recuerda, perdi\xF3 la memoria y ahora trata de recuperarla.",motivacion:"Sus palabras son c\xE1lidas y tranquilizadoras. Da la sensaci\xF3n de que, si se lo pidi\xE9seis, os ayudar\xEDa en lo que fuera."},{nombre:"Odin",fisico:"Joven de constituci\xF3n atl\xE9tica y tatuajes tribales.",personalidad:"Su comportamiento es err\xE1tico y a veces violento.",presente:"Lleva una vida solitaria en la ciudad, lejos de su peque\xF1o pueblo natal.",pasado:"Decidi\xF3 mudarse a la ciudad, dejando atr\xE1s su vida anterior.",motivacion:"A veces, se le ve hablando solo en callejones oscuros, lo que sugiere que oculta algo."},{nombre:"Vera",fisico:"Mujer de cabello largo y lacio con una mirada perdida.",personalidad:"Su tono de voz es siempre calmado, casi hipn\xF3tico.",presente:"Pasa mucho tiempo en solitario en su peque\xF1a casa, despu\xE9s de haber viajado por varios pa\xEDses.",pasado:"Decidi\xF3 asentarse en una peque\xF1a casa tras muchos viajes.",motivacion:"Hay noches en que su casa emite extra\xF1os ruidos, lo que despierta la curiosidad de los vecinos."},{nombre:"Kian",fisico:"Hombre de mediana edad con cicatrices en el rostro.",personalidad:"Tiene una actitud serena, pero sus ojos siempre est\xE1n alerta.",presente:"Ahora vive con un nombre diferente, tras haber cambiado de identidad.",pasado:"Tuvo un accidente que lo cambi\xF3 para siempre y decidi\xF3 cambiar de identidad.",motivacion:"Se asegura de no dejar huellas en ning\xFAn lugar que visita, sugiriendo que esconde algo importante."},{nombre:"Liora",fisico:"Joven de figura esbelta y movimientos gr\xE1ciles.",personalidad:"Siempre parece estar en un estado de alerta constante.",presente:"Vive de forma n\xF3mada, buscando siempre la libertad.",pasado:"Creci\xF3 en una comunidad cerrada, de la que decidi\xF3 escapar en busca de libertad.",motivacion:"Lleva consigo un libro antiguo con s\xEDmbolos extra\xF1os, que guarda celosamente."},{nombre:"Taro",fisico:"Hombre de complexi\xF3n robusta y mirada dura.",personalidad:"Habla poco y parece siempre estar evaluando a los dem\xE1s.",presente:"Tiene habilidades que pocos conocen, adquiridas en un entorno hostil.",pasado:"Creci\xF3 en un entorno hostil, lo que le llev\xF3 a aprender a defenderse.",motivacion:"Sus manos est\xE1n siempre fr\xEDas, incluso en verano, lo que intriga a quienes lo conocen."},{nombre:"Sela",fisico:"Mujer de mediana edad con ojos siempre sombreados.",personalidad:"Habla en susurros y nunca levanta la voz.",presente:"Lleva una vida discreta en la ciudad, tras haber huido de un monasterio aislado.",pasado:"Pas\xF3 a\xF1os en un monasterio aislado, de donde huy\xF3 para vivir en la ciudad.",motivacion:"En su casa, hay un altar con velas siempre encendidas, que sugiere una conexi\xF3n con su pasado."},{nombre:"Miko",fisico:"Joven de aspecto delgado y ojos siempre dilatados.",personalidad:"Habla poco y siempre parece estar en otro mundo.",presente:"Busca respuestas a trav\xE9s de medios poco convencionales despu\xE9s de un accidente que lo dej\xF3 sin memoria.",pasado:"Despu\xE9s de perder la memoria en un accidente, se dedic\xF3 a investigar m\xE9todos alternativos para recuperar sus recuerdos.",motivacion:"A veces se encuentra en lugares donde nadie m\xE1s se atreve a ir, mostrando un valor temerario."},{nombre:"Niam",fisico:"Hombre de complexi\xF3n media y ojos que nunca parpadean.",personalidad:"Su presencia es perturbadora, aunque siempre educado.",presente:"Lleva una vida aparentemente tranquila, aunque proviene de una familia conocida por sus pr\xE1cticas extra\xF1as.",pasado:"Decidi\xF3 distanciarse de su familia y vivir una vida normal, aunque algo no cuadra.",motivacion:"Se dice que a veces desaparece durante d\xEDas sin dejar rastro, lo que despierta sospechas entre sus vecinos."},{nombre:"Orin",fisico:"Hombre de aspecto robusto y mirada intensa.",personalidad:"Siempre parece estar planeando algo, pero nunca lo revela.",presente:"Dedicado a la horticultura, pasa sus d\xEDas en un invernadero, tras haber vivido en varias ciudades.",pasado:"Vivi\xF3 en diversas ciudades antes de encontrar paz en la horticultura.",motivacion:"Sus plantas parecen crecer de manera inquietantemente r\xE1pida, lo que intriga a quienes lo conocen."},{nombre:"Mira",fisico:"Joven de cabello corto y ojos vivos.",personalidad:"Se muestra alegre, pero su sonrisa nunca llega a sus ojos.",presente:"Su casa est\xE1 llena de artefactos extra\xF1os, recogidos durante sus viajes tras trabajar en un circo ambulante.",pasado:"Trabaj\xF3 en un circo ambulante y decidi\xF3 explorar diferentes culturas.",motivacion:"Algunos objetos en su colecci\xF3n parecen moverse por s\xED solos, creando un ambiente misterioso."},{nombre:"Zan",fisico:"Hombre alto con una sombra perpetua bajo sus ojos.",personalidad:"Habla con un tono monocorde que genera incomodidad.",presente:"Trabaja en emergencias m\xE9dicas, aunque creci\xF3 en una familia muy unida.",pasado:"Decidi\xF3 estudiar medicina tras una infancia en una familia muy unida.",motivacion:"A veces murmura cosas en lat\xEDn cuando est\xE1 solo, lo que a\xF1ade un aura de misterio a su persona."},{nombre:"Nela",fisico:"Mujer de mediana edad con una expresi\xF3n melanc\xF3lica.",personalidad:"Siempre parece estar en un estado de nostalgia profunda.",presente:"Sus obras de arte son inquietantes, reflejando una p\xE9rdida importante que sufri\xF3 hace a\xF1os.",pasado:"Perdi\xF3 algo muy importante hace a\xF1os y decidi\xF3 volcarse en la pintura.",motivacion:"Al darte la vuelta, parece que siguen observ\xE1ndote, creando una sensaci\xF3n de inquietud."},{nombre:"Miko",fisico:"Joven de aspecto delgado y ojos siempre dilatados.",personalidad:"Habla poco y siempre parece estar en otro mundo.",presente:"Busca respuestas a trav\xE9s de medios poco convencionales despu\xE9s de un accidente que lo dej\xF3 sin memoria.",pasado:"Despu\xE9s de perder la memoria en un accidente, se dedic\xF3 a investigar m\xE9todos alternativos para recuperar sus recuerdos.",motivacion:"A veces se encuentra en lugares donde nadie m\xE1s se atreve a ir, mostrando un valor temerario."},{nombre:"Niam",fisico:"Hombre de complexi\xF3n media y ojos que nunca parpadean.",personalidad:"Su presencia es perturbadora, aunque siempre educado.",presente:"Lleva una vida aparentemente tranquila, aunque proviene de una familia conocida por sus pr\xE1cticas extra\xF1as.",pasado:"Decidi\xF3 distanciarse de su familia y vivir una vida normal, aunque algo no cuadra.",motivacion:"Se dice que a veces desaparece durante d\xEDas sin dejar rastro, lo que despierta sospechas entre sus vecinos."},{nombre:"Orin",fisico:"Hombre de aspecto robusto y mirada intensa.",personalidad:"Siempre parece estar planeando algo, pero nunca lo revela.",presente:"Dedicado a la horticultura, pasa sus d\xEDas en un invernadero, tras haber vivido en varias ciudades.",pasado:"Vivi\xF3 en diversas ciudades antes de encontrar paz en la horticultura.",motivacion:"Sus plantas parecen crecer de manera inquietantemente r\xE1pida, lo que intriga a quienes lo conocen."},{nombre:"Mira",fisico:"Joven de cabello corto y ojos vivos.",personalidad:"Se muestra alegre, pero su sonrisa nunca llega a sus ojos.",presente:"Su casa est\xE1 llena de artefactos extra\xF1os, recogidos durante sus viajes tras trabajar en un circo ambulante.",pasado:"Trabaj\xF3 en un circo ambulante y decidi\xF3 explorar diferentes culturas.",motivacion:"Algunos objetos en su colecci\xF3n parecen moverse por s\xED solos, creando un ambiente misterioso."},{nombre:"Zan",fisico:"Hombre alto con una sombra perpetua bajo sus ojos.",personalidad:"Habla con un tono monocorde que genera incomodidad.",presente:"Trabaja en emergencias m\xE9dicas, aunque creci\xF3 en una familia muy unida.",pasado:"Decidi\xF3 estudiar medicina tras una infancia en una familia muy unida.",motivacion:"A veces murmura cosas en lat\xEDn cuando est\xE1 solo, lo que a\xF1ade un aura de misterio a su persona."},{nombre:"Nela",fisico:"Mujer de mediana edad con una expresi\xF3n melanc\xF3lica.",personalidad:"Siempre parece estar en un estado de nostalgia profunda.",presente:"Es artista, pero sus obras de arte son inquietantes, reflejando una p\xE9rdida importante que sufri\xF3 hace a\xF1os.",pasado:"Perdi\xF3 algo muy importante hace a\xF1os y decidi\xF3 volcarse en la pintura.",motivacion:"A veces, los personajes de sus pinturas parecen observarte, creando una sensaci\xF3n de inquietud."},{nombre:"Nera",fisico:"Mujer con una complexi\xF3n delgada y ojos hundidos.",personalidad:"Su risa nerviosa y mirada perdida sugieren un desequilibrio.",presente:"Aunque se deja ver fuera del bosque, se ha acostumbrado a vivir sola en una caba\xF1a.",pasado:"Dicen que hace un tiempo estuvo en un sanatorio, pero eso es un episodio que prefiere no recordar.",motivacion:"A veces susurra cosas ininteligibles, como si hablara con alguien que no est\xE1 presente."},{nombre:"Zoren",fisico:"Hombre alto y delgado con ojos penetrantes.",personalidad:"Se muestra siempre encantador, aunque parece calculador.",presente:"Ofrece 'servicios especiales' a quienes pueden pagarlos, usando habilidades adquiridas como ilusionista en circos.",pasado:"Trabaj\xF3 como ilusionista en circos antes de decidir usar sus habilidades para otros fines.",motivacion:"Los que se atreven a mirarlo fijamente aseguran haber visto algo inhumano en sus ojos."},{nombre:"Dalia",fisico:"Mujer de cabello largo y oscuro, siempre vestida de negro.",personalidad:"Habla en voz baja y pausada, lo que crea una atm\xF3sfera tensa.",presente:"Vive en un antiguo caser\xF3n lleno de secretos, tras decidir no seguir el oscuro legado de su familia.",pasado:"Proviene de una familia con un oscuro legado, aunque decidi\xF3 no seguir sus pasos.",motivacion:"Se ha visto luz en su casa a altas horas de la noche, acompa\xF1ada de murmullos."},{nombre:"Ivan",fisico:"Hombre corpulento con tatuajes visibles en su cuello.",personalidad:"Se muestra siempre serio y reservado.",presente:"Lleva una vida tranquila, lejos de la ciudad, despu\xE9s de a\xF1os en prisi\xF3n.",pasado:"Pas\xF3 a\xF1os en prisi\xF3n y decidi\xF3 empezar de nuevo lejos de la ciudad.",motivacion:"Se rumorea que realiza rituales en el bosque cercano, manteniendo vivo su pasado oscuro."},{nombre:"Lyra",fisico:"Joven de cabello rizado y sonrisa encantadora.",personalidad:"Habla de forma dulce, pero su mirada es inquietante.",presente:"Explora el mundo exterior con un af\xE1n contagioso por los minerales y las gemas.",pasado:"Creci\xF3 en una comunidad cerrada y misteriosa antes de decidir explorar el mundo exterior.",motivacion:"A veces susurra en un idioma antiguo que nadie puede entender, dejando a todos intrigados."},{nombre:"Jared",fisico:"Hombre de mediana edad con una cicatriz en el rostro.",personalidad:"Su voz es suave, pero su risa suena forzada.",presente:"Ha publicado varios libros sobre lo paranormal, porque en realidad sigue muy afligido por la p\xE9rdida de un familiar muy querido.",pasado:"Perdi\xF3 a su familia en circunstancias extra\xF1as y decidi\xF3 dedicarse a investigar lo paranormal.",motivacion:"Sus vecinos aseguran que a veces escuchan gritos provenientes de su casa, a\xF1adiendo misterio a su vida."},{nombre:"Leda",fisico:"Mujer de complexi\xF3n fuerte y cabello corto.",personalidad:"Se muestra siempre decidida y confiada.",presente:"Lleva una vida normal, aunque evita ciertos lugares y personas.",pasado:"Creci\xF3 en un orfanato donde ocurrieron cosas extra\xF1as y decidi\xF3 nunca hablar de su pasado.",motivacion:"Se dice que tiene una colecci\xF3n de objetos con propiedades inquietantes, que guarda celosamente."},{nombre:"Dara",fisico:"Joven de figura delgada y movimientos gr\xE1ciles.",personalidad:"Siempre parece estar en otro mundo, so\xF1adora y dispersa.",presente:"Ha publicado varias obras, pero a\xFAn busca su gran historia.",pasado:"Tras una infancia llena de fantas\xEDas y cuentos, decidi\xF3 dedicarse a la escritura.",motivacion:"Su mente parece ser un laberinto del que pocos pueden escapar."},{nombre:"Eran",fisico:"Hombre robusto con manos grandes y callosas.",personalidad:"Se muestra siempre dispuesto a ayudar, aunque de manera ruda.",presente:"A\xFAn est\xE1 adapt\xE1ndose a su nueva vida urbana.",pasado:"Creci\xF3 en una granja y desde joven trabaj\xF3 duro. Decidi\xF3 mudarse a la ciudad para buscar mejores oportunidades.",motivacion:"Su apariencia fuerte oculta una gran sensibilidad."},{nombre:"Ilan",fisico:"Joven con una figura atl\xE9tica y ojos llenos de vida.",personalidad:"Siempre est\xE1 sonriendo y parece que nada puede abatirlo.",presente:"Ha tenido \xE9xito, pero su pasado a\xFAn lo persigue.",pasado:"Despu\xE9s de un fracaso personal, decidi\xF3 reinventarse y empezar de nuevo.",motivacion:"Su optimismo podr\xEDa ser una m\xE1scara para algo m\xE1s profundo."},{nombre:"Kara",fisico:"Mujer de complexi\xF3n fuerte y mirada desafiante.",personalidad:"Se muestra siempre independiente y segura de s\xED misma.",presente:"Al hablar de s\xED mismo, parece que ha logrado mucho, pero siempre busca m\xE1s.",pasado:"Tras una vida de constantes desaf\xEDos, decidi\xF3 enfrentarlos con todas sus fuerzas.",motivacion:"No hay se\xF1ales claras de que est\xE9 ocultando algo."},{nombre:"Luca",fisico:"Hombre de mediana edad con un aire misterioso.",personalidad:"Siempre parece estar observando todo desde las sombras.",presente:"Ahora vive una vida solitaria, pero tranquila.",pasado:"Despu\xE9s de una traici\xF3n, decidi\xF3 mantenerse al margen de las relaciones personales.",motivacion:"Su comportamiento sugiere que tiene secretos."},{nombre:"Eldar",fisico:"Hombre de mirada intensa y cicatrices en las manos.",personalidad:"Su voz es calmada, pero su mirada parece esconder algo oscuro.",presente:"Ahora vive aislado, en constante meditaci\xF3n.",pasado:"Creci\xF3 en una familia religiosa que lo expuls\xF3. Decidi\xF3 encontrar su propio camino espiritual.",motivacion:"Hay noches en las que su rostro se transforma en una mueca aterradora."},{nombre:"Bela",fisico:"Mujer alta y esbelta con una sonrisa enigm\xE1tica.",personalidad:"Suele hablar en met\xE1foras, lo que hace dif\xEDcil entender sus intenciones.",presente:"Sus canciones han tenido un \xE9xito moderado, aunque parecen esconder un mensaje m\xE1s profundo.",pasado:"Despu\xE9s de perderlo todo en un incendio, decidi\xF3 dedicarse a la m\xFAsica para expresar su dolor.",motivacion:"La profundidad de sus palabras sugiere una historia no contada."},{nombre:"Jara",fisico:"Joven de aspecto fr\xE1gil y cabello desordenado.",personalidad:"Habla de forma directa y sin rodeos, lo que puede resultar intimidante.",presente:"A\xFAn est\xE1 en ese viaje, sin un destino claro.",pasado:"Huy\xF3 de su hogar a temprana edad. Decidi\xF3 buscar su lugar en el mundo.",motivacion:"No parece haber nada que sugiera una doble intenci\xF3n."},{nombre:"Lior",fisico:"Hombre fornido con cicatrices visibles en sus brazos.",personalidad:"Se muestra siempre protector y atento a los dem\xE1s.",presente:"Ha encontrado una especie de paz en su nueva vida.",pasado:"Despu\xE9s de servir en el ej\xE9rcito, decidi\xF3 dedicarse a ayudar a los necesitados.",motivacion:"No hay indicios de que est\xE9 ocultando nada en particular... y eso resulta a\xFAn m\xE1s sospechoso."},{nombre:"Nela",fisico:"Mujer de mediana edad con cabello gris y ojos tristes.",personalidad:"Siempre muestra una sonrisa amable, aunque parece forzada.",presente:"Ha hecho muchas cosas buenas, pero parece que a\xFAn sufre en silencio.",pasado:"Despu\xE9s de perder a su hijo, decidi\xF3 dedicar su vida a la caridad.",motivacion:"Su tristeza sugiere que guarda algo en lo m\xE1s profundo."},{nombre:"Gabi",fisico:"Joven con una expresi\xF3n siempre alerta y mirada r\xE1pida.",personalidad:"Es muy reservado y parece analizar todo lo que dices.",presente:"Ha aprendido a sobrevivir por sus propios medios.",pasado:"Tras una infancia dif\xEDcil en la calle, decidi\xF3 que nunca m\xE1s depender\xEDa de nadie.",motivacion:"Es imposible saber si est\xE1 diciendo la verdad o no."},{nombre:"Yona",fisico:"Hombre de estatura media y mirada penetrante.",personalidad:"Habla poco, pero sus palabras siempre son acertadas.",presente:"Ha encontrado algunas respuestas, pero no todas.",pasado:"Despu\xE9s de un tr\xE1gico accidente que lo dej\xF3 sin familia, decidi\xF3 buscar respuestas en la filosof\xEDa.",motivacion:"Su serenidad esconde una tormenta interna."},{nombre:"Zara",fisico:"Joven de cabello color miel y sonrisa encantadora.",personalidad:"Se muestra siempre optimista, aunque parece esconder algo.",presente:"Ha conseguido mucho, pero parece que algo falta en su vida.",pasado:"Tras varios intentos fallidos en el amor, decidi\xF3 centrarse en su carrera profesional.",motivacion:"Hay una melancol\xEDa en sus ojos que sugiere un secreto."},{nombre:"Samuel",fisico:"Joven adulto que parece haber envejecido prematuramente, a juzgar por las ojeras y las cicatrices de su cara.",personalidad:"Se expresa siempre con un aire desenfadado, como si pretendiese que no le preocupa nada.",presente:"A\xFAn est\xE1 intentando decidir cu\xE1l ser\xE1 el pr\xF3ximo paso en su vida.",pasado:"No recuerda nada de su infancia, simplemente un d\xEDa se despert\xF3 y ya estaba 'all\xED'... \xBFa d\xF3nde se referir\xE1 con 'all\xED'?.",motivacion:"A juzgar por su forma de hablar, te das cuenta de que es muy dif\xEDcil separar la verdad de lo que se est\xE1 inventando. \xBFPero qu\xE9 est\xE1 tramando?"},{nombre:"Elias",fisico:"Hombre delgado con barba desordenada y ojos inquietos.",personalidad:"Su comportamiento siempre parece calculado, pero con una pizca de desd\xE9n.",presente:"Anda rebuscando de un lugar a otro, pero parece que a\xFAn no ha encontrado lo que buscaba.",pasado:"Despu\xE9s de a\xF1os en el extranjero, decidi\xF3 regresar a su ciudad natal para reencontrarse con su pasado.",motivacion:"Es dif\xEDcil decir qu\xE9 es lo que realmente busca."},{nombre:"Mara",fisico:"Joven de cabellos oscuros y ojos penetrantes.",personalidad:"Siempre se muestra serena, pero con una mirada que parece juzgarlo todo.",presente:"Ahora vive una vida sencilla, pero no parece arrepentirse.",pasado:"Proviene de una familia adinerada que cay\xF3 en desgracia. Decidi\xF3 independizarse para empezar de cero.",motivacion:"No hay nada en su comportamiento que sugiera otra cosa que no sea lo que ves."},{nombre:"Aldric",fisico:"Hombre mayor con una barba blanca cuidadosamente recortada y gafas sobre la nariz.",personalidad:"Siempre tranquilo y reflexivo, parece estar perdido en sus pensamientos la mayor parte del tiempo.",presente:"Actualmente reside en una biblioteca, rodeado de pergaminos y libros antiguos.",pasado:"Desde joven mostr\xF3 un inter\xE9s insaciable por el conocimiento. Ha dedicado su vida a estudiar y preservar la historia y la sabidur\xEDa.",motivacion:"Su mayor deseo es desentra\xF1ar los misterios que yacen ocultos en textos antiguos y artefactos olvidados."},{nombre:"Elara",fisico:"Mujer de mediana edad con cabello recogido y un delantal manchado de hierbas.",personalidad:"Amable y maternal, siempre dispuesta a escuchar y ayudar a los dem\xE1s con sus problemas.",presente:"Posee una peque\xF1a botica en el centro del pueblo, donde mezcla pociones y prepara remedios para curar enfermedades comunes.",pasado:"Aprendi\xF3 el arte de la herbolaria y la alquimia de su abuela, quien era famosa por sus curaciones milagrosas.",motivacion:"Su mayor anhelo es descubrir nuevas f\xF3rmulas y remedios que puedan aliviar el sufrimiento de la gente."},{nombre:"Silvana",fisico:"Mujer \xE1gil y escurridiza, vestida con ropas oscuras y una capa que oculta sus movimientos.",personalidad:"Astuta y sigilosa, con una sonrisa p\xEDcara que refleja su amor por el riesgo y la emoci\xF3n del robo.",presente:"Se mueve por las sombras de la ciudad, robando a los ricos y distribuyendo entre los pobres.",pasado:"Creci\xF3 en la calle, aprendiendo a sobrevivir con maestr\xEDa y habilidades que la convirtieron en la mejor ladrona de la regi\xF3n.",motivacion:"Su mayor ambici\xF3n es acumular suficiente riqueza para retirarse en una isla paradis\xEDaca, lejos de la ley y de sus perseguidores."},{nombre:"Kaela",fisico:"Mujer alta y fuerte, con piel curtida y cabello atado en una coleta para mayor comodidad.",personalidad:"Persona valiente y decidida, con una mirada que revela su destreza en la caza y su amor por la naturaleza.",presente:"En su tiempo libre recorre los bosques y monta\xF1as en busca de bestias salvajes para cazar, asegurando la supervivencia de su aldea.",pasado:"Desde joven aprendi\xF3 las artes de la caza y la supervivencia de su padre, un legendario cazador de la regi\xF3n.",motivacion:"Su mayor deseo es proteger a su comunidad."},{nombre:"Cedric",fisico:"Hombre mayor con una mirada compasiva y un aura de serenidad que irradia confianza.",personalidad:"Devoto y piadoso, siempre encuentra consuelo en las palabras sagradas y en la ayuda a los necesitados.",presente:"Es el l\xEDder espiritual de una peque\xF1a capilla en las afueras del pueblo, donde ofrece consejo y gu\xEDa espiritual a los fieles.",pasado:"Desde joven fue instruido en los caminos de la fe por su abuelo, un respetado cl\xE9rigo de la orden religiosa local.",motivacion:"Su mayor anhelo es propagar la paz y el amor divino entre los creyentes, siendo un faro de esperanza en tiempos de adversidad."},{nombre:"Liliana",fisico:"Joven bailarina con gracia y encanto en cada movimiento, vestida con telas fluidas que danzan con ella.",personalidad:"Apasionada y expresiva, su danza es una forma de comunicar emociones profundas y contar historias sin palabras.",presente:"Act\xFAa en el teatro local, donde cautiva al p\xFAblico con sus actuaciones llenas de energ\xEDa y elegancia.",pasado:"Desde ni\xF1a mostr\xF3 un talento natural para la danza, entrenando bajo la tutela de maestros renombrados en la ciudad.",motivacion:"Su mayor sue\xF1o es convertirse en una bailarina famosa (\xBFqui\xE9n lo iba a decir...?), reconocida por su habilidad para transportar a los espectadores a mundos de fantas\xEDa y emoci\xF3n."},{nombre:"Gareth",fisico:"Hombre alto y musculoso, con una armadura robusta y una espada afilada siempre a su lado.",personalidad:"De personalidad seria y centrada, muestra una determinaci\xF3n f\xE9rrea y un compromiso inquebrantable con su honor y deber.",presente:"Se dedica al arte de la guerra en el ej\xE9rcito, donde destaca por su valent\xEDa y estrategia.",pasado:"Desde joven fue entrenado en las artes de la guerra por su padre, un veterano de numerosas campa\xF1as militares.",motivacion:"Su mayor deseo es proteger  a su gente, defendiendo la justicia y combatiendo la injusticia donde sea que se encuentre."},{nombre:"Elena",fisico:"Mujer joven con una expresi\xF3n astuta y una sonrisa cautivadora, vestida con telas exquisitas y joyas brillantes.",personalidad:"Perspicaz y persona carism\xE1tica, siempre busca la mejor oferta y tiene un talento innato para las negociaciones.",presente:"Dirige una pr\xF3spera tienda en el mercado central, donde comercia con bienes de todo el reino.",pasado:"Desde joven aprendi\xF3 los secretos del comercio de su abuelo, un reconocido mercader que viajaba por tierras lejanas.",motivacion:"Su mayor ambici\xF3n es expandir su imperio comercial, acumulando riquezas y poder que le aseguren un lugar entre los m\xE1s influyentes de la regi\xF3n."}];var J1=(()=>{let e=class e{constructor(){this.npcList=Y1}randomize(){let r=Math.floor(Math.random()*this.npcList.length);this.personaje={nombre:this.npcList[r].nombre,fisico:this.npcList[r].fisico,personalidad:this.npcList[Math.floor(Math.random()*this.npcList.length)].personalidad,presente:this.npcList[Math.floor(Math.random()*this.npcList.length)].presente,pasado:this.npcList[Math.floor(Math.random()*this.npcList.length)].pasado,motivacion:this.npcList[Math.floor(Math.random()*this.npcList.length)].motivacion}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Q3(t,e){if(t&1){let n=fc();x(0,"span",8)(1,"img",9),J("click",function(i){qi(n);let s=Gt();return Ui(s.revelar(i))}),M(),x(2,"span",10)(3,"b"),N(4,"Nombre: "),M(),N(5),M(),x(6,"button",4),J("click",function(){qi(n);let i=Gt();return Ui(i.edit())}),N(7," Editar "),M()()}if(t&2){let n=Gt();L(5),Dt(n.personaje==null?null:n.personaje.nombre)}}function Y3(t,e){if(t&1){let n=fc();x(0,"span",8)(1,"input",11),Gi("ngModelChange",function(i){qi(n);let s=Gt();return Eo(s.personaje.nombre,i)||(s.personaje.nombre=i),Ui(i)}),M(),x(2,"button",4),J("click",function(){qi(n);let i=Gt();return Ui(i.edit())}),N(3," Confirmar "),M()()}if(t&2){let n=Gt();L(),Hi("ngModel",n.personaje.nombre)}}var X1=(()=>{let e=class e{constructor(r,i){this.npc=r,this.el=i,this.personaje=this.npc.personaje,this.editing=!1}generate(){this.npc.randomize(),this.personaje=this.npc.personaje}edit(){this.editing=!this.editing}revelar(r){let i=this.el.nativeElement.querySelectorAll(".texto-descripcion"),o=r.target.nextElementSibling;o.textContent?.trim()?o.style.display=o.style.display==="none"?"inline":"none":(this.generate(),i.forEach(a=>{a.style.display="none",o.style.display="inline"}))}};e.\u0275fac=function(i){return new(i||e)(Q(J1),Q(Vn))},e.\u0275cmp=ke({type:e,selectors:[["app-npc"]],standalone:!0,features:[Oe],decls:29,vars:5,consts:[[1,"row"],[1,"section-heading"],[1,"section-title"],[1,"section-subtitle"],[3,"click"],[1,"personajes-info"],["src","img/company-images/person.png","alt","Company",1,"img-npc",3,"click"],[1,"info-container"],[1,"item-info"],["src","img/company-images/investigar.png",1,"button-reveal",3,"click"],[1,"texto-descripcion"],["type","text",2,"display","inline",3,"ngModelChange","ngModel"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"div",1)(2,"h2",2),N(3,"Generador de NPC - Personajes"),M(),x(4,"p",3),N(5,"Genera de forma aleatoria un NPC o un personaje dentro de la historia."),M(),x(6,"button",4),J("click",function(){return s.generate()}),N(7," Randominzar NPC "),M()(),x(8,"div",5)(9,"img",6),J("click",function(){return s.generate()}),M(),x(10,"div",7),Lt(11,Q3,8,1,"span",8)(12,Y3,4,1,"span",8),x(13,"span",8)(14,"img",9),J("click",function(a){return s.revelar(a)}),M(),x(15,"span",10),N(16),M()(),x(17,"span",8)(18,"img",9),J("click",function(a){return s.revelar(a)}),M(),x(19,"span",10),N(20),M()(),x(21,"span",8)(22,"img",9),J("click",function(a){return s.revelar(a)}),M(),x(23,"span",10),N(24),M()(),x(25,"span",8)(26,"img",9),J("click",function(a){return s.revelar(a)}),M(),x(27,"span",10),N(28),M()()()()()),i&2&&(L(11),Gd(s.editing===!1?11:12),L(5),Dt(s.personaje==null?null:s.personaje.fisico),L(4),Dt(s.personaje==null?null:s.personaje.presente),L(4),Dt(s.personaje==null?null:s.personaje.pasado),L(4),Dt(s.personaje==null?null:s.personaje.motivacion))},dependencies:[vi,yi,Ia,ks],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.personajes-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:20px;margin-top:20px}.img-npc[_ngcontent-%COMP%]{width:150px;height:auto;cursor:pointer;transition:transform .2s ease-in-out}.img-npc[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;flex:1}input[type=text][_ngcontent-%COMP%]{max-width:400px;padding:10px;display:inline}.item-info[_ngcontent-%COMP%]{background-color:#dbd8cd;font-weight:100;border:2px inset rgb(122,117,102);font-style:italic;color:#000;padding:10px;display:flex;align-items:center;gap:10px;border-radius:5px}.button-reveal[_ngcontent-%COMP%]{width:30px;cursor:pointer;transition:opacity .2s ease-in-out}.button-reveal[_ngcontent-%COMP%]:hover{opacity:.7}@media (max-width: 1000px){.personajes-info[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.img-npc[_ngcontent-%COMP%]{display:none}.item-info[_ngcontent-%COMP%]{text-align:left;flex-direction:column;align-items:flex-start}}"]});let t=e;return t})();var J3=ZI({"../../../public/data/impostor_word/impostor_1.json":()=>import("./chunk-T3AHAKPE.js"),"../../../public/data/impostor_word/impostor_2.json":()=>import("./chunk-N53ZIZSH.js"),"../../../public/data/impostor_word/impostor_3.json":()=>import("./chunk-ZPYES3TJ.js"),"../../../public/data/impostor_word/impostor_4.json":()=>import("./chunk-B47WG2SV.js"),"../../../public/data/impostor_word/impostor_5.json":()=>import("./chunk-IMTUKPNG.js")});var JE=(()=>{let e=class e{constructor(){this.firestore=q(Ps),this.TOTAL_LOTES=1}shuffleImpostor(r,i){return _(this,null,function*(){let s=[],{default:o}=yield J3(`../../../public/data/impostor_word/impostor_${i}.json`),a=Object.keys(o),u=Math.floor(Math.random()*a.length),l=a[u],h=o[l],p=Math.floor(Math.random()*r);for(let g=0;g<r;g++)g===p?s.push(`IMPOSTOR \u2014 pista: ${h}`):s.push(`palabra clave: ${l}`);return s})}connectToSesion(r,i,s,o,a,u){return _(this,null,function*(){let l=pR(this.firestore,"sesiones"),h=IR(l,DR("sesionName","==",r)),p=yield TR(h);if(!p.empty){let S=p.docs[0].data();return j({id:p.docs[0].id},S)}let g={sesionName:r,dificultad:i,numPlayers:s,palabra:o,pista:a,impostor:u},v=yield SR(l,g);return j({id:v.id},g)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X3(t,e){t&1&&(x(0,"span"),N(1,"Palabras comunes y pista bastante aproximada para el impostor."),M())}function Z3(t,e){t&1&&(x(0,"span"),N(1,"Palabras poco comunes y pista aproximada para el impostor."),M())}function e6(t,e){t&1&&(x(0,"span"),N(1,"Palabras poco comunes y pista ambigua para el impostor."),M())}function t6(t,e){t&1&&(x(0,"span"),N(1,"Palabras bastante rebuscadas y pista ambigua para el impostor."),M())}function n6(t,e){t&1&&(x(0,"span"),N(1,"Palabras muy rebuscadas y pista muy ambigua para el impostor."),M())}function r6(t,e){if(t&1&&(x(0,"div",11),iy(1,12),Lt(2,X3,2,0,"span",13)(3,Z3,2,0,"span",13)(4,e6,2,0,"span",13)(5,t6,2,0,"span",13)(6,n6,2,0,"span",13),sy(),M()),t&2){let n=Gt();L(),at("ngSwitch",n.difficulty),L(),at("ngSwitchCase",1),L(),at("ngSwitchCase",2),L(),at("ngSwitchCase",3),L(),at("ngSwitchCase",4),L(),at("ngSwitchCase",5)}}function i6(t,e){if(t&1&&(x(0,"div",14),N(1),M()),t&2){let n=Gt();L(),de(" ",n.error," ")}}function s6(t,e){if(t&1){let n=fc();x(0,"div",17)(1,"button",18),J("click",function(){let i=qi(n).index,s=Gt(2);return Ui(s.toggleItem(i))}),N(2),M(),x(3,"div",19)(4,"span",20),N(5),M()()()}if(t&2){let n=e.$implicit,r=e.index;L(2),de(" Jugador ",r+1," "),L(),pc("id","player-",r,""),L(2),Dt(n)}}function o6(t,e){if(t&1&&(x(0,"div",15),Lt(1,s6,6,4,"div",16),M()),t&2){let n=Gt();L(),at("ngForOf",n.results)}}var eP=(()=>{let e=class e{constructor(r){this.impostorService=r,this.numPlayers=3,this.difficulty=1,this.results=[],this.submitted=!1,this.error=""}submitPlayers(r){return _(this,null,function*(){if(this.error="",this.numPlayers<3){this.error="Debe haber al menos 3 jugadores.";return}this.results=yield this.impostorService.shuffleImpostor(this.numPlayers,r),this.submitted=!0})}toggleItem(r){let i=document.getElementById(`player-${r}`);i&&i.classList.toggle("d-none")}};e.\u0275fac=function(i){return new(i||e)(Q(JE))},e.\u0275cmp=ke({type:e,selectors:[["app-impostor"]],standalone:!0,features:[Oe],decls:25,vars:14,consts:[[1,"container","mt-4"],[1,"mb-3"],[1,"form-label","fw-bold"],[1,"d-flex","gap-2","flex-wrap"],[1,"btn","btn-outline-secondary",3,"click"],["class","alert alert-info mt-2",4,"ngIf"],[1,"input-group"],["type","number","min","3","placeholder","Ej: 6",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"],["class","text-danger mt-1",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"alert","alert-info","mt-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"text-danger","mt-1"],[1,"mt-4"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],["type","button",1,"btn","btn-outline-dark","w-100","text-start",3,"click"],[1,"border","rounded","p-2","mt-1","d-none",3,"id"],[1,"fw-bold"]],template:function(i,s){i&1&&(x(0,"div",0)(1,"div",1)(2,"label",2),N(3,"Nivel de dificultad"),M(),x(4,"div",3)(5,"button",4),J("click",function(){return s.difficulty=1}),N(6," F\xE1cil "),M(),x(7,"button",4),J("click",function(){return s.difficulty=2}),N(8," Normal "),M(),x(9,"button",4),J("click",function(){return s.difficulty=3}),N(10," Medio "),M(),x(11,"button",4),J("click",function(){return s.difficulty=4}),N(12," Dif\xEDcil "),M(),x(13,"button",4),J("click",function(){return s.difficulty=5}),N(14," Extremo "),M()()(),Lt(15,r6,7,6,"div",5),x(16,"div",1)(17,"label",2),N(18,"N\xFAmero de jugadores"),M(),x(19,"div",6)(20,"input",7),Gi("ngModelChange",function(a){return Eo(s.numPlayers,a)||(s.numPlayers=a),a}),M(),x(21,"button",8),J("click",function(){return s.submitPlayers(s.difficulty)}),N(22," Generar "),M()(),Lt(23,i6,2,1,"div",9),M(),Lt(24,o6,2,1,"div",10),M()),i&2&&(L(5),jn("active",s.difficulty===1),L(2),jn("active",s.difficulty===2),L(2),jn("active",s.difficulty===3),L(2),jn("active",s.difficulty===4),L(2),jn("active",s.difficulty===5),L(2),at("ngIf",s.difficulty),L(5),Hi("ngModel",s.numPlayers),L(3),at("ngIf",s.error),L(),at("ngIf",s.submitted))},dependencies:[Ji,Jd,ZT,yy,eS,vi,yi,el,Ia,tl,ks],encapsulation:2});let t=e;return t})();var tP=[{path:"",redirectTo:"scenario",pathMatch:"full"},{path:"impostor",component:eP},{path:"scenario",component:b1},{path:"items",component:Q1},{path:"npc",component:X1}];var nP={providers:[jT({eventCoalescing:!0}),GS(tP,WS()),wA(()=>_A(JR)),_x(()=>Ex()),QR(()=>YR())]};var rP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-footer"]],standalone:!0,features:[Oe],decls:4,vars:0,consts:[["id","contacto"],["id","grid-container"]],template:function(i,s){i&1&&(x(0,"footer",0)(1,"div",1)(2,"div"),N(3," Email: fjzamora93gmail.com "),M()()())},styles:["footer[_ngcontent-%COMP%]{padding:20px;align-items:center;justify-content:center;background-color:#292732;max-width:100%;color:#fff}"]});let t=e;return t})();var iP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-header"]],standalone:!0,features:[Oe],decls:20,vars:0,consts:[["id","nav-list"],["routerLink","/impostor"],["routerLink","/scenario"],["routerLink","/items"],["routerLink","/npc"],["id","logo"],["src","img/icons/armour.png","alt","Landing Page"]],template:function(i,s){i&1&&(x(0,"header")(1,"nav")(2,"ul",0)(3,"li")(4,"a",1),N(5,"IMPOSTOR"),M()(),N(6,"| "),x(7,"li")(8,"a",2),N(9,"ESCENARIOS"),M()(),N(10,"| "),x(11,"li")(12,"a",3),N(13,"OBJETOS"),M()(),N(14,"| "),x(15,"li")(16,"a",4),N(17,"PERSONAJES"),M()()(),x(18,"div",5),Ee(19,"img",6),M()()())},dependencies:[HS],styles:["header[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:10px}nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}#logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}#nav-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex}#nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 10px}#nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333}#nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ffc400}"]});let t=e;return t})();var a6=["*"],sP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-template"]],standalone:!0,features:[Oe],ngContentSelectors:a6,decls:3,vars:0,template:function(i,s){i&1&&(AT(),Ee(0,"app-header"),xT(1),Ee(2,"app-footer"))},dependencies:[rP,iP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.main-content[_ngcontent-%COMP%]{flex:1}"]});let t=e;return t})();var oP=(()=>{let e=class e{constructor(){this.title="RolGenerator"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-root"]],standalone:!0,features:[Oe],decls:3,vars:0,consts:[[1,"main-content"]],template:function(i,s){i&1&&(x(0,"app-template")(1,"div",0),Ee(2,"router-outlet"),M()())},dependencies:[ov,Ji,sP,vi],styles:["app-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.main-content[_ngcontent-%COMP%]{flex:1}.container[_ngcontent-%COMP%]{width:80%;margin:auto;text-align:center}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input[type=submit][_ngcontent-%COMP%]{width:100%;background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;border-radius:4px;cursor:pointer}input[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}"]});let t=e;return t})();uS(oP,nP).catch(t=>console.error(t));
